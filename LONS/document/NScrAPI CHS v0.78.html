<html dir="ltr"><head><title>NScripter API手册 (非官方) Ver.0.78</title><link rel="stylesheet" type="text/css" href="napi.css" /></head><body dir="ltr"><div id="HEADER"><a name="top" id="top"></a><h5>命令的背景色</h5><table id="BGCOLOR_EXPLANATION_TABLE"><tr><td width="75" bgcolor="#FFCCCC">特别定义语</td><td>具有特别意义的单词或者标签</td></tr><tr><td width="75" bgcolor="#FFFFCC">F类命令</td><td>只在定义部分使用的命令</td></tr><tr><td width="75" bgcolor="#CCFFFF">E类命令</td><td>只在执行部分使用的命令</td></tr><tr><td width="75" bgcolor="#CCFFCC">F・E类命令</td><td>定义部分和执行部分均可使用的命令</td></tr><tr><td width="75" bgcolor="#CCCCFF">特殊文字</td><td>显示文字中用来代替命令使用的特殊文字</td></tr></table><h5>命令的赋值</h5><table id="VALUE_EXPLANATION_TABLE"><col width="75" style="background-color:#e0e0e0" /><col width="75" style="background-color:#e0e0e0" /><col /><tr><td>NAME</td><td>名称</td><td>以大写字母小写字母或者&#39;_&#39;开始的英文数字列</td></tr><tr><td>LABEL</td><td>标签名</td><td>*后接NAME的文字串</td></tr><tr><td>NUM</td><td>数值</td><td>数字字符串，&#39;+&#39;， &#39;-&#39;，&#39;*&#39;，&#39;/&#39;连接的数值式</td></tr><tr><td>STR</td><td>文字串</td><td>’“‘包含起来的文字串原则为全角</td></tr><tr><td>%VAR</td><td>数字变量</td><td>储存数值的变量</td></tr><tr><td>$VAR</td><td>文字变量</td><td>储存文字串的变量</td></tr><tr><td>COLOR</td><td>颜色值</td><td>以#和6个16进制字符组成的RGB值</td></tr><tr><td>EFFECT</td><td>效果编号</td><td>效果定义的编号或默认的效果</td></tr><tr><td>{}</td><td>预定义</td><td>一个或者多个，预先定义的名称</td></tr><tr><td>CONDITION</td><td>条件表达式</td><td>比较操作符，检查指令返回的布尔值</td></tr><tr><td>SENTENCE</td><td>执行文字</td><td>将单一指令用&#39;:&#39;区别分割构成的多个指令</td></tr><tr><td>&#39;&#39;</td><td>构成文字</td><td>构成命令的文字或者文字串</td></tr><tr><td>[]</td><td>省略值</td><td>表示一个省略的可能值范围</td></tr><tr><td>...</td><td>重复</td><td>表示可能的重复的部分</td></tr></table><h5>编号和值的范围</h5><table id="NUMBER_RANGE_TABLE"><col width="85" style="background-color:#e0e0e0" /><col width="75" style="background-color:#e0e0e0" /><col /><tr><td>变量编号</td><td>0～4095</td><td>4096个，初始值可能未知。</td></tr><tr><td>数组编号</td><td>0～</td><td>没有上限？大量使用有很大的内存不足的危险。</td></tr><tr><td>精灵编号</td><td>0～999</td><td>指定超过1000的数字会出错。</td></tr><tr><td>扩展精灵编号</td><td>0～255</td><td>指定超过512的数字会出错。</td></tr><tr><td>效果编号</td><td>2～255</td><td>指定超过256的数字会出错。</td></tr><tr><td>按钮编号</td><td>1～</td><td>没有上限？没有必要太担心。</td></tr><tr><td>通道</td><td>0～49</td><td>记载在新手册中</td></tr></table><h5>版本相关</h5><table id="VERSION_EXPLANATION_TABLE"><tr><td width="75" bgcolor="#EFEFEF">2.82</td><td>Lua中未实现的最终版本</td></tr><tr><td width="75" bgcolor="#EFEFEF">2.95</td><td>98/Me/2000中相应的最终版本</td></tr><tr><td width="75" bgcolor="#EFEFEF">2.96</td><td>XP之后的对应版本</td></tr></table><br /></div><div id="QUICKTABLE"><div id="LIST"><h5 id="category_startend">游戏开始・重置・结束命令</h5><div class="Word SD"><span class="WordLiteral"><a title="Ver.2.48 特别定义语
*define
" href="#*define">*define</a></span><span class="Function">定义部分的开始标签</span></div><div class="Word SD"><span class="WordLiteral"><a title="Ver.2.48 特别定义语
*start
" href="#*start">*start</a></span><span class="Function">执行部分的开始标签</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
definereset
" href="#definereset">definereset</a></span><span class="Function">重新执行剧本</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
end
" href="#end">end</a></span><span class="Function">结束游戏，关闭窗口</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分game
" href="#game">game</a></span><span class="Function">结束定义部分，执行游戏</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
reset
" href="#reset">reset</a></span><span class="Function">重置游戏</span></div><h5 id="category_format">脚本格式相关命令</h5><div class="Word SD"><span class="WordLiteral"><a title="Ver.2.48 特别定义语
$变量编号" href="#$">$</a></span><span class="Function">文字变量前缀</span></div><div class="Word SD"><span class="WordLiteral"><a title="Ver.2.48 特别定义语
%变量编号
" href="javascript:void(0);">％</a></span><span class="Function">数字变量前缀</span></div><div class="Word SD"><span class="WordLiteral"><a title="Ver.2.48 特别定义语
*标签名" href="#*">*</a></span><span class="Function">标签前缀</span></div><div class="Word S"><span class="WordLiteral"><a title="Ver.2.48 特殊文字
/
" href="#/">/</a></span><span class="Function">忽略换行</span></div><div class="Word SD"><span class="WordLiteral"><a title="Ver.2.48 特别定义语
:
" href="#:">：</a></span><span class="Function">在一行中连接多个命令</span></div><div class="Word SD"><span class="WordLiteral"><a title="Ver.2.48 特别定义语
;" href="#;">;</a></span><span class="Function">这个记号之后的一行被视为注释</span></div><div class="Word SD"><span class="WordLiteral"><a title="Ver.2.48 特别定义语
?数组编号
" href="#?">?</a></span><span class="Function">数组变量前缀</span></div><div class="Word S"><span class="WordLiteral"><a title="Ver.2.48 特殊文字
{文字变量或者数字变量，字符串或数值（...）}" href="#%7B%7D">{}</a></span><span class="Function">括起文字串中的变量值</span></div><div class="Word SD"><span class="WordLiteral"><a title="Ver.2.48 特别定义语
~
" href="#~">~</a></span><span class="Function">jumpf和jumpb命令的中止点</span></div><h5 id="category_textwindow">文字窗口命令</h5><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分btnnowindowerase" href="#btnnowindowerase">btnnowindowerase</a></span><span class="Function">显示按钮的时候，不消除文字窗口的显示</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
erasetextwindow 标志
" href="#erasetextwindow">erasetextwindow</a></span><span class="Function">显示效果的时候不会消除文字窗口</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.67 定义部分・执行部分两用
font 字体名称
" href="#font">font</a></span><span class="Function">改变文字窗口的字体</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
gettext $结果变量
" href="#gettext">gettext</a></span><span class="Function">获得文字窗口现在显示的文字</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分noteraseman
" href="#noteraseman">noteraseman</a></span><span class="Function">消除窗口时，不消除立绘。</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
setwindow 文字的左上角坐标Ｘ，Ｙ，横向文字数，纵向，文字大小Ｘ，Ｙ，字间距Ｘ，Ｙ，默认显示速度，粗体标志（０普通１粗体），阴影标志（０普通１阴影）, 图像文件名，窗口左上角坐标Ｘ，Ｙ
setwindow 文字的左上角坐标Ｘ，Ｙ，横向文字数，纵向，文字大小Ｘ，Ｙ，字间距Ｘ，Ｙ，默认显示速度，粗体标志（０普通１粗体），阴影标志（０普通１阴影）, 窗口颜色值，窗口左上角Ｘ，Ｙ，右下角Ｘ，Ｙ
" href="#setwindow">setwindow</a></span><span class="Function">文字窗口和文字的表示方式设定</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
setwindow2 &quot;窗口CG文件名&quot;
setwindow2 #指定颜色
" href="#setwindow2">setwindow2</a></span><span class="Function">仅变更窗口的显示方式</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
setwindow3 文字的左上角坐标Ｘ,Ｙ,横向文字数,纵向,文字大小Ｘ,Ｙ,字间距Ｘ,Ｙ,默认显示速度,粗体标志（０普通１粗体）,阴影标志（０普通１阴影）,图像文件名,窗口左上角Ｘ,Ｙ
setwindow3  文字的左上角坐标Ｘ,Ｙ,横向文字数,纵向,文字大小Ｘ,Ｙ,字间距Ｘ,Ｙ,默认显示速度,粗体标志（０普通１粗体）,阴影标志（０普通１阴影）,窗口颜色,窗口左上角Ｘ,Ｙ,右下角Ｘ,Ｙ
" href="#setwindow3">setwindow3</a></span><span class="Function">不清除回想模式的缓冲区的setwindow</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
tateyoko 标志
" href="#tateyoko">tateyoko</a></span><span class="Function">竖行文字模式</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
textoff
" href="#textoff">textoff</a></span><span class="Function">消除文字窗口</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
texton
" href="#texton">texton</a></span><span class="Function">显示文字窗口</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
textspeeddefault
" href="#textspeeddefault">textspeeddefault</a></span><span class="Function">将文字的显示速度设为默认</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分windowchip chip化的精灵编号
" href="#windowchip">windowchip</a></span><span class="Function">指定和文字窗口一起出现和消失的精灵</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
windoweffect 指定的效果
" href="#windoweffect">windoweffect</a></span><span class="Function">指定文字窗口的效果</span></div><h5 id="category_drawtext">文字显示命令</h5><div class="Word S"><span class="WordLiteral"><a title="Ver.2.48 特殊文字
!s文字显示速度
" href="#!s">!s</a></span><span class="Function">指定文字的显示速度</span></div><div class="Word S"><span class="WordLiteral"><a title="Ver.2.48 特殊文字
#rrggbb
" href="#">#</a></span><span class="Function">改变文字颜色</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
br
" href="#br">br</a></span><span class="Function">在显示文章中插入空行</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分defaultfont 字体名
" href="#defaultfont">defaultfont</a></span><span class="Function">指定字体类型</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
locate 显示文字的左上x坐标,显示文字的左上y坐标
" href="#locate">locate</a></span><span class="Function">不改变文字窗口设定的情况下改变文字显示位置</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
puttext 显示字符串
" href="#puttext">puttext</a></span><span class="Function">在if或其他命令之后显示文字</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
shadedistance x位置,y位置
" href="#shadedistance">shadedistance</a></span><span class="Function">指定阴影的位置</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
textclear
" href="#textclear">textclear</a></span><span class="Function">清楚显示的文字</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
textspeed 文字显示速度
" href="#textspeed">textspeed</a></span><span class="Function">改变文字的显示速度</span></div><h5 id="category_click">等待点击相关命令</h5><div class="Word S"><span class="WordLiteral"><a title="Ver.2.48 特殊文字
@
" href="#@">@</a></span><span class="Function">等待点击</span></div><div class="Word S"><span class="WordLiteral"><a title="Ver.2.48 特殊文字
_
" href="#_">_</a></span><span class="Function">无视下一个鼠标点击</span></div><div class="Word S"><span class="WordLiteral"><a title="Ver.2.48 特殊文字
\
" href="#%5C">\</a></span><span class="Function">等待换页</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
format 点击等待时间（毫秒）
" href="#autoclick">autoclick</a></span><span class="Function">无需点击鼠标自动在剧本上前进</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
click
" href="#click">click</a></span><span class="Function">不显示等待点击的光标，等待一次点击</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分clickstr 等待点击的字符集合,等待换页的剩余行数
" href="#clickstr">clickstr</a></span><span class="Function">特定的文字出现时等待鼠标点击</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分clickvoice 等待点击效果音文件,等待换页效果音文件
" href="#clickvoice">clickvoice</a></span><span class="Function">点击时播放声音</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分linepage
" href="#linepage">linepage</a></span><span class="Function">每一行等待一次鼠标点击</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.49 仅执行部分
lrclick
" href="#lrclick">lrclick</a></span><span class="Function">等待一次左键点击或者右键点击</span></div><h5 id="category_cursor">光标相关命令</h5><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
abssetcursor 光标编号(0:等待点击，1:等待翻页),光标图像文件,绝对X坐标,Y坐标
" href="#abssetcursor">abssetcursor</a></span><span class="Function">在一个固定位置显示一个等待点击的光标</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
getnextline %下一行的行首的x坐标,%y坐标
" href="#getnextline">getnextline</a></span><span class="Function">获得即将显示的下一行的行头位置</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
mousecursor 鼠标指针文件
" href="#mousecursor">mousecursor</a></span><span class="Function">设定鼠标光标图像</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.93 仅执行部分
mousemode 鼠标指针显示标志
" href="#mousemode">mousemode</a></span><span class="Function">切换鼠标光标的显示</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
movemousecursor 移动目的地x坐标,y坐标
" href="#movemousecursor">movemousecursor</a></span><span class="Function">将鼠标移动图像上任意某个位置</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
setcursor 光标编号(0:等待点击，1:等待翻页),光标图像文件,相对X坐标,Y坐标
" href="#setcursor">setcursor</a></span><span class="Function">设定等待时的光标的图像文件</span></div><h5 id="category_image">图像显示命令</h5><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
allsphide
" href="#allsphide">allsphide</a></span><span class="Function">隐藏所有的精灵</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
allspresume
" href="#allspresume">allspresume</a></span><span class="Function">显示allsphide命令隐藏的精灵</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
amsp 要移动的精灵编号,绝对X坐标,Y坐标,不透明度
" href="#amsp">amsp</a></span><span class="Function">改变精灵的显示位置（方法2）</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
bg 背景图像文件,效果
bg 背景色,效果
bg 黑色或白色,效果
" href="#bg">bg</a></span><span class="Function">显示背景图像</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分bgalia 背景左上x坐标,y坐标,图像宽,图像高
" href="#bgalia">bgalia</a></span><span class="Function">显示特殊大小的背景图像</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.50 仅执行部分
bgcopy
" href="#bgcopy">bgcopy</a></span><span class="Function">取得现在的画面上的背景图像</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
blt 画面x,画面y,画面宽,画面高,按钮图像x,按钮图像y,按钮图像宽,按钮图像高
" href="#blt">blt</a></span><span class="Function">快速地在画面上显示图像</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
cell 精灵编号,分格编号
" href="#cell">cell</a></span><span class="Function">直接指定精灵的分格</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
cl 立绘消除位置,效果
" href="#cl">cl</a></span><span class="Function">消去显示的立绘</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
csp 要删除的精灵编号
" href="#csp">csp</a></span><span class="Function">从内存上删除精灵</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.92 仅执行部分
effectskip 可否跳过标志
" href="#effectskip">effectskip</a></span><span class="Function">指定是否跳过效果</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.61 仅执行部分
getspmode 数字变量,精灵编号
" href="#getspmode">getspmode</a></span><span class="Function">检查精灵的显示状态</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.53 仅执行部分
getspsize 精灵编号,接受宽度变量,接受高度变量(,接受分格数的变量)
" href="#getspsize">getspsize</a></span><span class="Function">获得精灵的大小</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
humanorder 字符串,效果编号
" href="#humanorder">humanorder</a></span><span class="Function">指定立绘之间的优先顺序</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.非正式 定义部分·执行部分两用humanpos 左X坐标,中X坐标,右X坐标
" href="#humanpos">humanpos</a></span><span class="Function">设定立绘的基准位置</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分humanz 立绘精灵编号
" href="#humanz">humanz</a></span><span class="Function">当立绘和精灵重叠时，指定优先顺序</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
ld 立绘位置,立绘图像文件,效果
" href="#ld">ld</a></span><span class="Function">显示立绘</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
lsp 精灵编号,图像文件,左上X坐标,Y坐标(,不透明度)
" href="#lsp">lsp</a></span><span class="Function">将精灵以显示的状态从内存中读出</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
lsp 精灵编号,图像文件,左上X坐标,Y坐标(,不透明度)
" href="#lsph">lsph</a></span><span class="Function">将精灵以不显示的状态从内存中读出</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
msp 要移动的精灵编号,相对X坐标,Y坐标,不透明度
" href="#msp">msp</a></span><span class="Function">改变精灵的显示位置（方法1）</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
ofscpy
" href="#ofscpy">ofscpy</a></span><span class="Function">用blt命令将绘制的图像转移至offscreen buffer中</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
print 效果
" href="#print">print</a></span><span class="Function">显示状态为可以显示的图像消除状态为不能显示的图像</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
repaint
" href="#repaint">repaint</a></span><span class="Function">重新绘制画面</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
spfont &quot;字体名&quot;,宽度,高度,横向字间距,纵向,粗体标志,阴影标志
spfont clear
" href="#spfont">spfont</a></span><span class="Function">指定精灵上的字符串的字体</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
spstr 要执行的控制字符串
" href="#spstr">spstr</a></span><span class="Function">切换复合按键文字串的动画显示与隐藏</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.62 仅执行部分
strsp 精灵编号,字符串,左上角Ｘ,左上角Ｙ,横向文字数,纵向文字数,字宽,字高,字间距Ｘ,字间距Ｙ,粗体标志(0or1),阴影标志(0or1)(,指定的颜色)...
" href="#strsp">strsp</a></span><span class="Function">从内存中调出复数行文字串的动画</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.81 仅执行部分
strsph 精灵编号,字符串,左上角Ｘ,左上角Ｙ,横向文字数,纵向文字数,字宽,字高,字间距Ｘ,字间距Ｙ,粗体标志(0or1),阴影标志(0or1)(,指定的颜色)...

" href="#strsph">strsph</a></span><span class="Function">以隐藏状态从内存中调出复数行文字串的动画</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
tal 立绘位置,透明度,效果
" href="#tal">tal</a></span><span class="Function">更改立绘的透明度</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分transmode 透过模式
" href="#transmode">transmode</a></span><span class="Function">将alpha混合的透明部分的默认设定改变</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
underline 立绘的底端坐标
" href="#underline">underline</a></span><span class="Function">确定立绘的最低线</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
vsp 切换显示状态的精灵编号,显示标志
" href="#vsp">vsp</a></span><span class="Function">在精灵的显示和不显示状态中切换</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分windowback
" href="#windowback">windowback</a></span> <span class="Function">将文本窗口与立绘插入同一位置</span></div><h5 id="category_visualeffect">图像效果</h5><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分effect 效果编号,预置效果编号,效果时间,掩模文件" href="#effect">effect</a></span><span class="Function">设定效果</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分effectblank 效果等待时间
" href="#effectblank">effectblank</a></span><span class="Function">指定效果结束后的等待时间</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分effectcut
" href="#effectcut">effectcut</a></span><span class="Function">「跳至下一选择支」时、瞬间显示所有的效果</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
flushout 效果时间
" href="#flushout">flushout</a></span><span class="Function">特殊效果</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
monocro 基调色
monocro off
" href="#monocro">monocro</a></span><span class="Function">画面单色化</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.96 仅执行部分
mosaicin 马赛克最大尺寸,分割数,时间
" href="#mosaicin">mosaicin</a></span><span class="Function">表现马赛克消失的效果</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.96 仅执行部分
mosaicout 马赛克最大尺寸,分割数,时间
" href="#mosaicout">mosaicout</a></span><span class="Function">表现马赛克化的效果</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
nega 显示标志
" href="#nega">nega</a></span><span class="Function">显示颜色反转</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
quake 振幅,时间
" href="#quake">quake</a></span><span class="Function">摇动画面</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
quakex 振幅,时间
" href="#quakex">quakex</a></span><span class="Function">横向摇动画面</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
quakey 振幅,时间
" href="#quakey">quakey</a></span><span class="Function">纵向摇动画面</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.非正式 仅执行部分seteffectspeed 指定效果
" href="#seteffectspeed">seteffectspeed</a></span><span class="Function">指定效果的显示速度</span></div><h5 id="category_var_bar">文字・数字・色块显示</h5><div class="Word S"><span class="WordLiteral"><a title="Ver.2.48 特殊文字
显示的文字变量" href="#$">$</a></span><span class="Function">文字变量的首字符</span></div><div class="Word S"><span class="WordLiteral"><a title="Ver.2.48 特殊文字
显示的数字变量" href="javascript:void(0);">%</a></span><span class="Function">数字变量的首字符</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
bar 条编号,现在值,x,y,宽,高,条长的最大值,颜色
" href="#bar">bar</a></span><span class="Function">设置要显示的色块</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
barclear
" href="#barclear">barclear</a></span><span class="Function">清除色块的设定</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
prnum 数值标签编号,现在值,显示位置的左上X坐标,现实位置的左上Y坐标,文字宽度,文字高度,文字颜色
" href="#prnum">prnum</a></span><span class="Function">设置一个显示的数值</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
prnumclear
" href="#prnumclear">prnumclear</a></span><span class="Function">清除显示的数值</span></div><h5 id="category_sound">音乐・音效命令</h5><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
bgm 文件名
" href="#bgm">bgm</a></span><span class="Function">循环播放背景音乐</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
bgmdownmode 标志" href="#bgmdownmode">bgmdownmode</a></span><span class="Function">语音时降低背景音乐音量</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
bgmfadein 淡入时间" href="#bgmfadein">bgmfadein</a></span><span class="Function">指定背景音乐渐入时间</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
bgmfadeout 淡出时间" href="#bgmfadeout">bgmfadeout</a></span><span class="Function">指定背景音乐渐出时间</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
bgmonce 文件名" href="#bgmonce">bgmonce</a></span><span class="Function">只播放一次背景音乐</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
bgmstop
" href="#bgmstop">bgmstop</a></span><span class="Function">停止播放背景音乐</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
bgmvol 音量
" href="#bgmvol">bgmvol</a></span><span class="Function">改变背景音乐的音量</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分cdfadeout 播放CD时的淡出时间(毫秒)
" href="#cdfadeout">cdfadeout</a></span><span class="Function">指定CD-DA的淡出时间</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分chkcdfile &quot;文件名&quot;,&quot;判断失败时候的消息&quot;
" href="#chkcdfile">chkcdfile</a></span><span class="Function">检查CD驱动器中是否有指定的文件存在</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分chkcdfile_ex %结果,&quot;文件名&quot;
" href="#chkcdfile_ex">chkcdfile_ex</a></span><span class="Function">检查CD驱动器中是否有指定的文件存在</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
chvol 通道编号,音量
" href="#chvol">chvol</a></span><span class="Function">改变dwave音轨的音量</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
dsound
" href="#dsound">dsound</a></span><span class="Function">声明使用DirectSound（现在很少使用这个命令）</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
dv 语音文件编号
" href="#dv">dv</a></span><span class="Function">播放dwave声音的省略写法</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
dwave 通道编号(0～49),WAVE文件名
" href="#dwave">dwave</a></span><span class="Function">使用DirectSound播放wav文件</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
dwaveload 通道编号(0～49),WAVE文件名
" href="#dwaveload">dwaveload</a></span><span class="Function">将wave文件读取到内存中</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
dwaveloop 通道编号(0～49),WAVE文件名
" href="#dwaveloop">dwaveloop</a></span><span class="Function">使用DirectSound循环播放wav文件</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
dwaveplay 通道编号
" href="#dwaveplay">dwaveplay</a></span><span class="Function">播放已经载入的wave文件</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
dwaveplayloop 通道编号
" href="#dwaveplayloop">dwaveplayloop</a></span><span class="Function">循环播放已经载入的wave文件</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
dwavestop
" href="#dwavestop">dwavestop</a></span><span class="Function">停止播放wav文件</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.非正式 仅执行部分getbgmvol %音量
" href="#getbgmvol">getbgmvol</a></span><span class="Function">获得背景音乐的音量</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.非正式 仅执行部分getmp3vol %音量
" href="#getmp3vol">getmp3vol</a></span><span class="Function">获得mp3的音量</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.非正式 仅执行部分getsevol %音量
" href="#getsevol">getsevol</a></span><span class="Function">获得音效的音量</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.非正式 仅执行部分getvoicevol %音量
" href="#getvoicevol">getvoicevol</a></span><span class="Function">获得语音的音量</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
loopbgm 起始部分文件名,循环部分温江明
" href="#loopbgm">loopbgm</a></span><span class="Function">循环播放背景音乐</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
loopbgmstop
" href="#loopbgmstop">loopbgmstop</a></span><span class="Function">停止循环播放背景音乐</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
mp3 MP3文件名
" href="#mp3">mp3</a></span><span class="Function">只播放一次压缩音乐文件</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
mp3fadein 淡入时间
" href="#mp3fadein">mp3fadein</a></span><span class="Function">指定背景音乐的渐入时间</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
mp3fadeout 淡出时间
" href="#mp3fadeout">mp3fadeout</a></span><span class="Function">指定背景音乐的渐出时间</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
mp3loop MP3文件名
" href="#mp3loop">mp3loop</a></span><span class="Function">循环播放压缩音乐文件</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
mp3save
" href="#mp3save">mp3save</a></span><span class="Function">保存播放中的音乐以便以后读取播放</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
mp3stop
" href="#mp3stop">mp3stop</a></span><span class="Function">停止播放压缩音乐</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
mp3vol 音量
" href="#mp3vol">mp3vol</a></span><span class="Function">改变背景音乐的音量</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
mv 声音文件编号:
" href="#mv">mv</a></span><span class="Function">播放MP3格式的语音</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
play MIDI文件名，或者CD音轨编号标签
" href="#play">play</a></span><span class="Function">循环播放CD-DA或MIDI</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
playonce MIDI文件名，或者CD音轨编号标签
" href="#playonce">playonce</a></span><span class="Function">只播放一次CD-DA或MIDI</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
playstop
" href="#playstop">playstop</a></span><span class="Function">停止播放CD-DA和MIDI</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
sevol 音量
" href="#sevol">sevol</a></span><span class="Function">改变音效的音量</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
stop
" href="#stop">stop</a></span><span class="Function">停止所有声音的播放</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
v 声音文件编号
" href="#v">v</a></span><span class="Function">播放语音命令的省略写法(wave)</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
voicevol 音量
" href="#voicevol">voicevol</a></span><span class="Function">改变语音的音量</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
wave WAVE文件名
" href="#wave">wave</a></span><span class="Function">播放WAVE</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
waveloop WAVE文件名
" href="#waveloop">waveloop</a></span><span class="Function">循环播放WAVE</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
wavestop
" href="#wavestop">wavestop</a></span><span class="Function">停止WAVE</span></div><h5 id="category_movieplay">视频播放命令</h5><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
avi 文件名,可否中断标志(0:播放到最后，1:点击则中断)
" href="#avi">avi</a></span><span class="Function">播放avi文件</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.49 仅执行部分
movie stop 或者 动画文件名[,pos,NUM,NUM,NUM,NUM][,&#39;click&#39;][,&#39;loop&#39;][,&#39;async&#39;])
" href="#movie">movie</a></span><span class="Function">播放电影</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
mpegplay 文件名,允许中断标签(0:播放到最后，1:点击中断)
" href="#mpegplay">mpegplay</a></span><span class="Function">播放mpeg文件</span></div><h5 id="category_select">选项命令</h5><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
select 选项,标签,...
" href="#select">select</a></span><span class="Function">显示选项</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分selectcolor 鼠标悬停时颜色,鼠标未悬停时颜色
" href="#selectcolor">selectcolor</a></span><span class="Function">指定选项文字的颜色</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分selectvoice 开启选项的时候播放的wave文件名,指向某一个选项时的播放的wave文件名,点击某个选项的时候播放的wave文件名
" href="#selectvoice">selectvoice</a></span><span class="Function">选择选项时播放声音</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
selgosub 选项,标签,...
" href="#selgosub">selgosub</a></span><span class="Function">显示跳转到子程序的选项</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
selnum 结果变量,选项,...
" href="#selnum">selnum</a></span><span class="Function">将选项的选择结果作为数值赋值到数值变量中</span></div><h5 id="category_jump">跳转命令</h5><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
gosub 跳转标签
" href="#gosub">gosub</a></span><span class="Function">调用子程序</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
goto 跳转标签
" href="#goto">goto</a></span><span class="Function">跳到指定标签</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
jumpb
" href="#jumpb">jumpb</a></span><span class="Function">跳到前一个~记号处</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
jumpf
" href="#jumpf">jumpf</a></span><span class="Function">跳到下一个~记号处</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
return 要回到的标签
" href="#return">return</a></span><span class="Function">从子程序返回</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
skip 跳过的行数
" href="#skip">skip</a></span><span class="Function">跳过指定行数的剧本文件</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
tablegoto %变量,*标签0,*标签1,...
" href="#tablegoto">tablegoto</a></span><span class="Function">根据变量值跳转</span></div><h5 id="category_trap">点击标志检查跳转</h5><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
lr_trap 左右键点击时跳转到的标签
lr_trap off
" href="#lr_trap">lr_trap</a></span><span class="Function">左右单击时跳跃至指定标签</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
lr_trap 左右键点击或者skip时跳转到的标签
lr_trap2 off
" href="#lr_trap2">lr_trap2</a></span><span class="Function">左右单击时弹出“前往下一个选项”跳跃到指定标签</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.55 仅执行部分
r_trap 跳转标签
r_trap off
" href="#r_trap">r_trap</a></span><span class="Function">右键单击时跳跃到指定标签</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
trap *标签
trap off
" href="#trap">trap</a></span><span class="Function">左键单击时跳跃到指定标签</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
trap2 左键点击或者skip时跳转到的标签
trap2 off
" href="#trap2">trap2</a></span><span class="Function">左键单击时弹出“前往下一个选项”跳跃到指定标签</span></div><h5 id="category_button">图像按钮</h5><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
按钮编号,显示位置X坐标,Y坐标,图像宽,图像高,原图像位置X坐标,Y坐标
" href="#btn">btn</a></span><span class="Function">将图像设置为按钮（方法１）</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
btndef 按钮文件名
btndef clear
" href="#btndef">btndef</a></span><span class="Function">将按钮图像预先读取到内存中</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
btntime 时间限制
" href="#btntime">btntime</a></span><span class="Function">设定计时按钮的时间</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
btntime2 按钮等待时间
" href="#btntime2">btntime2</a></span><span class="Function">与btntime功能相同，只是会等到语音结束</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
btnwait %输入结果
" href="#btnwait">btnwait</a></span><span class="Function">显示图像按钮并等待鼠标点击（方法1）</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
btnwait2 %输入结果
" href="#btnwait2">btnwait2</a></span><span class="Function">显示图像按钮并等待鼠标点击（方法2）</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.49 仅执行部分
cellcheckexbtn 精灵编号,按钮编号,控制字符串
" href="#cellcheckexbtn">cellcheckexbtn</a></span><span class="Function">精灵有两个及以上图像的情况下指定为复合按钮</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
cellcheckspbtn 精灵编号,按钮编号
" href="#cellcheckspbtn">cellcheckspbtn</a></span><span class="Function">精灵有两个及以上图像的情况下指定为按钮图像</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
exbtn 精灵编号,按钮编号,精灵控制字符串
" href="#exbtn">exbtn</a></span><span class="Function">复合按钮的按钮设定</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
exbtn_d 精灵控制字符串
" href="#exbtn_d">exbtn_d</a></span><span class="Function">使用复合按钮时鼠标指针不在任何一个之上的时候指定按钮的显示</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
getbtntimer %btnwait等待的秒数
" href="#getbtntimer">getbtntimer</a></span><span class="Function">获得btnwait的等待时间</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
spbtn 精灵编号,按钮编号
" href="#spbtn">spbtn</a></span><span class="Function">将精灵指定为按钮图像</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
transbtn
" href="#transbtn">transbtn</a></span><span class="Function">将按钮图像的透明部分设为无效</span></div><h5 id="category_wait_timer">等待・定时器</h5><div class="Word S"><span class="WordLiteral"><a title="Ver.2.48 特殊文字
!d等待时间
" href="#!d">!d</a></span><span class="Function">等待指定的时间</span></div><div class="Word S"><span class="WordLiteral"><a title="Ver.2.48 特殊文字
!w等待时间
" href="#!w">!w</a></span><span class="Function">无视鼠标点击等待指定的时间</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
delay 等待时间
" href="#delay">delay</a></span><span class="Function">等待一定时间（方法１）</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
gettimer %经过时间(毫秒)
" href="#gettimer">gettimer</a></span><span class="Function">得到内部计时器的值</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
resettimer
" href="#resettimer">resettimer</a></span><span class="Function">重置内部计时器</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
spwait 精灵编号
" href="#spwait">spwait</a></span><span class="Function">等待指定精灵动画的结束</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
wait 等待时间
" href="#wait">wait</a></span><span class="Function">等待一定时间（方法２）</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
waittimer 等待时间
" href="#waittimer">waittimer</a></span><span class="Function">等待内部计时器超过某个指定时间</span></div><h5 id="category_calc">算式・变量命令</h5><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
数值-数值
" href="#-">-</a></span><span class="Function">执行减法</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
数值*数值
" href="#*">*</a></span><span class="Function">执行乘法</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
数值/数值" href="#/">/</a></span><span class="Function">执行除法</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
数值+数值
被连接的字符串 + 要连接的字符串
" href="#+">+</a></span><span class="Function">执行加法</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
add 结果数字变量,要加的数值
add 结果文字变量,要加上的字符串
" href="#add">add</a></span><span class="Function">加法运算</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
atoi 结果数字变量,字符串
" href="#atoi">atoi</a></span><span class="Function">将文字串转换为数值</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
cos %变量编号,角度
" href="#cos">cos</a></span><span class="Function">余弦函数</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
dec 减1的数字变量
" href="#dec">dec</a></span><span class="Function">减1</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分dim ?数组编号[标签１][标签２](...)
" href="#dim">dim</a></span><span class="Function">定义数组变量</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
div 结果数字变量,除数
" href="#div">div</a></span><span class="Function">除法运算</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
inc 加1的数字变量
" href="#inc">inc</a></span><span class="Function">加1</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分intlimit 变量编号, 最小值, 最大值
" href="#intlimit">intlimit</a></span><span class="Function">设定变量的最大值和最小值</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
itoa 结果文字变量,数值
" href="#itoa">itoa</a></span><span class="Function">将数值转换为文字串</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.49 定义部分・执行部分两用
itoa2 $全角数字储存变量,数值
" href="#itoa2">itoa2</a></span><span class="Function">将数值转换为全角文字</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
len %长度,文字串
" href="#len">len</a></span><span class="Function">得到文字串的长度</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
mid $结果,&quot;字符串&quot;,其实文字位置,文字数
" href="#mid">mid</a></span><span class="Function">从文字串中取得部分文字</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
mod
" href="#mod">mod</a></span><span class="Function">取余数</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
mov 结果数字变量,要代入的数值
mov 结果文字变量,要代入的文字串
" href="#mov">mov</a></span><span class="Function">数字变量・文字变量赋值</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
mov10 %起始变量,代入数值1,代入数值2,代入数值3,代入数值4,代入数值5,代入数值6,代入数值7,代入数值8,代入数值9,代入数值10
" href="#mov10">mov10</a></span><span class="Function">为多个数字变量・文字变量赋值</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
mov3 %起始变量,代入数值1,代入数值2,代入数值3
" href="#mov3">mov3</a></span><span class="Function">为多个数字变量・文字变量赋值</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
mov4 %起始变量,代入数值1,代入数值2,代入数值3,代入数值4
" href="#mov4">mov4</a></span><span class="Function">为多个数字变量・文字变量赋值</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
mov5 %起始变量,代入数值1,代入数值2,代入数值3,代入数值4,代入数值5
" href="#mov5">mov5</a></span><span class="Function">为多个数字变量・文字变量赋值</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
mov6 %起始变量,代入数值1,代入数值2,代入数值3,代入数值4,代入数值5,代入数值6
" href="#mov6">mov6</a></span><span class="Function">为多个数字变量・文字变量赋值</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
mov7 %起始变量,代入数值1,代入数值2,代入数值3,代入数值4,代入数值5,代入数值6,代入数值7
" href="#mov7">mov7</a></span><span class="Function">为多个数字变量・文字变量赋值</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
mov8 %起始变量,代入数值1,代入数值2,代入数值3,代入数值4,代入数值5,代入数值6,代入数值7,代入数值8
" href="#mov8">mov8</a></span><span class="Function">为多个数字变量・文字变量赋值</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
mov9 %起始变量,代入数值1,代入数值2,代入数值3,代入数值4,代入数值5,代入数值6,代入数值7,代入数值8,代入数值9
" href="#mov9">mov9</a></span><span class="Function">为多个数字变量・文字变量赋值</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
movl 数组变量,要代入的数值,...
" href="#movl">movl</a></span><span class="Function">为数组变量赋值</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
mul 结果数字变量,乘数
" href="#mul">mul</a></span><span class="Function">乘法运算</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分numalias 名称, 数值
" href="#numalias">numalias</a></span><span class="Function">为数值设置别名</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
rnd
" href="#rnd">rnd</a></span><span class="Function">生成随机数（方法１）</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
rnd2
" href="#rnd2">rnd2</a></span><span class="Function">生成随机数（方法２）</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
sin %变量编号,角度
" href="#sin">sin</a></span><span class="Function">正弦函数</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分stralias 名称, 文字串
" href="#stralias">stralias</a></span><span class="Function">为文字串・文件名设置别名</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
sub 结果数字变量,减去数值
" href="#sub">sub</a></span><span class="Function">减法运算</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
tan %变量编号,角度
" href="#tan">tan</a></span><span class="Function">正切函数</span></div><h5 id="category_statement">条件表达式・循环语句命令</h5><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
break
" href="#break">break</a></span><span class="Function">从for循环中退出</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
cmp %比较结果, 字符串, 字符串
" href="#cmp">cmp</a></span><span class="Function">文字比较</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
fchk 要检查的文件
" href="#fchk">fchk</a></span><span class="Function">检查指定图像标签是否已经读入</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
for %计数器=初值 to 终值[ step 步长]
" href="#for">for</a></span><span class="Function">for循环</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
if 条件 执行部分
" href="#if">if</a></span><span class="Function">条件判断</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
lchk 要检查的标签
" href="#lchk">lchk</a></span><span class="Function">检查指定的标签是否已经读入</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
next" href="#next">next</a></span><span class="Function">结束循环</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
notif 条件 执行部分
" href="#notif">notif</a></span><span class="Function">条件判断</span></div><h5 id="category_rclick">右键点击功能设定命令</h5><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分menuselectcolor 鼠标悬停颜色, 鼠标离开颜色, 没有存档文件颜色
" href="#menuselectcolor">menuselectcolor</a></span> <span class="Function">右键菜单中的文本文字颜色</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分menuselectvoice 打开菜单声音, 取消声音, 鼠标悬停声音, 单击声音, 不可操作声音, 「是」音, 「否」音
" href="#menuselectvoice">menuselectvoice</a></span><span class="Function">右键菜单的声音设定</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分menusetwindow 文字宽, 文字高, 文字间隔X, Y, 粗体标志, 阴影标志, 窗口颜色
" href="#menusetwindow">menusetwindow</a></span><span class="Function">右键菜单的窗口设定</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.非正式 仅定义部分
rgosub *右键时调用的标签
" href="#rgosub">rgosub</a></span><span class="Function">设定右键菜单的时候要运行的子程序</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分rlookback
" href="#rlookback">rlookback</a></span><span class="Function">右键单击时进入回想模式</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分rmenu 字符串, 功能名
" href="#rmenu">rmenu</a></span><span class="Function">右键单击时进入菜单＆菜单设定</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
rmode 右键有效标志(0:无效、1:有效)
" href="#rmode">rmode</a></span><span class="Function">右键菜单有效・无效切换</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分roff
" href="#roff">roff</a></span><span class="Function">右键无效</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分savename
" href="#savename">savename</a></span><span class="Function">指定右键菜单中存档文件的文件名</span></div><h5 id="category_lookback">回想模式</h5><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分lookbackbutton 上翻页鼠标悬停图像, 上翻页鼠标离开图像, 下翻页鼠标悬停图像, 下翻页鼠标离开图像
" href="#lookbackbutton">lookbackbutton</a></span><span class="Function">指定回想模式中箭头的图像</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分lookbackcolor
" href="#lookbackcolor">lookbackcolor</a></span><span class="Function">指定回想模式的文字颜色</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
lookbackflush
" href="#lookbackflush">lookbackflush</a></span><span class="Function">清除回想模式的缓冲区</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
lookbackoff
" href="#lookbackoff">lookbackoff</a></span><span class="Function">停止回想模式文字的记录</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
lookbackon
" href="#lookbackon">lookbackon</a></span><span class="Function">开始回想模式文字的记录</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分lookbacksp 上翻页精灵编号,下翻页精灵编号
" href="#lookbacksp">lookbacksp</a></span><span class="Function">用精灵按钮代替默认的回想模式按钮</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分lookbackvoice
" href="#lookbackvoice">lookbackvoice</a></span><span class="Function">指定回想模式中翻页的声音</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.49 仅定义部分
maxkaisoupage 最大回想页数
" href="#maxkaisoupage">maxkaisoupage</a></span><span class="Function">设定回想模式的最大记录页数</span></div><h5 id="category_kidokuskip">跳过已读文字命令</h5><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
kidokumode 标志" href="#kidokumode">kidokumode</a></span><span class="Function">在跳过已读和强制跳过模式之间切换</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分kidokuskip
" href="#kidokuskip">kidokuskip</a></span><span class="Function">打开跳过已读功能</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分mode_wave_demo
" href="#mode_wave_demo">mode_wave_demo</a></span><span class="Function">「跳到下一个选择支」的时候仍然播放WAVE声音</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
skipoff
" href="#skipoff">skipoff</a></span><span class="Function">解除skip模式</span></div><h5 id="category_log_global">文件访问日志・全局变量</h5><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分filelog
" href="#filelog">filelog</a></span><span class="Function">获得文件访问记录</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分globalon
" href="#globalon">globalon</a></span><span class="Function">设定允许使用全局变量</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分labellog
" href="#labellog">labellog</a></span><span class="Function">获得标签访问记录</span></div><h5 id="category_saveload">保存・读取命令</h5><div class="Word F"><span class="WordLiteral"><a title="Ver.2.93 仅定义部分
autosaveoff
" href="#autosaveoff">autosaveoff</a></span><span class="Function">停止更新定义</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分errorsave
" href="#errorsave">errorsave</a></span><span class="Function">出错时自动保存至999号存档</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.60 仅执行部分
getsavestr 字符变量,存档编号
" href="#getsavestr">getsavestr</a></span><span class="Function">获得savegame2命令中的文字串</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
loadgame 存档编号
" href="#loadgame">loadgame</a></span><span class="Function">从指定编号的存档载入游戏</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分loadgosub *标签
" href="#loadgosub">loadgosub</a></span><span class="Function">载入游戏后跳转执行子程序</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.49 仅定义部分
savedir 存档数据文件夹
" href="#savedir">savedir</a></span><span class="Function">指定存档的文件夹</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
savefileexist 结果数字变量,存档编号
" href="#savefileexist">savefileexist</a></span><span class="Function">确认存档文件是否存在</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
savegame 存档编号
" href="#savegame">savegame</a></span><span class="Function">保存到指定编号的存档文件</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.60 仅执行部分
savegame2 存档编号,一起保存的字符串
" href="#savegame2">savegame2</a></span><span class="Function">保存文件时同时保存固定的字符串</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分savenumber 存档数
" href="#savenumber">savenumber</a></span><span class="Function">更改存档的最大数量</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
saveoff
" href="#saveoff">saveoff</a></span><span class="Function">关闭保存模式</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
saveon
" href="#saveon">saveon</a></span><span class="Function">打开保存模式</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.93 仅执行部分
savepoint
" href="#savepoint">savepoint</a></span><span class="Function">更新保存点</span></div><h5 id="category_additional">追加功能</h5><div class="Word F"><span class="WordLiteral"><a title="Ver.2.70 仅定义部分
addkinsoku 行首禁止字符串,行末禁止字符串
" href="#addkinsoku">addkinsoku</a></span><span class="Function">添加禁止字符</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
addnsadir 目录名
" href="#addnsadir">addnsadir</a></span><span class="Function">增加nsa压缩包读取目录</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
clickpos x坐标储存变量,y坐标储存变量
" href="#clickpos">clickpos</a></span><span class="Function">点击时取得鼠标的坐标</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.60 仅定义部分clickskippage
" href="#clickskippage">clickskippage</a></span><span class="Function">点击时显示全部页面</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分defsub 标签名
" href="#defsub">defsub</a></span><span class="Function">定义指定名字的子程序</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.82 仅定义部分
english
" href="#english">english</a></span><span class="Function">显示英文</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
fileexist 数字变量,文件名
" href="#fileexist">fileexist</a></span><span class="Function">检查文件是否存在</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.非正式 仅执行部分fileremove 文件名
" href="#fileremove">fileremove</a></span><span class="Function">删除文件</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
getparam 接受参数的变量(,...)
" href="#getparam">getparam</a></span><span class="Function">从调用子程序处获得参数</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
input $结果,显示的消息,默认字符串,最大文字数,全角标志
" href="#input">input</a></span><span class="Function">获得玩家输入的字符串(方法2）</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.非正式 仅执行部分inputnum %结果,显示的消息,窗口宽,高,输入框宽,高
" href="#inputnum">inputnum</a></span><span class="Function">获得玩家输入的数字</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
inputstr $结果,要显示的消息,最大文字数,全角标志,窗口宽,高,输入框宽度,高度
" href="#inputstr">inputstr</a></span><span class="Function">获得玩家输入的字符串(方法1）</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.73 仅执行部分
kinsoku {on,off}
" href="#kinsoku">kinsoku</a></span><span class="Function">禁止文字的开启与关闭的切换</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
labelexist %结果,*标签
" href="#labelexist">labelexist</a></span><span class="Function">检查标签的存在</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
menu_dwavvol
" href="#menu_dwavvol">menu_dwavvol</a></span><span class="Function">显示音量调节对话框</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
mesbox 显示的消息,标题
" href="#mesbox">mesbox</a></span><span class="Function">显示一个消息框</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
minimizewindow
" href="#minimizewindow">minimizewindow</a></span><span class="Function">最小化窗口</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.非正式 仅定义部分
noloaderror
" href="#noloaderror">noloaderror</a></span><span class="Function">忽略图像音乐读取失败的错误</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
okcancelbox %结果,要显示的文字,对话窗口标题
" href="#okcancelbox">okcancelbox</a></span><span class="Function">显示有ok/cancel按钮的对话框</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
readfile $结果,文件名
" href="#readfile">readfile</a></span><span class="Function">从文件中读取文字变量</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.70 仅定义部分
setkinsoku 行首禁止字符串,行末禁止字符串
" href="#setkinsoku">setkinsoku</a></span><span class="Function">设置禁止文字</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
split 要分割的字符串,切分字符,变量(,...)
" href="#split">split</a></span><span class="Function">将字符串用指定的记号切分</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
systemcall 功能名
" href="#systemcall">systemcall</a></span><span class="Function">执行弹出右键菜单的动作</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.非正式 仅执行部分textcolor #rrggbb
" href="#textcolor">textcolor</a></span><span class="Function">更改名字颜色</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.49 仅执行部分
textfield 保存结果的字符变量,左上X坐标,Y坐标,右下X坐标,Y坐标,文字宽度（字节计）,文字高度,全角标志（1为全角文字）
" href="#textfield">textfield</a></span><span class="Function">在窗口上生成一个文字输入框</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
yesnobox %结果,要显示的文字,标题
" href="#yesnobox">yesnobox</a></span><span class="Function">显示有是否按钮的对话框</span></div><h5 id="category_specialmode">特殊模式设置命令</h5><div class="Word SD"><span class="WordLiteral"><a title="Ver.2.96 特別定义语
V变量总数G全局变量起始编号S宽,高L标签最大值
" href="#;$">;$</a></span><span class="Function">指定变量・标签的最大值，以及画面大小</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分automode
" href="#automode">automode</a></span><span class="Function">设定使用「自动模式」</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分automode_time 自动前进的等待时间(毫秒)
" href="#automode_time">automode_time</a></span><span class="Function">使用「自动模式」时，指定没有语音时等待的时间</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分defbgmvol 默认音量(0～100)
" href="#defbgmvol">defbgmvol</a></span><span class="Function">设置BGM的默认音量</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分defmp3vol 默认音量(0～100)
" href="#defmp3vol">defmp3vol</a></span><span class="Function">设置MP3的默认音量</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分defsevol 默认音量(0～100)
" href="#defsevol">defsevol</a></span><span class="Function">设置音效的默认音量</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分defvoicevol 默认音量(0～100)
" href="#defvoicevol">defvoicevol</a></span><span class="Function">设置语音的默认音量(新增命令）</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分mode_ext
" href="#mode_ext">mode_ext</a></span><span class="Function">设定使用「银色模式（自动模式）」</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分mode_saya
" href="#mode_saya">mode_saya</a></span><span class="Function">设定使用「莢模式」</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分mode320
" href="#mode320">mode320</a></span><span class="Function">将画面设定为320x240</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分mode400
" href="#mode400">mode400</a></span><span class="Function">将画面设定为400x300</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分mode800
" href="#mode800">mode800</a></span><span class="Function">将画面设定为800x600</span></div><div class="Word SD"><span class="WordLiteral"><a title="Ver.2.48 特别定义语
value 全局变量的起始编号
" href="#value">value</a></span><span class="Function">改变全局变量和局部变量的边界</span></div><h5 id="category_plugin_archive">插件・压缩包</h5><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分arc 指定压缩包插件
" href="#arc">arc</a></span><span class="Function">使用压缩包</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
exec_dll DLL文件名与参数字符串
" href="#exec_dll">exec_dll</a></span><span class="Function">调用dll</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
getret %DLL的返回值
getret $DLL的返回值
" href="#getret">getret</a></span><span class="Function">取得从dll返回的值</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
layermessage 层编号,要发送的消息
" href="#layermessage">layermessage</a></span><span class="Function">向某层发送消息</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分nsa
" href="#nsa">nsa</a></span><span class="Function">使用NSA压缩包模式</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分nsadir nsa储存目录
" href="#nsadir">nsadir</a></span><span class="Function">指定NSA压缩包的存放目录(增加用)</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分setlayer 层编号,更新间隔(毫秒),DLL文件名
" href="#setlayer">setlayer</a></span><span class="Function">设定图层</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分soundpressplgin 指定声音插件
" href="#soundpressplgin">soundpressplgin</a></span><span class="Function">指定音乐压缩的插件（现在用DirectX命令代替）</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分spi 指定图像插件
" href="#spi">spi</a></span><span class="Function">指定图像压缩插件</span></div><h5 id="category_information">信息显示命令</h5><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
caption 窗口标题
" href="#caption">caption</a></span><span class="Function">改变窗口标题</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分versionstr 版本信息第一行,第二行
" href="#versionstr">versionstr</a></span><span class="Function">版本信息的文字修改</span></div><h5 id="category_getinfo">获得各种信息命令</h5><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
date 储存年份变量,储存月份变量,储存日期变量
" href="#date">date</a></span><span class="Function">取得年、月、日</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
getini 结果文字变量,ini文件,节,键值
" href="#getini">getini</a></span><span class="Function">从ini文件获得参数</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
getreg 结果文字变量,键名,值名称
" href="#getreg">getreg</a></span><span class="Function">从注册表取得参数</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
getversion 结果数字变量
" href="#getversion">getversion</a></span><span class="Function">得到执行中的NScripter的版本</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.54 仅执行部分
getwindowsize 储存宽的变量,储存高的变量
" href="#getwindowsize">getwindowsize</a></span><span class="Function">得到窗口的显示区域</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
savetime 存档编号,储存月的变量,储存日的变量,储存小时的变量,储存分的变量
" href="#savetime">savetime</a></span><span class="Function">从指定的存档中获得保存日期和时间</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
time 小时储存变量,分钟储存变量,秒数储存变量
" href="#time">time</a></span><span class="Function">取得时、分、秒</span></div><h5 id="category_windowmenu">窗口菜单相关命令</h5><div class="Word S"><span class="WordLiteral"><a title="Ver.2.48 特殊文字
!sd
" href="#!sd">!sd</a></span><span class="Function">定义由defaultspeed命令设定的文字显示速度</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分defaultspeed 低速,普通,高速
" href="#defaultspeed">defaultspeed</a></span><span class="Function">指定菜单中可选择的文字速度选项</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分deletemenu
" href="#deletemenu">deletemenu</a></span><span class="Function">去掉NS窗口上的菜单栏</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分insertmenu &quot;字符串&quot;,功能代码(,菜单层)
" href="#insertmenu">insertmenu</a></span><span class="Function">插入菜单</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
isfull %结果变量
" href="#isfull">isfull</a></span><span class="Function">判断是否全屏</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分killmenu 选单位置
" href="#killmenu">killmenu</a></span><span class="Function">去掉某个菜单</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
menu_click_def
" href="#menu_click_def">menu_click_def</a></span><span class="Function">普通显示模式</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
menu_click_page
" href="#menu_click_page">menu_click_page</a></span><span class="Function">页显示模式</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
menu_full
" href="#menu_full">menu_full</a></span><span class="Function">全屏模式</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
menu_window
" href="#menu_window">menu_window</a></span><span class="Function">窗口模式</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分resetmenu
" href="#resetmenu">resetmenu</a></span><span class="Function">自定义菜单</span></div><h5 id="category_systemcustomize">系统自定义相关命令</h5><div class="Word SD"><span class="WordLiteral"><a title="Ver.2.48 特别定义语
*customsel
" href="#*customsel">*customsel</a></span><span class="Function">与csel对应的标签</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.92 仅执行部分
checkkey %结果,键类别
" href="#checkkey">checkkey</a></span><span class="Function">获得键盘的按下状态</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
csel &quot;选项&quot;,*跳转标签(,...)
" href="#csel">csel</a></span><span class="Function">系统自定义时的选择支命令</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
cselbtn 选项标签,按钮编号,显示位置左上X坐标,Y坐标
" href="#cselbtn">cselbtn</a></span><span class="Function">生成选择支的文字按钮</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
cselgoto 选项标签
" href="#cselgoto">cselgoto</a></span><span class="Function">跳转到csel设定的选择支</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
getcselnum %选项数
" href="#getcselnum">getcselnum</a></span><span class="Function">获得csel选择支的数量</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
getcselstr $结果,存档编号
" href="#getcselstr">getcselstr</a></span><span class="Function">获得csel中指定的字符串</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
getcursorpos %显示位置X坐标,%Y坐标
" href="#getcursorpos">getcursorpos</a></span><span class="Function">获得文字光标的位置</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.92 仅执行部分
getcursorpos2 %左上X坐标,%左上Y坐标
" href="#getcursorpos2">getcursorpos2</a></span><span class="Function">获得最后显示的文字的左上角坐标</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.49 仅执行部分
getmouseover 精灵编号下限,精灵编号上限
" href="#getmouseover">getmouseover</a></span><span class="Function">检查鼠标指针是否和精灵重叠</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.49 仅执行部分
getskipoff
" href="#getskipoff">getskipoff</a></span><span class="Function">检查是否处于skip或者automode状态</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.49 仅执行部分
ispage %结果
" href="#ispage">ispage</a></span><span class="Function">是否处于等待换页状态</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
isskip %结果(0:未在skip中，1:skip中，2:automode中)
" href="#isskip">isskip</a></span><span class="Function">是否处于skip状态</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.93 仅定义部分
luacall 命令名
" href="#luacall">luacall</a></span><span class="Function">以Lua函数执行NScripter的默认动作</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.93 仅定义部分
luasub 命令名
" href="#luasub">luasub</a></span><span class="Function">定义调用Lua函数的NSCOM_</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.80 仅执行部分
nextcsel %结果
" href="#nextcsel">nextcsel</a></span><span class="Function">下一条命令是csel时返回1</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
selectbtnwait %结果
" href="#selectbtnwait">selectbtnwait</a></span><span class="Function">执行customsel时等待鼠标点击</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
texec
" href="#texec">texec</a></span><span class="Function">等待换页时清除所有文字</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.82 仅执行部分
texec2
" href="#texec2">texec2</a></span><span class="Function">等待换页时清除所有文字</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
textbtnwait %结果
" href="#textbtnwait">textbtnwait</a></span><span class="Function">执行customwait时等待鼠标点击</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分textgosub *等待输入标签
" href="#textgosub">textgosub</a></span><span class="Function">指定自定义系统时点击普通文字时跳转到的标签</span></div><h5 id="category_screenshot">截图命令</h5><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
deletescreenshot
" href="#deletescreenshot">deletescreenshot</a></span><span class="Function">删除截图</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
getscreenshot x大小,y大小
" href="#getscreenshot">getscreenshot</a></span><span class="Function">获得截图</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
savescreenshot &quot;文件名&quot;
" href="#savescreenshot">savescreenshot</a></span><span class="Function">保存截图</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
savescreenshot2 &quot;文件名&quot;
" href="#savescreenshot2">savescreenshot2</a></span><span class="Function">保存截图</span></div><h5 id="category_input">键盘按键扩展</h5><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
btnarea 基准y坐标
" href="#btnarea">btnarea</a></span><span class="Function">检查光标是否进入了特定区域</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
btndown 标志" href="#btndown">btndown</a></span><span class="Function">按键按下未弹起时立即获得按键消息</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
getcursor
" href="#getcursor">getcursor</a></span><span class="Function">对光标键上右下左分别返回-40，-41，-42，-43</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
getenter
" href="#getenter">getenter</a></span><span class="Function">Enter键被按下时返回-19</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
getfunction
" href="#getfunction">getfunction</a></span><span class="Function">F1～F12被按下时返回-21~-32</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
getinsert
" href="#getinsert">getinsert</a></span><span class="Function">Insert键被按下时获取按键</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.94 仅执行部分
getmclick
" href="#getmclick">getmclick</a></span><span class="Function">获得鼠标中键点击</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
getmousepos %X坐标,%Y坐标
" href="#getmousepos">getmousepos</a></span><span class="Function">得到鼠标光标坐标</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
getpage
" href="#getpage">getpage</a></span><span class="Function">PageUp PageDown被按下时获取按键</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
gettab
" href="#gettab">gettab</a></span><span class="Function">tab键被按下时返回-20</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
getzxc
" href="#getzxc">getzxc</a></span><span class="Function">z,x,c键被按下时获取按键</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
isdown %结果变量
" href="#isdown">isdown</a></span><span class="Function">判定按键是否被按下</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
spclclk
" href="#spclclk">spclclk</a></span><span class="Function">将空格键视按下为左键单击</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分useescspc
" href="#useescspc">useescspc</a></span><span class="Function">设定使用Esc键和Spc键（截屏）</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分usewheel
" href="#usewheel">usewheel</a></span><span class="Function">设定使用鼠标滚轮</span></div><h5 id="category_ruby">注音相关</h5><div class="Word S"><span class="WordLiteral"><a title="Ver.2.48 特殊文字
(要注音的单词/注音)
" href="#()">()</a></span><span class="Function">表示是注音文字</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
rubyoff
" href="#rubyoff">rubyoff</a></span><span class="Function">关闭注音模式</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
rubyon 注音大小X,注音大小Y,字体名
" href="#rubyon">rubyon</a></span><span class="Function">开启注音模式</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.80 仅执行部分
rubyon2 注音大小X,注音大小Y
" href="#rubyon2">rubyon2</a></span><span class="Function">仅在某一行有注音文字时转成注音模式</span></div><h5 id="category_draw">DEMO命令</h5><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
draw
" href="#draw">draw</a></span><span class="Function">将draw一类命令绘制的图像显示到屏幕上</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
drawbg
" href="#drawbg">drawbg</a></span><span class="Function">绘制背景画面</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
drawbg2 显示位置中心的x坐标,显示位置中心y坐标,横向扩大率,纵向扩大率,回转角度
" href="#drawbg2">drawbg2</a></span><span class="Function">绘制背景画面</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
drawclear
" href="#drawclear">drawclear</a></span><span class="Function">画面全黑</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
drawfill 红色分量,绿色分量,蓝色分量" href="#drawfill">drawfill</a></span><span class="Function">以某种色彩填充画面</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
drawsp 精灵编号,分格编号,不透明度,显示位置左上角x坐标,显示位置左上角y坐标
" href="#drawsp">drawsp</a></span><span class="Function">绘制精灵</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
drawsp2 精灵编号,分格编号,不透明度,显示位置中心x坐标,显示位置中心y坐标,横向扩大率,纵向扩大率,回转角度
" href="#drawsp2">drawsp2</a></span><span class="Function">绘制精灵</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.60 仅执行部分
drawsp3 精良编号,分格编号,透明度,α值,显示位置中心x坐标,显示位置中心y坐标,行列式左上,右上,左下,左下
" href="#drawsp3">drawsp3</a></span><span class="Function">以一次变换绘制精灵</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
drawtext
" href="#drawtext">drawtext</a></span><span class="Function">绘制文本窗口</span></div><h5 id="category_logcustomize">自定义回想模式</h5><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.49 定义部分・执行部分两用
checkpage %结果,回想页面编号
" href="#checkpage">checkpage</a></span><span class="Function">检查是否能够获得回想文字</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.49 仅执行部分
getlog $结果,回想页面编号
" href="#getlog">getlog</a></span><span class="Function">获得回想模式的文字</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.70 仅执行部分
getlogtext 文字变量,页数
" href="#getlogtext">getlogtext</a></span><span class="Function">获得回想模式的文字（用于strsp）</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.72 仅执行部分
gettaglog $结果,记录的页号
" href="#gettaglog">gettaglog</a></span><span class="Function">获得指定个数页面内的tag</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.49 仅执行部分
logsp 精灵编号,字符串,Ｘ坐标,Ｙ坐标,文字颜色(,...)
" href="#logsp">logsp</a></span><span class="Function">将回想模式使用的文字和图像创建为精灵</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.49 仅执行部分
logsp2 精灵编号,getlog命令获得的字符串,Ｘ坐标,Ｙ坐标,文字宽,文字高,文字间距Ｘ,文字间距Ｙ
" href="#logsp2">logsp2</a></span><span class="Function">将回想模式使用的文字和图像创建为精灵</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.49 仅执行部分
texthide
" href="#texthide">texthide</a></span><span class="Function">显示文本窗口的情况下消去文字</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.49 仅执行部分
textshow
" href="#textshow">textshow</a></span><span class="Function">显示由texthide消去的文字</span></div><h5 id="category_tag">文本标签相关</h5><div class="Word S"><span class="WordLiteral"><a title="Ver.2.48 特殊文字
[标签字符串]
" href="#%5B%5D">[]</a></span><span class="Function">指定某些信息，可由紧跟其后的gettag命令所获得。</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.49 定义部分・执行部分两用
gettag 变量(,...)
" href="#gettag">gettag</a></span><span class="Function">从pretextgosub指定的子程序获得tag</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.49 定义部分・执行部分两用
indent 缩进字符数
" href="#indent">indent</a></span><span class="Function">换行时向右缩进指定格数</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.49 仅定义部分
pretextgosub *标签
" href="#pretextgosub">pretextgosub</a></span><span class="Function">根据之前的tag跳转到相应的子程序</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.非正式 仅定义部分
zenkakko
" href="#zenkakko">zenkakko</a></span><span class="Function">用【】对tag进行指定</span></div><h5 id="category_support">开发支持命令</h5><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
bmpcut 图像文件名,横分割数,纵分割数
" href="#bmpcut">bmpcut</a></span><span class="Function">将图像分割并以bmp形式保存</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
bw2a 图像文件名(不含拓展名)
" href="#bw2a">bw2a</a></span><span class="Function">生成NScripter形式的透明图像</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.49 定义部分・执行部分两用
bw2a3 图像文件名(不含拓展名)
" href="#bw2a3">bw2a3</a></span><span class="Function">生成NScripter形式的透明图像</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.48 定义部分・执行部分两用
chainbmp 图像文件名
" href="#chainbmp">chainbmp</a></span><span class="Function">组合图像文件</span></div><div class="Word F"><span class="WordLiteral"><a title="Ver.2.48 仅定义部分createdummy 虚拟图像文件名
" href="#createdummy">createdummy</a></span><span class="Function">生成傀儡图像文件</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.61 定义部分・执行部分两用
debuglog log获得标志
" href="#debuglog">debuglog</a></span><span class="Function">保存调试日志</span></div><h5 id="category_execute">外部程序执行命令</h5><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
shell 执行文件名
" href="#shell">shell</a></span><span class="Function">从资源管理器中执行文件</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.48 仅执行部分
winexec 执行文件名,同步标志
" href="#winexec">winexec</a></span><span class="Function">执行外部可执行文件</span></div><h5 id="category_csvfile">CSV文件操作</h5><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.63 定义部分・执行部分两用
csvclose
" href="#csvclose">csvclose</a></span><span class="Function">关闭CSV文件</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.63 定义部分・执行部分两用
csveof 数字变量
" href="#csveof">csveof</a></span><span class="Function">判断是否到达了CSV文件的末尾</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.63 定义部分・执行部分两用
csvopen 文件名,模式
" href="#csvopen">csvopen</a></span><span class="Function">打开csv文件</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.63 定义部分・执行部分两用
csvread 变量(,...)
" href="#csvread">csvread</a></span><span class="Function">从csv文件中读出数据</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.63 定义部分・执行部分两用
csvwrite 值(,...)
" href="#csvwrite">csvwrite</a></span><span class="Function">向csv文件中写入数据</span></div><h5 id="category_textbutton">文字按钮命令</h5><div class="Word S"><span class="WordLiteral"><a title="Ver.2.48 特殊文字
&lt;(文字按钮编号)文字按钮字符串&gt;
" href="javascript:void(0);">&lt;&gt;</a></span><span class="Function">设定文字按钮</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.65 仅执行部分erasetextbtn
" href="#erasetextbtn">erasetextbtn</a></span><span class="Function">解除文字按钮的按下状态</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.65 仅执行部分gettextbtnstr 文字变量,文字按钮编号
" href="#gettextbtnstr">gettextbtnstr</a></span><span class="Function">获得对应文字按钮编号的文字串</span></div><div class="Word FE"><span class="WordLiteral"><a title="Ver.2.65 定义部分・执行部分两用
linkcolor #rrggbb,#rrggbb
" href="#linkcolor">linkcolor</a></span><span class="Function">设定文字按钮的颜色</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.74 仅执行部分
textbtnoff
" href="#textbtnoff">textbtnoff</a></span><span class="Function">禁用文字按钮的按钮定义</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.65 仅执行部分textbtnstart 作为起始的文字按钮编号
" href="#textbtnstart">textbtnstart</a></span><span class="Function">指定省略文字按钮编号时按钮编号的初值</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.65 仅执行部分textexbtn 文字按钮编号,控制字符串
" href="#textexbtn">textexbtn</a></span><span class="Function">将文字按钮与exbtn进行同样的处理</span></div><h5 id="category_sprite_ex">扩展精灵相关命令</h5><div class="Word E"><span class="WordLiteral"><a title="Ver.2.80 仅执行部分
allsp2hide
" href="#allsp2hide">allsp2hide</a></span><span class="Function">暂时隐藏所有的扩展精灵</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.80 仅执行部分
allsp2resume
" href="#allsp2resume">allsp2resume</a></span><span class="Function">解除所有扩展精灵的隐藏</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.80 仅执行部分
amsp2 扩展精灵编号,中心x坐标,中心y坐标,x扩大率,y扩大率,回转角(,α值)
" href="#amsp2">amsp2</a></span><span class="Function">对扩展精灵进行绝对移动</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.80 仅执行部分
csp2 扩展变量编号
" href="#csp2">csp2</a></span><span class="Function">清除扩展精灵</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.80 仅执行部分
lsp2 扩展精灵编号,图像文件名,中心x坐标,中心y坐标,X扩大率,Y扩大率,回转角(,初始α值、省略的话默认值是255)
" href="#lsp2">lsp2</a></span><span class="Function">以显示的状态加载扩展精灵</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.80 仅执行部分
lsp2add 扩展精灵编号,图像文件名,中心X坐标,中心Y坐标,X扩大率,Y扩大率,回转角(,初期α值，省略则为255)
" href="#lsp2add">lsp2add</a></span><span class="Function">将扩展精灵以显示状态相加渲染方式加载</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.93 仅执行部分
lsp2sub 扩展精灵编号,图像文件名,中心X坐标,中心Y坐标,X扩大率,Y扩大率,回转角(,初期α值，省略则为255)
" href="#lsp2sub">lsp2sub</a></span><span class="Function">将扩展精灵以显示转台相减渲染方式加载</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.80 仅执行部分
lsph2 扩展精灵编号,图像文件名,中心X坐标,中心Y坐标,X扩大率,Y扩大率,回转角(,初期α值，省略则为255)
" href="#lsph2">lsph2</a></span><span class="Function">以不显示的状态加载扩展精灵</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.80 仅执行部分
lsph2add 扩展精灵编号,图像文件名,中心X坐标,中心Y坐标,X扩大率,Y扩大率,回转角(,初期α值，省略则为255)
" href="#lsph2add">lsph2add</a></span><span class="Function">将扩展精灵以不显示相加渲染方式加载</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.非正式 仅执行部分lsph2sub 扩展精灵编号,图像文件名,中心X坐标,中心Y坐标,X扩大率,Y扩大率,回转角(,初期α值，省略则为255)
" href="#lsph2sub">lsph2sub</a></span><span class="Function">将扩展精灵以不显示相减渲染方式加载</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.80 仅执行部分
msp2 扩展精灵编号,中心x增量,中心y增量,x扩大率增量,y扩大率增量,回转角增量(,α值增量)
" href="#msp2">msp2</a></span><span class="Function">相对移动扩展精灵</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.80 仅执行部分
vsp2 扩展精灵编号,显示标志
" href="#vsp2">vsp2</a></span><span class="Function">扩展精灵显示/不显示的切换</span></div><h5 id="category_button_ex">新图像按钮</h5><div class="Word E"><span class="WordLiteral"><a title="Ver.2.93 仅执行部分
bclear
" href="#bclear">bclear</a></span><span class="Function">清除按钮的定义</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.94 仅执行部分
bcursor
" href="#bcursor">bcursor</a></span><span class="Function">由按钮得到鼠标和键盘的输入</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.93 仅执行部分
bdef 默认控制字符串" href="#bdef">bdef</a></span><span class="Function">指定和任何一个精灵都不重叠时的处理方法</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.94 仅执行部分
bdown
" href="#bdown">bdown</a></span><span class="Function">按钮按下还未谈起时就获取返回消息</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.93 仅执行部分
bexec $输入结果(,%输入结果)
" href="#bexec">bexec</a></span><span class="Function">执行按钮处理</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.93 仅执行部分
bsp 精灵编号,鼠标离开时的控制字符串、鼠标悬停时的控制字符串、按下时的控制字符串
" href="#bsp">bsp</a></span><span class="Function">将一个精灵设定成按钮</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.93 仅执行部分
btime 延迟时间(,是否等待语音)
" href="#btime">btime</a></span><span class="Function">指定开始执行按钮功能的延时</span></div><div class="Word E"><span class="WordLiteral"><a title="Ver.2.94 仅执行部分
btrans
" href="#btrans">btrans</a></span><span class="Function">按钮图像的透明部分无效</span></div></div><div id="SIDEBAR"><a href="#-">-</a><br /><a href="#!d">!</a><a href="#!d">d</a><br /><a href="#!s">!</a><a href="#!s">s</a><br /><a href="#!sd">!</a><a href="#!sd">sd</a><br /><a href="#!w">!</a><a href="#!w">w</a><br /><a href="#">#</a><br /><a href="#$">$</a><br /><a href="#$">$</a><br /><a href="javascript:void(0);">%</a><br /><a href="javascript:void(0);">%</a><br /><a href="#()">()</a><br /><a href="#*">*</a><br /><a href="#*">*</a><br /><a href="#*customsel">*customsel</a><br /><a href="#*define">*define</a><br /><a href="#*start">*start</a><br /><a href="#/">/</a><br /><a href="#/">/</a><br /><a href="#:">:</a><br /><a href="#;">;</a><br /><a href="#;$">;$</a><br /><a href="#?">?</a><br /><a href="#@">@</a><br /><a href="#%5B%5D">[]</a><br /><a href="#_">_</a><br /><a href="#%7B%7D">{}</a><br /><a href="#~">~</a><br /><a href="#%5C">\</a><br /><a href="#+">+</a><br /><a href="javascript:void(0);">&lt;&gt;</a><br /><a href="#abssetcursor">abssetcursor</a><br /><a href="#add">add</a><br /><a href="#addkinsoku">addkinsoku</a><br /><a href="#addnsadir">addnsadir</a><br /><a href="#allsp2hide">allsp2hide</a><br /><a href="#allsp2resume">allsp2resume</a><br /><a href="#allsphide">allsphide</a><br /><a href="#allspresume">allspresume</a><br /><a href="#amsp">amsp</a><br /><a href="#amsp2">amsp2</a><br /><a href="#arc">arc</a><br /><a href="#atoi">atoi</a><br /><a href="#autoclick">autoclick</a><br /><a href="#automode">automode</a><br /><a href="#automode_time">automode_time</a><br /><a href="#autosaveoff">autosaveoff</a><br /><a href="#avi">avi</a><br /><a href="#bar">bar</a><br /><a href="#barclear">barclear</a><br /><a href="#bclear">bclear</a><br /><a href="#bcursor">bcursor</a><br /><a href="#bdef">bdef</a><br /><a href="#bdown">bdown</a><br /><a href="#bexec">bexec</a><br /><a href="#bg">bg</a><br /><a href="#bgalia">bgalia</a><br /><a href="#bgcopy">bgcopy</a><br /><a href="#bgm">bgm</a><br /><a href="#bgmdownmode">bgmdownmode</a><br /><a href="#bgmfadein"></a><br /><a href="#bgmfadeout">bgmfadeout</a><br /><a href="#bgmonce">bgmonce</a><br /><a href="#bgmstop">bgmstop</a><br /><a href="#bgmvol">bgmvol</a><br /><a href="#blt">blt</a><br /><a href="#bmpcut">bmpcut</a><br /><a href="#br">br</a><br /><a href="#break">break</a><br /><a href="#bsp">bsp</a><br /><a href="#btime">btime</a><br /><a href="#btn">btn</a><br /><a href="#btnarea">btnarea</a><br /><a href="#btndef">btndef</a><br /><a href="#btndown">btndown</a><br /><a href="#btnnowindowerase">btnnowindowerase</a><br /><a href="#btntime">btntime</a><br /><a href="#btntime2">btntime2</a><br /><a href="#btnwait">btnwait</a><br /><a href="#btnwait2">btnwait2</a><br /><a href="#btrans">btrans</a><br /><a href="#bw2a">bw2a</a><br /><a href="#bw2a3">bw2a3</a><br /><a href="#caption">caption</a><br /><a href="#cdfadeout">cdfadeout</a><br /><a href="#cell">cell</a><br /><a href="#cellcheckexbtn">cellcheckexbtn</a><br /><a href="#cellcheckspbtn">cellcheckspbtn</a><br /><a href="#chainbmp">chainbmp</a><br /><a href="#checkkey">checkkey</a><br /><a href="#checkpage">checkpage</a><br /><a href="#chkcdfile">chkcdfile</a><br /><a href="#chkcdfile_ex">chkcdfile_ex</a><br /><a href="#chvol">chvol</a><br /><a href="#cl">cl</a><br /><a href="#click">click</a><br /><a href="#clickpos">clickpos</a><br /><a href="#clickskippage">clickskippage</a><br /><a href="#clickstr">clickstr</a><br /><a href="#clickvoice">clickvoice</a><br /><a href="#cmp">cmp</a><br /><a href="#cos">cos</a><br /><a href="#createdummy">createdummy</a><br /><a href="#csel">csel</a><br /><a href="#cselbtn">cselbtn</a><br /><a href="#cselgoto">cselgoto</a><br /><a href="#csp">csp</a><br /><a href="#csp2">csp2</a><br /><a href="#csvclose">csvclose</a><br /><a href="#csveof">csveof</a><br /><a href="#csvopen">csvopen</a><br /><a href="#csvread">csvread</a><br /><a href="#csvwrite">csvwrite</a><br /><a href="#date">date</a><br /><a href="#debuglog">debuglog</a><br /><a href="#dec">dec</a><br /><a href="#defaultfont">defaultfont</a><br /><a href="#defaultspeed">defaultspeed</a><br /><a href="#defbgmvol">defbgmvol</a><br /><a href="#definereset">definereset</a><br /><a href="#defmp3vol">defmp3vol</a><br /><a href="#defsevol">defsevol</a><br /><a href="#defsub">defsub</a><br /><a href="#defvoicevol">defvoicevol</a><br /><a href="#delay">delay</a><br /><a href="#deletemenu">deletemenu</a><br /><a href="#deletescreenshot">deletescreenshot</a><br /><a href="#dim">dim</a><br /><a href="#div">div</a><br /><a href="#draw">draw</a><br /><a href="#drawbg">drawbg</a><br /><a href="#drawbg2">drawbg2</a><br /><a href="#drawclear">drawclear</a><br /><a href="#drawfill">drawfill</a><br /><a href="#drawsp">drawsp</a><br /><a href="#drawsp2">drawsp2</a><br /><a href="#drawsp3">drawsp3</a><br /><a href="#drawtext">drawtext</a><br /><a href="#dsound">dsound</a><br /><a href="#dv">dv</a><br /><a href="#dwave">dwave</a><br /><a href="#dwaveload">dwaveload</a><br /><a href="#dwaveloop">dwaveloop</a><br /><a href="#dwaveplay">dwaveplay</a><br /><a href="#dwaveplayloop">dwaveplayloop</a><br /><a href="#dwavestop">dwavestop</a><br /><a href="#effect">effect</a><br /><a href="#effectblank">effectblank</a><br /><a href="#effectcut">effectcut</a><br /><a href="#effectskip">effectskip</a><br /><a href="#end">end</a><br /><a href="#english">english</a><br /><a href="#erasetextbtn">erasetextbtn</a><br /><a href="#erasetextwindow">erasetextwindow</a><br /><a href="#errorsave">errorsave</a><br /><a href="#exbtn">exbtn</a><br /><a href="#exbtn_d">exbtn_d</a><br /><a href="#exec_dll">exec_dll</a><br /><a href="#fchk">fchk</a><br /><a href="#fileexist">fileexist</a><br /><a href="#filelog">filelog</a><br /><a href="#fileremove">fileremove</a><br /><a href="#flushout">flushout</a><br /><a href="#font">font</a><br /><a href="#for">for</a><br /><a href="#game">game</a><br /><a href="#getbgmvol">getbgmvol</a><br /><a href="#getbtntimer">getbtntimer</a><br /><a href="#getcselnum">getcselnum</a><br /><a href="#getcselstr">getcselstr</a><br /><a href="#getcursor">getcursor</a><br /><a href="#getcursorpos">getcursorpos</a><br /><a href="#getcursorpos2">getcursorpos2</a><br /><a href="#getenter">getenter</a><br /><a href="#getfunction">getfunction</a><br /><a href="#getini">getini</a><br /><a href="#getinsert">getinsert</a><br /><a href="#getlog">getlog</a><br /><a href="#getlogtext">getlogtext</a><br /><a href="#getmclick">getmclick</a><br /><a href="#getmouseover">getmouseover</a><br /><a href="#getmousepos">getmousepos</a><br /><a href="#getmp3vol">getmp3vol</a><br /><a href="#getnextline">getnextline</a><br /><a href="#getpage">getpage</a><br /><a href="#getparam">getparam</a><br /><a href="#getreg">getreg</a><br /><a href="#getret">getret</a><br /><a href="#getsavestr">getsavestr</a><br /><a href="#getscreenshot">getscreenshot</a><br /><a href="#getsevol">getsevol</a><br /><a href="#getskipoff">getskipoff</a><br /><a href="#getspmode">getspmode</a><br /><a href="#getspsize">getspsize</a><br /><a href="#gettab">gettab</a><br /><a href="#gettag">gettag</a><br /><a href="#gettaglog">gettaglog</a><br /><a href="#gettext">gettext</a><br /><a href="#gettextbtnstr">gettextbtnstr</a><br /><a href="#gettimer">gettimer</a><br /><a href="#getversion">getversion</a><br /><a href="#getvoicevol">getvoicevol</a><br /><a href="#getwindowsize">getwindowsize</a><br /><a href="#getzxc">getzxc</a><br /><a href="#globalon">globalon</a><br /><a href="#gosub">gosub</a><br /><a href="#goto">goto</a><br /><a href="#humanorder">humanorder</a><br /><a href="#humanpos">humanpos</a><br /><a href="#humanz">humanz</a><br /><a href="#if">if</a><br /><a href="#inc">inc</a><br /><a href="#indent">indent</a><br /><a href="#input">input</a><br /><a href="#inputnum">inputnum</a><br /><a href="#inputstr">inputstr</a><br /><a href="#insertmenu">insertmenu</a><br /><a href="#intlimit">intlimit</a><br /><a href="#isdown">isdown</a><br /><a href="#isfull">isfull</a><br /><a href="#ispage">ispage</a><br /><a href="#isskip">isskip</a><br /><a href="#itoa">itoa</a><br /><a href="#itoa2">itoa2</a><br /><a href="#jumpb">jumpb</a><br /><a href="#jumpf">jumpf</a><br /><a href="#kidokumode">kidokumode</a><br /><a href="#kidokuskip">kidokuskip</a><br /><a href="#killmenu">killmenu</a><br /><a href="#kinsoku">kinsoku</a><br /><a href="#labelexist">labelexist</a><br /><a href="#labellog">labellog</a><br /><a href="#layermessage">layermessage</a><br /><a href="#lchk">lchk</a><br /><a href="#ld">ld</a><br /><a href="#len">len</a><br /><a href="#linepage">linepage</a><br /><a href="#linkcolor">linkcolor</a><br /><a href="#loadgame">loadgame</a><br /><a href="#loadgosub">loadgosub</a><br /><a href="#locate">locate</a><br /><a href="#logsp">logsp</a><br /><a href="#logsp2">logsp2</a><br /><a href="#lookbackbutton">lookbackbutton</a><br /><a href="#lookbackcolor">lookbackcolor</a><br /><a href="#lookbackflush">lookbackflush</a><br /><a href="#lookbackoff">lookbackoff</a><br /><a href="#lookbackon">lookbackon</a><br /><a href="#lookbacksp">lookbacksp</a><br /><a href="#lookbackvoice">lookbackvoice</a><br /><a href="#loopbgm">loopbgm</a><br /><a href="#loopbgmstop">loopbgmstop</a><br /><a href="#lr_trap">lr_trap</a><br /><a href="#lr_trap2">lr_trap2</a><br /><a href="#lrclick">lrclick</a><br /><a href="#lsp">lsp</a><br /><a href="#lsp2">lsp2</a><br /><a href="#lsp2add">lsp2add</a><br /><a href="#lsp2sub">lsp2sub</a><br /><a href="#lsph">lsph</a><br /><a href="#lsph2">lsph2</a><br /><a href="#lsph2add">lsph2add</a><br /><a href="#lsph2sub">lsph2sub</a><br /><a href="#luacall">luacall</a><br /><a href="#luasub">luasub</a><br /><a href="#maxkaisoupage">maxkaisoupage</a><br /><a href="#menu_click_def">menu_click_def</a><br /><a href="#menu_click_page">menu_click_page</a><br /><a href="#menu_dwavvol">menu_dwavvol</a><br /><a href="#menu_full">menu_full</a><br /><a href="#menu_window">menu_window</a><br /><a href="#menuselectcolor">menuselectcolor</a><br /><a href="#menuselectvoice">menuselectvoice</a><br /><a href="#menusetwindow">menusetwindow</a><br /><a href="#mesbox">mesbox</a><br /><a href="#mid">mid</a><br /><a href="#minimizewindow">minimizewindow</a><br /><a href="#mod">mod</a><br /><a href="#mode_ext">mode_ext</a><br /><a href="#mode_saya">mode_saya</a><br /><a href="#mode_wave_demo">mode_wave_demo</a><br /><a href="#mode320">mode320</a><br /><a href="#mode400">mode400</a><br /><a href="#mode800">mode800</a><br /><a href="#monocro">monocro</a><br /><a href="#mosaicin">mosaicin</a><br /><a href="#mosaicout">mosaicout</a><br /><a href="#mousecursor">mousecursor</a><br /><a href="#mousemode">mousemode</a><br /><a href="#mov">mov</a><br /><a href="#mov10">mov10</a><br /><a href="#mov3">mov3</a><br /><a href="#mov4">mov4</a><br /><a href="#mov5">mov5</a><br /><a href="#mov6">mov6</a><br /><a href="#mov7">mov7</a><br /><a href="#mov8">mov8</a><br /><a href="#mov9">mov9</a><br /><a href="#movemousecursor">movemousecursor</a><br /><a href="#movie">movie</a><br /><a href="#movl">movl</a><br /><a href="#mp3">mp3</a><br /><a href="#mp3fadein">mp3fadein</a><br /><a href="#mp3fadeout">mp3fadeout</a><br /><a href="#mp3loop">mp3loop</a><br /><a href="#mp3save">mp3save</a><br /><a href="#mp3stop">mp3stop</a><br /><a href="#mp3vol">mp3vol</a><br /><a href="#mpegplay">mpegplay</a><br /><a href="#msp">msp</a><br /><a href="#msp2">msp2</a><br /><a href="#mul">mul</a><br /><a href="#mv">mv</a><br /><a href="#nega">nega</a><br /><a href="#next">next</a><br /><a href="#nextcsel">nextcsel</a><br /><a href="#noloaderror">noloaderror</a><br /><a href="#noteraseman">noteraseman</a><br /><a href="#notif">notif</a><br /><a href="#nsa">nsa</a><br /><a href="#nsadir">nsadir</a><br /><a href="#numalias">numalias</a><br /><a href="#ofscpy">ofscpy</a><br /><a href="#okcancelbox">okcancelbox</a><br /><a href="#play">play</a><br /><a href="#playonce">playonce</a><br /><a href="#playstop">playstop</a><br /><a href="#pretextgosub">pretextgosub</a><br /><a href="#print">print</a><br /><a href="#prnum">prnum</a><br /><a href="#prnumclear">prnumclear</a><br /><a href="#puttext">puttext</a><br /><a href="#quake">quake</a><br /><a href="#quakex">quakex</a><br /><a href="#quakey">quakey</a><br /><a href="#r_trap">r_trap</a><br /><a href="#readfile">readfile</a><br /><a href="#repaint">repaint</a><br /><a href="#reset">reset</a><br /><a href="#resetmenu">resetmenu</a><br /><a href="#resettimer">resettimer</a><br /><a href="#return">return</a><br /><a href="#rgosub">rgosub</a><br /><a href="#rlookback">rlookback</a><br /><a href="#rmenu">rmenu</a><br /><a href="#rmode">rmode</a><br /><a href="#rnd">rnd</a><br /><a href="#rnd2">rnd2</a><br /><a href="#roff">roff</a><br /><a href="#rubyoff">rubyoff</a><br /><a href="#rubyon">rubyon</a><br /><a href="#rubyon2">rubyon2</a><br /><a href="#savedir">savedir</a><br /><a href="#savefileexist">savefileexist</a><br /><a href="#savegame">savegame</a><br /><a href="#savegame2">savegame2</a><br /><a href="#savename">savename</a><br /><a href="#savenumber">savenumber</a><br /><a href="#saveoff">saveoff</a><br /><a href="#saveon">saveon</a><br /><a href="#savepoint">savepoint</a><br /><a href="#savescreenshot">savescreenshot</a><br /><a href="#savescreenshot2">savescreenshot2</a><br /><a href="#savetime">savetime</a><br /><a href="#select">select</a><br /><a href="#selectbtnwait">selectbtnwait</a><br /><a href="#selectcolor">selectcolor</a><br /><a href="#selectvoice">selectvoice</a><br /><a href="#selgosub">selgosub</a><br /><a href="#selnum">selnum</a><br /><a href="#setcursor">setcursor</a><br /><a href="#seteffectspeed">seteffectspeed</a><br /><a href="#setkinsoku">setkinsoku</a><br /><a href="#setlayer">setlayer</a><br /><a href="#setwindow">setwindow</a><br /><a href="#setwindow2">setwindow2</a><br /><a href="#setwindow3">setwindow3</a><br /><a href="#sevol">sevol</a><br /><a href="#shadedistance">shadedistance</a><br /><a href="#shell">shell</a><br /><a href="#sin">sin</a><br /><a href="#skip">skip</a><br /><a href="#skipoff">skipoff</a><br /><a href="#soundpressplgin">soundpressplgin</a><br /><a href="#spbtn">spbtn</a><br /><a href="#spclclk">spclclk</a><br /><a href="#spfont">spfont</a><br /><a href="#spi">spi</a><br /><a href="#split">split</a><br /><a href="#spstr">spstr</a><br /><a href="#spwait">spwait</a><br /><a href="#stop">stop</a><br /><a href="#stralias">stralias</a><br /><a href="#strsp">strsp</a><br /><a href="#strsph">strsph</a><br /><a href="#sub">sub</a><br /><a href="#systemcall">systemcall</a><br /><a href="#tablegoto">tablegoto</a><br /><a href="#tal">tal</a><br /><a href="#tan">tan</a><br /><a href="#tateyoko">tateyoko</a><br /><a href="#texec">texec</a><br /><a href="#texec2">texec2</a><br /><a href="#textbtnoff">textbtnoff</a><br /><a href="#textbtnstart">textbtnstart</a><br /><a href="#textbtnwait">textbtnwait</a><br /><a href="#textclear">textclear</a><br /><a href="#textcolor">textcolor</a><br /><a href="#textexbtn">textexbtn</a><br /><a href="#textfield">textfield</a><br /><a href="#textgosub">textgosub</a><br /><a href="#texthide">texthide</a><br /><a href="#textoff">textoff</a><br /><a href="#texton">texton</a><br /><a href="#textshow">textshow</a><br /><a href="#textspeed">textspeed</a><br /><a href="#textspeeddefault">textspeeddefault</a><br /><a href="#time">time</a><br /><a href="#transbtn">transbtn</a><br /><a href="#transmode">transmode</a><br /><a href="#trap">trap</a><br /><a href="#trap2">trap2</a><br /><a href="#underline">underline</a><br /><a href="#useescspc">useescspc</a><br /><a href="#usewheel">usewheel</a><br /><a href="#v">v</a><br /><a href="#value">value</a><br /><a href="#versionstr">versionstr</a><br /><a href="#voicevol">voicevol</a><br /><a href="#vsp">vsp</a><br /><a href="#vsp2">vsp2</a><br /><a href="#wait">wait</a><br /><a href="#waittimer">waittimer</a><br /><a href="#wave">wave</a><br /><a href="#waveloop">waveloop</a><br /><a href="#wavestop">wavestop</a><br /><a href="#windowback">windowback</a><br /><a href="#windowchip">windowchip</a><br /><a href="#windoweffect">windoweffect</a><br /><a href="#winexec">winexec</a><br /><a href="#yesnobox">yesnobox</a><br /><a href="#zenkakko">zenkakko</a><br /></div></div><div id="MAIN"><a id="-"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />-</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>NUM&#39;-&#39;NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">要计算的数</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">要计算的数</span><br /></div><div class="ContentBody"><p class="Description">从前一个数字中减去一个后一个数值。<br />计算结果一般用作命令的参数。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#sub">sub</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="!d"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特殊文字]</span><br /><span class="WordPhonetic"></span><br />!d</h2><h4><a class="WordCategory" href="#category_wait_timer">等待・定时器</a></h4><h3>!dNUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">等待的时间(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">等待数字X1ms的时间。鼠标点击则会跳过。<br />数字必须是普通数字。若想使用变量，<br />请使用delay命令。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="!s"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特殊文字]</span><br /><span class="WordPhonetic"></span><br />!s</h2><h4><a class="WordCategory" href="#category_drawtext">文字显示命令</a></h4><h3>!sNUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">每个文字的显示速度(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">以毫秒为单位指定每个文字的显示速度。<br />数字必须是普通数字。若想使用变量，<br />请使用textspeed命令。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="!sd"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特殊文字]</span><br /><span class="WordPhonetic"></span><br />!sd</h2><h4><a class="WordCategory" href="#category_windowmenu">窗口菜单相关命令</a></h4><h3>!sd</h3><div class="ContentBody"><p class="Description">上方的文字速度菜单中有“低速”、“普通”、“高速”三个对应的文字速度。对应的文字速度可以用defaultspeed命令来设定。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="!w"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特殊文字]</span><br /><span class="WordPhonetic"></span><br />!w</h2><h4><a class="WordCategory" href="#category_wait_timer">等待・定时器</a></h4><h3>!wNUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">等待的时间(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">等待数字x1毫秒的时间。鼠标点击无法跳过。<br />数字必须是普通数字。若想使用变量，<br />请使用wait命令。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="#"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特殊文字]</span><br /><span class="WordPhonetic"></span><br />#</h2><h4><a class="WordCategory" href="#category_drawtext">文字显示命令</a></h4><h3>#rrggbb</h3><div class="ContentBody"><p class="Description">更改字符的颜色。和HTML的颜色形式相同。<br />（即每两个十六进制数字表示一种颜色值构成的六个十六进制数<br />#000000为黑色，#ffffff为白色，#ffffaa为浅黄色。）<br />注意改变颜色之后会保持改变后的状态。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="$"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特别定义语]</span><br /><span class="WordPhonetic"></span><br />$</h2><h4><a class="WordCategory" href="#category_format">脚本格式相关命令</a></h4><h3>&#39;$&#39;NUM</h3><div class="Arguments"><span class="ArgType">数字</span><span class="ArgMeaning">变量编号(0～4095)</span><br /></div><div class="ContentBody"><p class="Description">文字变量为$0～$999一共1000个。<br />从0到199是普通变量，200到999是全局变量。<br />当你结束游戏或者用reset命令重置游戏的时候普通变量会回复初值，而全局变量则不会。<br />普通变量的值会在保存时写入存档文件中，载入时从存档文件中恢复其值，而全局变量则不会这样。<br />具体来说，比如用普通变量储存好感度，用全局变量储存清除标志。这样不失一个好方法。<br />但是，要使用全局变量的话，必须在定义部分执行globalon命令。<br />文字变量的初值为&quot;&quot;。（空字符串）</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将“字符串”代入变量0</div><pre class="ExSource">mov $0,&quot;字符串&quot;</pre><span class="ExHeading">例)</span><br /><div class="ExComment">用变量0的值定义精灵</div><pre class="ExSource">lsp 0,&quot;:s;#ffffff&quot; + $0,0,0</pre></div><hr /><a href="javascript:void(0);">%</a> / <a href="#value">value</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="$"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特殊文字]</span><br /><span class="WordPhonetic"></span><br />$</h2><h4><a class="WordCategory" href="#category_var_bar">文字・数字・色块显示</a></h4><h3>$NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">变量编号</span><br /></div><div class="ContentBody"><p class="Description">通常情况下是一个文字变量，但是在显示文字中会显示文字变量的内容。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="%"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特别定义语]</span><br /><span class="WordPhonetic"></span><br />%</h2><h4><a class="WordCategory" href="#category_format">脚本格式相关命令</a></h4><h3>&#39;%&#39;NUM</h3><div class="Arguments"><span class="ArgType">数字</span><span class="ArgMeaning">变量编号(0～4095)</span><br /></div><div class="ContentBody"><p class="Description">数字变量为%0~%999一共1000个。<br />从0到199是普通变量，200到999是全局变量。<br />当你结束游戏或者用reset命令重置游戏的时候普通变量会回复初值，而全局变量则不会。<br />普通变量的值会在保存时写入存档文件中，载入时从存档文件中恢复其值，而全局变量则不会这样。<br />具体来说，比如用普通变量储存好感度，用全局变量储存清除标志。这样不失一个好方法。<br />但是，要使用全局变量的话，必须在定义部分执行globalon命令。<br />数字变量的初值为0。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">变量0赋值为1</div><pre class="ExSource">mov %0,1</pre><span class="ExHeading">例)</span><br /><div class="ExComment">用变量0的值定义精灵</div><pre class="ExSource">lsp %0,&quot;:s;#ffffff文字列&quot;,0,0</pre></div><hr /><a href="#$">$</a> / <a href="#value">value</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="%"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特殊文字]</span><br /><span class="WordPhonetic"></span><br />%</h2><h4><a class="WordCategory" href="#category_var_bar">文字・数字・色块显示</a></h4><h3>%NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">变量编号</span><br /></div><div class="ContentBody"><p class="Description">通常情况下是一个数字变量，但是在显示文字中会显示数字变量的内容。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="()"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特殊文字]</span><br /><span class="WordPhonetic"></span><br />()</h2><h4><a class="WordCategory" href="#category_ruby">注音相关</a></h4><h3>&#39;(&#39;STR&#39;/&#39;STR&#39;)&#39;</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">要注音的文字</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">注音</span><br /></div><div class="ContentBody"><p class="Description">表示有注音文字</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">脚本例子（运行一下这段代码就知道注音功能大概是什么了。by yyd）</div><pre class="ExSource">*define
rubyon
game
*start
setwindow 10,10,20,20,24,24,0,12,0,1,1,#ffffff,0,0,639,479
ルビ機能の(暫定仕様/ざんていしよう)です。@
ｒｕｂｙｏｎ時、(文字/もじ)は(下詰/したづめ)で表示されます。@
(縦/たて)の(字間/じかん)を、ルビが入る分とって下さい。@
「(承/うけたまわ)」る、とか、「(論理的/ロジカル)」みたいに、文字幅をあわせようとする機能がついてます。
注意(注音/中二)功能不会自动换行。\
end
</pre></div><hr /><a href="#rubyoff">rubyoff</a> / <a href="#rubyon">rubyon</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="*"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特别定义语]</span><br /><span class="WordPhonetic"></span><br />*</h2><h4><a class="WordCategory" href="#category_format">脚本格式相关命令</a></h4><h3>&#39;*&#39;NAME</h3><div class="Arguments"><span class="ArgType">名称</span><span class="ArgMeaning">标签名</span><br /></div><div class="ContentBody"><p class="Description">以*开始的文字是标签名。是goto等命令的跳转目的地。<br />标签名的一个字符必须是半角字母或者&quot;_&quot;（下划线），之后的字符可以为字母、&quot;_&quot;（下划线）、数字的组合。<br /><br />　　正确例子）　  *HAJIMARI<br />　　　　　　　　　*Mike_Tom<br />　　　　　　　　　*day01<br /><br />　　错误例子）　  *开始　　   （使用了全角文字）<br />　　　　　　　　　*Mike&amp;Tom　 （使用了除了下划线以外的符号)<br />　　　　　　　　　*01day　　　（首字符是数字）<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">连字符&quot;-&quot;也不能使用。&quot;_&quot;称为下划线或者下横线。<br />此外，大小写并没有区别即*HAJIMARI和*hajimari被认为是相同的。(by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">定义一个asterisk标签</div><pre class="ExSource">*asterisk</pre></div><hr /><a href="#gosub">gosub</a> / <a href="#goto">goto</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="*"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />*</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>NUM&#39;*&#39;NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">要计算的数</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">要计算的数</span><br /></div><div class="ContentBody"><p class="Description">前面的数乘以后面的数。<br />计算结果一般用作命令的参数。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#mul">mul</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="*customsel"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特别定义语]</span><br /><span class="WordPhonetic"></span><br />*customsel</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>*customsel</h3><div class="ContentBody"><p class="Description">执行csel命令之后，自动跳转到这个标签。这个标签之后是实现处理选择支的部分。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">实现csel选择支的处理</div><pre class="ExSource">*customsel
skipoff
*csel_st
btndef clear
getcselnum %0
getcursorpos %1,%2
cselbtn 0,500,%1,%2
add %2,21
cselbtn 1,501,%1,%2
if %0&gt;2 add %2,21:cselbtn 2,502,%1,%2
if %0&gt;3 add %2,21:cselbtn 3,503,%1,%2
if %0&gt;4 add %2,21:cselbtn 4,504,%1,%2

*csel_loop
selectbtnwait %0
if %0=-2 systemcall lookback:goto *csel_loop
if %0=-1 gosub *rclk:goto *csel_st
if %0&gt;=500 &amp; %0&lt;=504 saveon:sub %0,500:cselgoto %0
goto *csel_loop
</pre></div><hr /><a href="#csel">csel</a> / <a href="#cselbtn">cselbtn</a> / <a href="#cselgoto">cselgoto</a> / <a href="#getcselnum">getcselnum</a> / <a href="#getcselstr">getcselstr</a> / <a href="#selectbtnwait">selectbtnwait</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="*define"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特别定义语]</span><br /><span class="WordPhonetic"></span><br />*define</h2><h4><a class="WordCategory" href="#category_startend">游戏开始・重置・结束命令</a></h4><h3>*define</h3><div class="ContentBody"><p class="Description">表示定义部分的特殊标签。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">表示空的定义部分</div><pre class="ExSource">*define
game</pre></div><hr /><a href="#definereset">definereset</a> / <a href="#game">game</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="*start"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特别定义语]</span><br /><span class="WordPhonetic"></span><br />*start</h2><h4><a class="WordCategory" href="#category_startend">游戏开始・重置・结束命令</a></h4><h3>*start</h3><div class="ContentBody"><p class="Description">表示执行部分开始的特殊标签。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">表现空的执行部分。</div><pre class="ExSource">*start
end</pre></div><hr /><a href="#game">game</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="/"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特殊文字]</span><br /><span class="WordPhonetic"></span><br />/</h2><h4><a class="WordCategory" href="#category_format">脚本格式相关命令</a></h4><h3>/</h3><div class="ContentBody"><p class="Description">如果在此符号后紧跟一个换行，这个换行会被忽略。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="/"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic">すらっしゅ</span><br />/</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>NUM&#39;/&#39;NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">要计算的数</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">要计算的数</span><br /></div><div class="ContentBody"><p class="Description">前一个数除以后一个数。<br />计算结果一般用作命令的参数。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#div">div</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id=":"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特别定义语]</span><br /><span class="WordPhonetic"></span><br />:</h2><h4><a class="WordCategory" href="#category_format">脚本格式相关命令</a></h4><h3></h3><div class="ContentBody"><p class="Description">通过:（冒号）连接语句，能够在一行中同时书写多个命令。在if语句中使用有很好的效果。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">右键点击时，将所有的精灵隐藏，调用回想模式。</div><pre class="ExSource">btnwait %0
if %0=-1 allsphide:systemcall lookback</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id=";"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特别定义语]</span><br /><span class="WordPhonetic"></span><br />;</h2><h4><a class="WordCategory" href="#category_format">脚本格式相关命令</a></h4><h3>;</h3><div class="ContentBody"><p class="Description">以;开始的文字是注释。NScripter会跳过这些文字。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">为abs命令编写相关的注释</div><pre class="ExSource">defsub abs ; 对传入的变量取绝对值</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id=";$"></a><h2><span class="WordVersion">Ver.2.96</span><span class="WordField">【特别定义语】</span><br /><span class="WordPhonetic"></span><br />;$</h2><h4><a class="WordCategory" href="#category_specialmode">特殊模式设置命令</a></h4><h3>&#39;V&#39;NUM&#39;G&#39;NUM&#39;S&#39;NUM,NUM&#39;L&#39;NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">变量总数(从0到该数值-1，初始值为4096)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">全局变量的总数（初始值200）</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">画面宽度（初始值640）</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">画面高度（初始值480）</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">标签数的最大值（记录文件的最大值，初始值10000）</span><br /></div><div class="ContentBody"><p class="Description">以下的设定，不区分大小写。<br />这一行以;$开始，表示这一行用于设定模式。<br />V值　设定变量的个数。这个值可以从0开始，-1表示使用最大的变量个数。<br />G编号　设定全局变量的起始编号。<br />S宽,高　指定画面的大小。宽屏幕也适用。<br />L值　设定标签个数的最大值。这个值同时也是标签访问记录的最大值。初始值为10000，没有特殊情况的话没有必要更改这个上限。<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">格式不正确的时候会保持初始值而不会报错。<br />「VGSL」和数值之间或者「,」之间有半角空格等符号的话会报错，但是像「V2000 G1000 S800,600」这样的格式则是可行的。<br />标签个数的最大值包含了*define和*start标签，实际上设置成-2就能够任意定义了。<br />当改变画面大小时，文本区域并不会跟着改变 （by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设定变量总数为2000，1000开始为全局变量，画面大小为800x600</div><pre class="ExSource">;$V2000G1000S800,600L10000</pre></div><hr /><a href="#mode320">mode320</a> / <a href="#mode400">mode400</a> / <a href="#mode640">mode640</a> / <a href="#mode800">mode800</a> / <a href="#value">value</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="?"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特别定义语]</span><br /><span class="WordPhonetic"></span><br />?</h2><h4><a class="WordCategory" href="#category_format">脚本格式相关命令</a></h4><h3>&#39;?&#39;NUM</h3><div class="Arguments"><span class="ArgType">数字</span><span class="ArgMeaning">变量编号(0～199)</span><br /></div><div class="ContentBody"><p class="Description">使用数组变量请用dim命令。<br />数组变量为?0～?199一共能定义200个。<br />不能用作全局变量。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="@"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特殊文字]</span><br /><span class="WordPhonetic"></span><br />@</h2><h4><a class="WordCategory" href="#category_click">等待点击相关命令</a></h4><h3>@</h3><div class="ContentBody"><p class="Description">等待一次点击。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#%5C">\</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="[]"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特殊文字]</span><br /><span class="WordPhonetic"></span><br />[]</h2><h4><a class="WordCategory" href="#category_tag">文本标签相关</a></h4><h3>&#39;[&#39;STR&#39;]&#39;</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">之前要显示的信息。用</span><span class="ArgMeaning">’/‘分割。</span><br /></div><div class="ContentBody"><p class="Description">指定某些信息，可由紧跟其后的gettag命令所获得。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设定在台词显示之前，用gettag能获得「太郎」,「0001.wav」两条信息。</div><pre class="ExSource">[太郎/0001.wav]「太郎の台詞」</pre></div><hr /><a href="#gettag">gettag</a> / <a href="#pretextgosub">pretextgosub</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="_"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特殊文字]</span><br /><span class="WordPhonetic"></span><br />_</h2><h4><a class="WordCategory" href="#category_click">等待点击相关命令</a></h4><h3>_</h3><div class="ContentBody"><p class="Description">此符号后紧跟的换行符会被忽略掉。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="{}"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特殊文字]</span><br /><span class="WordPhonetic"></span><br />{}</h2><h4><a class="WordCategory" href="#category_format">脚本格式相关命令</a></h4><h3>&#39;{&#39;$VAR|%VAR,STR|NUM[,...]&#39;}&#39;</h3><div class="Arguments"><span class="ArgType">变量</span><span class="ArgMeaning">需要赋值的文字变量或者数字变量</span><br /><span class="ArgType">特殊</span><span class="ArgMeaning">前面是文字变量则为文字，数字变量则为数值</span><br /></div><div class="ContentBody"><p class="Description">用于将字符串或数值赋值到对应的变量中。<br />用{}括起来变量名和对应值，即可完成赋值。<br />但是，这里无法使用别名（alias）。<br />格式为{变量名，值，变量名，值}，只有在偶数个值的时候，所有的赋值才能成功。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="~"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特别定义语]</span><br /><span class="WordPhonetic"></span><br />~</h2><h4><a class="WordCategory" href="#category_format">脚本格式相关命令</a></h4><h3>~</h3><div class="ContentBody"><p class="Description">jumpf和jumpb命令的跳转目的地。<br />请不要在jumpf和~之间，以及jumpb和~之间放置要显示的文字。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#jumpb">jumpb</a> / <a href="#jumpf">jumpf</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="\"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特殊文字]</span><br /><span class="WordPhonetic"></span><br />\</h2><h4><a class="WordCategory" href="#category_click">等待点击相关命令</a></h4><h3>\</h3><div class="ContentBody"><p class="Description">等待换页标记。会无视之后的换行。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#@">@</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="+"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />+</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>NUM&#39;+&#39;NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">要计算的数</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">要计算的数</span><br /></div><h3>STR&#39;+&#39;STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">被连接的字符串</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">连接的字符串</span><br /></div><div class="ContentBody"><p class="Description">将后面的数值或者字符串，加到前面的数字或字符串上。<br />不同时为数值或者同时为字符串则会报错。<br />计算结果一般用作命令的参数。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">对数组变量0的下标为0的元素加1。</div><pre class="ExSource">mov ?0[0],?0[0]+1</pre><span class="ExHeading">例)</span><br /><div class="ExComment">将&quot;●&quot;赋值给$1，将&quot;あいうえお&quot;、$1、&quot;さしすせそ&quot;按顺序连接赋值给$2。</div><pre class="ExSource">mov $1,&quot;●&quot;
mov $2,&quot;あいうえお&quot;+$1+&quot;さしすせそ&quot;
;这时$2内容变成了&quot;あいうえお●さしすせそ&quot;。</pre><span class="ExHeading">例)</span><br /><div class="ExComment">将&quot;テスト&quot;赋值给$0，再将$0和&quot;あいうえお&quot;连接起来赋值给$0。</div><pre class="ExSource">mov $0,&quot;テスト&quot;
mov $0,$0+&quot;あいうえお&quot;
;这时$0内容变成了&quot;テストあいうえお&quot;。</pre></div><hr /><a href="#add">add</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="&lt;&gt;"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特殊文字]</span><br /><span class="WordPhonetic"></span><br />&lt;&gt;</h2><h4><a class="WordCategory" href="#category_textbutton">文字按钮命令</a></h4><h3>&#39;&lt;&#39;[INT]STR&#39;&gt;&#39;</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">文字按钮的编号</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">文字按钮上显示的文字</span><br /></div><div class="ContentBody"><p class="Description">设置&lt;和&gt;括起来的文字成为文字按钮。<br />文字按钮编号参数是可选的。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#erasetextexbtn">erasetextexbtn</a> / <a href="#gettextbtnstr">gettextbtnstr</a> / <a href="#linkcolor">linkcolor</a> / <a href="#textbtnstart">textbtnstart</a> / <a href="#textexbtn">textexbtn</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="abssetcursor"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />abssetcursor</h2><h4><a class="WordCategory" href="#category_cursor">光标相关命令</a></h4><h3>abssetcursor NUM,STR,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">光标编号 (0:等待单击、1:等待换行)</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">光标图像文件</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">光标显示位置右偏移量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">光标显示位置下偏移量</span><br /></div><div class="ContentBody"><p class="Description">和setcursor命令相似。只是此命令偏移坐标不是对文字的偏移坐标，而是对画面的绝对坐标。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#setcursor">setcursor</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="add"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />add</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>add %VAR,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">要被运算的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">运算数值</span><br /></div><h3>add $VAR,STR</h3><div class="Arguments"><span class="ArgType">文字变量</span><span class="ArgMeaning">要被连接的字符串</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">要连接的字符串</span><br /></div><div class="ContentBody"><p class="Description">将后一个变量加到前一个上。是文字的情况则连接他们。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">给%0变量加6.</div><pre class="ExSource">add %0,6</pre><span class="ExHeading">例)</span><br /><div class="ExComment">在$5变量后连接&quot;ああああ&quot;字符串。</div><pre class="ExSource">add $5,&quot;ああああ&quot;</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="addkinsoku"></a><h2><span class="WordVersion">Ver.2.70</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />addkinsoku</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>addkinsoku STR,STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">行头禁止字符</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">行尾禁止字符</span><br /></div><div class="ContentBody"><p class="Description">用两个字符串指定行头禁止文字以及行末禁止文字，<br />向现有的禁止文字里追加新的规则。define部分专用命令。<br /><br />可以只设置一个字符，如果使用多个字符的话，<br />则这些字符全部都是禁止字符。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#setkinsoku">setkinsoku</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="addnsadir"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />addnsadir</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>addnsadir STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">要增加的目录名</span><br /></div><div class="ContentBody"><p class="Description">增加nsa压缩文件的读取目录。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#nsadir">nsadir</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="allsp2hide"></a><h2><span class="WordVersion">Ver.2.80</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />allsp2hide</h2><h4><a class="WordCategory" href="#category_sprite_ex">扩展精灵相关命令</a></h4><h3>allsp2hide</h3><div class="ContentBody"><p class="Description">可以用来暂时隐藏所有的扩展按钮。与allsphide以及allspresume的用法是相同的。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#allsp2resume">allsp2resume</a> / <a href="#allsphide">allsphide</a> / <a href="#allspresume">allspresume</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="allsp2resume"></a><h2><span class="WordVersion">Ver.2.80</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />allsp2resume</h2><h4><a class="WordCategory" href="#category_sprite_ex">扩展精灵相关命令</a></h4><h3>allsp2resume</h3><div class="ContentBody"><p class="Description">可以用来暂时遮住所有的扩展精灵。和allsphide以及allspresume的使用方法是相同的。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#allsp2hide">allsp2hide</a> / <a href="#allsphide">allsphide</a> / <a href="#allspresume">allspresume</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="allsphide"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />allsphide</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>allsphide</h3><div class="ContentBody"><p class="Description">暂时隐藏所有的精灵。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">暂时隐藏所有的精灵。</div><pre class="ExSource">allsphide</pre></div><hr /><a href="#allspresume">allspresume</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="allspresume"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />allspresume</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>allspresume</h3><div class="ContentBody"><p class="Description">显示所有由allsphide隐藏的精灵。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">显示所有由allsphide隐藏的精灵。</div><pre class="ExSource">allspresume</pre></div><hr /><a href="#allsphide">allsphide</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="amsp"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />amsp</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>amsp NUM,NUM,NUM[,NUM]</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号(0～255)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">左上x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">左上y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">不透明度(0～255)</span><br /></div><div class="ContentBody"><p class="Description">与msp命令类似，但此命令的坐标是绝对坐标。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将2号精灵移动到（5,2），不透明度设为100。</div><pre class="ExSource">amsp 2,5,2,100</pre></div><hr /><a href="#msp">msp</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="amsp2"></a><h2><span class="WordVersion">Ver.2.80</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />amsp2</h2><h4><a class="WordCategory" href="#category_sprite_ex">扩展精灵相关命令</a></h4><h3>amsp2 NUM,NUM,NUM,NUM,NUM,NUM[,NUM]</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">扩展精灵编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">中心x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">中心y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">x方向缩放率</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">y方向缩放率</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">回转角</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">不透明度</span><br /></div><div class="ContentBody"><p class="Description">扩展精灵移动命令。msp2是根据现在值相对移动，而amsp2是根据绝对值移动。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将0号扩展精灵的中心坐标移动到10,20，x和y方向扩大10%，旋转5度。</div><pre class="ExSource">amsp2 0,10,20,10,10,5</pre></div><hr /><a href="#amsp2">amsp2</a> / <a href="#csp2">csp2</a> / <a href="#lsp2">lsp2</a> / <a href="#lsp2add">lsp2add</a> / <a href="#lsph2">lsph2</a> / <a href="#lsph2add">lsph2add</a> / <a href="#vsp2">vsp2</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="arc"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />arc</h2><h4><a class="WordCategory" href="#category_plugin_archive">插件・压缩包</a></h4><h3>arc STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">指定的插件</span><br /></div><div class="ContentBody"><p class="Description">指定解析压缩包的插件。<br />格式为，&quot;压缩包文件名|关联的dll名称&quot;。<br />对于已经对应好的图像、声音，不需要再次在脚本里指定。<br /><br />通过和读取注册表的命令相结合，可以实现各种方式的读取。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">指定压缩包文件为&quot;arc.sar&quot;，关联的处理文件为&quot;scrunarc.dll&quot;。</div><pre class="ExSource">arc &quot;arc.sar|scrunarc.dll&quot;</pre><span class="ExHeading">例)</span><br /><div class="ExComment">在安装了To Heart的系统中，读取注册表，指定压缩包文件。</div><pre class="ExSource">getreg $0,&quot;software\leaf\toheart&quot;,&quot;datadir&quot;
add $0,&quot;\lvns3dat.pak|axlfpak.spi&quot;
arc $0</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="atoi"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />atoi</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>atoi %VAR,STR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">随机数储存变量</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">要转换的字符串</span><br /></div><div class="ContentBody"><p class="Description">将字符串转换为数字。和C语言的同名函数功能相同。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">不能转换全角数字。(by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将&quot;123&quot;数值内容储存到%0中，将$0的内容代入到%3中。</div><pre class="ExSource">atoi %0,&quot;123&quot;
atoi %3,$0</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="autoclick"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />autoclick</h2><h4><a class="WordCategory" href="#category_click">等待点击相关命令</a></h4><h3>autoclick NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">点击等待时间（毫秒）</span><br /></div><div class="ContentBody"><p class="Description">等待指定的时间后会自动前进，对于DEMO来说是非常方便的命令。<br />数值为0时，此命令无效。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="automode"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />automode</h2><h4><a class="WordCategory" href="#category_specialmode">特殊模式设置命令</a></h4><h3>automode</h3><div class="ContentBody"><p class="Description">这是为商用游戏「銀色」所开发的命令。<br />执行了这个命令之后，「自动模式」会加入到菜单中。<br />自动模式是类似于「跳到下一个选择支」，但语音未播放完之前<br />并不会前进。当没有语音的时候，可以根据之后的automode_time命令<br />决定等待多少时间。<br />这便是所谓的阅读模式。<br /><br />菜单中的音量变更命令<br />现在能够使用。 （MP3(BGM) voice(DWAVE 0) SE(DWAVE 1～)的音量<br />现在已经可以使用。 ）<br />对于此命令扩展功能的增加，预定计划是增加更清晰的命令。<br />（现在是一个有效的命令，将来也会继续使用。）</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="automode_time"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />automode_time</h2><h4><a class="WordCategory" href="#category_specialmode">特殊模式设置命令</a></h4><h3>automode_time NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">自动前进时的等待时间(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">在mode_ext增加的「自动模式中」，指定没有语音时，应该等待的时间。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="autosaveoff"></a><h2><span class="WordVersion">Ver.2.93</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />autosaveoff</h2><h4><a class="WordCategory" href="#category_saveload">保存・读取命令</a></h4><h3>autosaveoff</h3><div class="ContentBody"><p class="Description">停止更新除了显示文字起始处的自动更新点。<br />（在定义部分）<br />autosaveoff<br />执行了此命令之后，saveon/saveoff命令将被无视。<br />（输出文字的开始的savepoint永远都是一直起作用的。）。<br />在显示文字起始部分以外的地方保存的话（比如click map等），请使用savepoint命令。由于执行时机的原因，有可能无法重现之前的数据。所以在需要将之前读入的画面全部恢复出来需要耗费一定的精力。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#saveoff">saveoff</a> / <a href="#saveon">saveon</a> / <a href="#savepoint">savepoint</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="avi"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic">えいぶいあい</span><br />avi</h2><h4><a class="WordCategory" href="#category_movieplay">视频播放命令</a></h4><h3>avi STR,NUM</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">文件名</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">可否中断标志(0:播放到最后、1:点击中断)</span><br /></div><div class="ContentBody"><p class="Description">播放指定的AVI文件。<br />数字为1时，单击会使播放停止，继续以下的处理。<br />为0的时候，会播放到最后，而不会跳出到脚本中。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="bar"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />bar</h2><h4><a class="WordCategory" href="#category_var_bar">文字・数字・色块显示</a></h4><h3>bar NUM,NUM,NUM,NUM,NUM,NUM,NUM,COLOR</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">长条编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">现在值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">显示位置的左上x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">显示位置的左上y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">长条宽</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">长条高</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">长条最大长度</span><br /><span class="ArgType">颜色值</span><span class="ArgMeaning">长条的颜色</span><br /></div><div class="ContentBody"><p class="Description">指定长条的显示。宽和高，是长条为最大值的时候的宽和高。<br />不足最大值的时候，会根据对应的值缩短长度。<br />长条是以左对齐形式显示的。因为只会绘制满足长条长度的部分，<br />而值不足的部分的颜色需要预先绘制好。<br />此外，在指定之后如果不使用print命令等显示出来，是不会出现在画面上的。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="barclear"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />barclear</h2><h4><a class="WordCategory" href="#category_var_bar">文字・数字・色块显示</a></h4><h3>barclear</h3><div class="ContentBody"><p class="Description">清除色块的设定。色块一般可以用来做格斗游戏的血条之类的东西。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="bclear"></a><h2><span class="WordVersion">Ver.2.93</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />bclear</h2><h4><a class="WordCategory" href="#category_button_ex">新图像按钮</a></h4><h3>bclear</h3><div class="ContentBody"><p class="Description">清除定义的按钮。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">清除定义的按钮。</div><pre class="ExSource">bclear</pre></div><hr /><a href="#btndef">btndef</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="bcursor"></a><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />bcursor</h2><h4><a class="WordCategory" href="#category_button_ex">新图像按钮</a></h4><h3>bcursor</h3><div class="ContentBody"><p class="Description">默认情况下在执行bexec时可以使用光标键来选择和用空格/回车键来决定。<br />想获得光标键输入的时候，请在bclear和bexec命令之间使用bcursor命令。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#getcursor">getcursor</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="bdef"></a><h2><span class="WordVersion">Ver.2.93</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />bdef</h2><h4><a class="WordCategory" href="#category_button_ex">新图像按钮</a></h4><h3>bdef STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">默认控制字符串</span><br /></div><div class="ContentBody"><p class="Description">指定和任意一个精灵都不重合时的处理。控制字符串和exbtn与spstr所指定的是一样的。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">指定和任意一个精灵都不重合时的处理。</div><pre class="ExSource">bdef &quot;C0&quot; ;和任意一个精灵都不重合的时候隐藏0号精灵。</pre></div><hr /><a href="#exbtn_d">exbtn_d</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="bdown"></a><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />bdown</h2><h4><a class="WordCategory" href="#category_button_ex">新图像按钮</a></h4><h3>bdown</h3><div class="ContentBody"><p class="Description">在bclear和bexec之间插入bdown命令的话，在左键单击的时候或进行处理。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#btndown">btndown</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="bexec"></a><h2><span class="WordVersion">Ver.2.93</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />bexec</h2><h4><a class="WordCategory" href="#category_button_ex">新图像按钮</a></h4><h3>bexec $VAR[,%VAR]</h3><div class="Arguments"><span class="ArgType">文字变量</span><span class="ArgMeaning">输入内容</span><br /><span class="ArgType">数字变量</span><span class="ArgMeaning">输入内容(0以上:精灵、-1:除此之外)</span><br /></div><div class="ContentBody"><p class="Description">此命令用于执行按钮的处理。变量为文字变量和者数字变量，或者两者中的一个。<br /><br />设置会一直保持到使用bclear命令清除。<br />超时时间会保持到使用btime命令更改超时时间。<br /><br />返回给文字变量的值：<br />左键单击在没有精灵的地方的时候……返回&quot;LCLICK&quot;。<br />左键单击精灵的时候……返回&quot;S（精灵编号）&quot;。例如单击12号精灵会返回&quot;S12&quot;这个值。<br />超时的时候……返回&quot;TIMEOUT&quot;。<br />右键点击的时候……返回&quot;RCLICK&quot;。<br />中键点击的时候……返回&quot;MCLICK&quot;。<br />滚轮上滚／下滚的时候……返回&quot;WHEELUP&quot; &quot;WHEELDOWN&quot;。<br />每按下一个键……都会返回对应的字符串。英文会返回大写字母。<br />　・英文和数字都会原样返回。<br />　・&quot;SPACE&quot;　空格键<br />　・&quot;RETURN&quot;　返回键<br />　・&quot;CTRL&quot;　控制键<br />　・&quot;UP&quot; &quot;DOWN&quot; &quot;LEFT&quot; &quot;RIGHT&quot; 光标键上下左右<br />　・&quot;F1&quot;～&quot;F12&quot; 功能键<br />　・&quot;PAGEUP&quot; &quot;PAGEDOWN&quot; 翻页键<br />　・&quot;SHIFT&quot;上档键<br /><br />返回给数字变量的值：<br />点击到某个精灵的时候返回精灵编号。其他情况均返回-1。<br /><br />接受到上述任何一个值都会返回，但是接收到之外的值会继续执行bexec命令。<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">2009/04/22版之后，可以获得中键点击。<br />ver.2.93中不是MCLICK而是CCLICK。<br />ver2.94中默认是用光标键改变选择，空格/回车决定。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">执行按钮处理，文字变量和数字变量储存相应的结果。</div><pre class="ExSource">bexec $0,%0</pre></div><hr /><a href="#btnwait">btnwait</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="bg"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />bg</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>bg STR,EFFECT</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">文件名</span><br /><span class="ArgType">效果</span><span class="ArgMeaning">显示背景时的效果</span><br /></div><h3>bg COLOR,EFFECT</h3><div class="Arguments"><span class="ArgType">颜色值</span><span class="ArgMeaning">背景色</span><br /><span class="ArgType">效果</span><span class="ArgMeaning">显示背景时的效果</span><br /></div><h3>bg {black,white},EFFECT</h3><div class="Arguments"><span class="ArgType">列举</span><span class="ArgMeaning">背景为黑色或者白色</span><br /><span class="ArgType">效果</span><span class="ArgMeaning">显示背景时的效果</span><br /></div><div class="ContentBody"><p class="Description">加载背景图像。第一种用法是从文件中读取，第二种用法是用某一种颜色覆盖，第三种是用黑色或者白色覆盖。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#bgalia">bgalia</a> / <a href="#effect">effect</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="bgalia"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />bgalia</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>bgalia NUM,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">左上x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">左上y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">图像宽</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">图像高</span><br /></div><div class="ContentBody"><p class="Description">使用特殊大小的背景时所用命令。<br />从x，y处开始，以width x height的大小绘制图像。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#bg">bg</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="bgcopy"></a><h2><span class="WordVersion">Ver.2.50</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />bgcopy</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>bgcopy</h3><div class="ContentBody"><p class="Description">bgcpy等同于此命令。抓取现在的画面作为背景图像。<br />和ofscpy以及ofscopy命令不同的地方在于，抓取背景图像的同时会抓取保存文本窗口。<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">ver.2.51中，此命令已经可以很好的保存抓取下来的图像了。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#draw">画</a> /<hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="bgm"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />bgm</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>bgm STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">需要播放的文件名</span><br /></div><div class="ContentBody"><p class="Description">循环播放压缩音乐文件。和mp3loop命令是同一命令。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">在ver 2.93中，使用此命令播放ogg volvis格式的时候需要nsogg2.dll文件。（by senzogawa)<br />使用nsogg.dll，nsogg2.dll的时候。可以通过bgm &quot;(从音乐中间某个时间)文件名&quot; 这种格式指定循环时重新开始的地方。<br />单位为秒。也可以指定为小数。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">循环播放&quot;bgm01.mp3&quot;。</div><pre class="ExSource">bgm &quot;bgm01.mp3&quot;</pre></div><hr /><a href="#bgmonce">bgmonce</a> / <a href="#bgmvol">bgmvol</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="bgmdownmode"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />bgmdownmode</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>bgmdownmode NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">为1则开启</span><br /></div><div class="ContentBody"><p class="Description">语音播放的时候降低BGM的音量。<br />	</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">语音播放的时候降低BGM的音量。</div><pre class="ExSource">bgmdownmode 1</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="bgmfadein"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br /></h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>bgmfadein NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">效果时间(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">与bgmfadeout格式相同，指定淡入淡出效果的时间。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#bgmfadeout">bgmfadeout</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="bgmfadeout"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />bgmfadeout</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>bgmfadeout NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">效果时间(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">指定BGM淡出的时间。<br />定义部分和执行部分都可以使用。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#bgmfadein">bgmfadein</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="bgmonce"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />bgmonce</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>bgmonce STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">需要播放的文件名</span><br /></div><div class="ContentBody"><p class="Description">只播放一次压缩后的音乐文件。和mp3命令相同。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">在ver 2.93中，使用此命令播放ogg volvis格式的时候需要nsogg2.dll文件。（by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">播放一次&quot;bgm01.mid&quot;。</div><pre class="ExSource">bgm &quot;bgm01.mid&quot;</pre></div><hr /><a href="#bgm">bgm</a> / <a href="#bgmvol">bgmvol</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="bgmstop"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />bgmstop</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>bgmstop</h3><div class="ContentBody"><p class="Description">停止播放压缩音乐文件。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="bgmvol"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />bgmvol</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>bgmvol NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">音量(0～100）</span><br /></div><div class="ContentBody"><p class="Description">改变bgm的音量。对bgm命令和mp3命令均有效。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">音量值不会自动保存，请手动管理。<br />play命令不受此影响。(by senzogawa)<br />但是使用nsogg.dll或是nsogg2.dll时会恢复存档时的音量。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将bgm的音量设为100。（0-100）</div><pre class="ExSource">bgmvol 100</pre></div><hr /><a href="#chvol">chvol</a> / <a href="#mp3vol">mp3vol</a> / <a href="#sevol">sevol</a> / <a href="#voicevol">voicevol</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="blt"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />blt</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>blt NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">画面上显示位置的X坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">画面上显示位置的Y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">画面上的显示宽度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">画面上的显示高度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">按钮图像的X坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">按钮图像的Y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">按钮图像宽</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">按钮图像高</span><br /></div><div class="ContentBody"><p class="Description">在画面上高速显示图像的时候（例如AIR的OP的动画效果处理）使用的命令。<br />因为要使用按钮图像缓存的缘故，所以请预先用btndef命令读取图像。<br />当读取的图像的宽度和画面窗口的宽度不匹配的时候，会根据画面大小扩大或者缩小。<br />（例如，预先载入全屏XY大小一半的图像，在高速扩大的同时显示完整画面，以像素单位渐隐残像的动画效果。在AIR的OP多次中使用。）<br />此命令不经过缓冲区，而是直接将图像输出到屏幕上。因此，结束之后offscreen中的图像是不确定的，于是在使用ofscpy命令之后，一定要使用普通的bg命令等，来确定offscreen中的画像。<br /><br />　即使保存，此命令的结果图像并不会一起保存。<br />　因此，能够使用的地方受到限制。（DEMO示例，以及SLG游戏中的小窗动画，保存动画或者计数器跳动等动作的处理。）</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#ofscpy">ofscpy</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="bmpcut"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />bmpcut</h2><h4><a class="WordCategory" href="#category_support">开发支持命令</a></h4><h3>bmpcut STR,NUM,NUM</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">图像文件名</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">横向分割数</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">纵向分割数</span><br /></div><div class="ContentBody"><p class="Description">将图像文件以指定的分割数分割后以bmp形式保存。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">注意不要漏掉文件名。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将test.bmp以横向3，纵向2分割并以bmp形式保存。
</div><pre class="ExSource">bmpcut &quot;test.bmp&quot;,3,2</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="br"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />br</h2><h4><a class="WordCategory" href="#category_drawtext">文字显示命令</a></h4><h3>br</h3><div class="ContentBody"><p class="Description">此命令用于显示文字时的换行。请在想要显示一个空行的时候使用此命令。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="break"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />break</h2><h4><a class="WordCategory" href="#category_statement">条件表达式・循环语句命令</a></h4><h3>break</h3><div class="ContentBody"><p class="Description">从最内部的一重循环中跳出。<br />会寻找下一个NEXT命令，跳出循环执行下一条命令。<br /><br />无法一次性地跳出二重循环。<br />在跳出一重循环后，请再次写上break命令。<br /><br />【不推荐的使用方式】<br />BREAK *标签名<br />如果该标签存在的话，会跳转到指定的标签。<br />但是，如果是从二重循环中跳出，<br />只会解除最内部一重循环的循环状态。<br />正如前面所说的一样，这样的用法不仅会浪费堆栈，<br />而且让代码阅读起来很困难，所以不推荐。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">%0从1以1为步长增加到8，%1以-2为步长从6减少到2，输出%0和%1。仅当%0为4，%1为4的时候，不再减少%1，而是回到上一个循环中。</div><pre class="ExSource">*define
game
*start
for %0=1 to 8
for %1=6 to 2 step -2
%0，%1
if %0=4 &amp; %1=4 break
next
next
click
end</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="bsp"></a><h2><span class="WordVersion">Ver.2.93</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />bsp</h2><h4><a class="WordCategory" href="#category_button_ex">新图像按钮</a></h4><h3>bsp NUM[,STR,STR,STR]</h3><div class="Arguments"><span class="ArgType">名称</span><span class="ArgMeaning">命令名</span><br /></div><div class="ContentBody"><p class="Description">设定精灵为一个按钮。<br />省略参数的话，鼠标重叠时转到分格1，不重叠的时候转到分格0，鼠标点击的时候转到分格2（仅限于分格数大于3的情况）。<br />可以指定三个参数。三个参数都是和exbtn和spstr命令指定相同的字符串，依次为「鼠标不与精灵重叠时的处理」「鼠标和精灵重叠时的处理」「鼠标点击时的处理」。<br />当字符串为&quot;&quot;的时候，什么都不做。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">指定控制字符串的时候有bug。20090417版之后进行了修正。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设定精灵为一个按钮。</div><pre class="ExSource">bsp 1 ;设置1号精灵为按钮。
bsp 2,&quot;P3,0&quot;,&quot;P3,1&quot;,&quot;P4,1&quot; ;设置2号精灵为按钮。设置鼠标未重叠，重叠，鼠标按下的三个时候的处理指令。</pre></div><hr /><a href="#exbtn">exbtn</a> / <a href="#spbtn">spbtn</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="btime"></a><h2><span class="WordVersion">Ver.2.93</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />btime</h2><h4><a class="WordCategory" href="#category_button_ex">新图像按钮</a></h4><h3>btime NUM[,NUM]</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">超时时间(毫秒)</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">为1的时候等待语音结束</span><br /></div><div class="ContentBody"><p class="Description">指定开始按钮处理算起超时所需的时间。<br />第二个参数指定1的话，即使时间结束也会等待语音（dwave的通道0）的播放结束。此参数在automode中才能使用。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">指定开始按钮处理算起超时所需的时间。</div><pre class="ExSource">btime 2000 ;2秒后超时。
btime 1000,1 ;一秒后超时。如果此时语音未结束的话会等待语音结束。</pre></div><hr /><a href="#btntime">btntime</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="btn"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />btn</h2><h4><a class="WordCategory" href="#category_button">图像按钮</a></h4><h3>btn NUM,NUM,NUM,NUM,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">按钮编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">显示位置的左上X坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">显示位置的左上Y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">按钮图像宽</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">按钮图像高</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">从原图像抽出图像的左上角X坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">从原图像抽出图像的左上角Y坐标</span><br /></div><div class="ContentBody"><p class="Description">从左至右，参数为按钮编号，x，y，wd，ht，x3，y3。<br />此为按钮的定义命令。按钮编号应大于0。<br />从游戏的画面上(x,y)处抽取大小为wd * ht的图像作为按钮，<br />当鼠标移动到上面时，以(x3,y3)作为左上角显示按钮图像文件。<br />欲了解更多信息，请参考文件夹btndemo中的说明.txt。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="btnarea"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />btnarea</h2><h4><a class="WordCategory" href="#category_input">键盘按键扩展</a></h4><h3>btnarea NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">区域Y坐标</span><br /></div><div class="ContentBody"><p class="Description">请在btndef命令后使用。<br />如果为负值则取绝对值，取大于此数的区域，如果为正则取小于次数的区域。当鼠标移动到这个区域时，返回-4。<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">当指定了多个btnarea的时候，似乎只有最后一个命令有效。by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设定为鼠标光标到达窗口400Y坐标以下的时候返回-4。</div><pre class="ExSource">btndef clear
btnarea -400
</pre></div><hr /><a href="#btndef">btndef</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="btndef"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />btndef</h2><h4><a class="WordCategory" href="#category_button">图像按钮</a></h4><h3>btndef STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">按钮图像文件名</span><br /></div><h3>btndef clear</h3><div class="Arguments"><span class="ArgType">列举</span><span class="ArgMeaning">清除按钮化的图像</span><br /></div><div class="ContentBody"><p class="Description">设定按钮图像文件。使用此命令会清除之前的按钮定义。<br />欲了解更多信息，请参考文件夹btndemo中的说明.txt。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="btndown"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />btndown</h2><h4><a class="WordCategory" href="#category_input">键盘按键扩展</a></h4><h3>btndown NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">设定标志(0:解除,1:设定)</span><br /></div><div class="ContentBody"><p class="Description">请在btndef和btnwait命令之间使用这个命令。<br />使用了此命令之后，只需在按下按钮的情况下就取得按键返回值。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设定为按钮为按下而不必等待恢复就起作用。</div><pre class="ExSource">btndown 1</pre></div><hr /><a href="#btndef">btndef</a> / <a href="#btnwait">btnwait</a> / <a href="#isdown">isdown</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="btnnowindowerase"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />btnnowindowerase</h2><h4><a class="WordCategory" href="#category_textwindow">文字窗口命令</a></h4><h3>btnnowindowerase</h3><div class="ContentBody"><p class="Description">显示按钮时不会消去文本窗口。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设定为显示按钮时不会消去文本窗口。</div><pre class="ExSource">btnnowindowerase</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="btntime"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />btntime</h2><h4><a class="WordCategory" href="#category_button">图像按钮</a></h4><h3>btntime %VAR</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">btnwait或者btnwait2的限制时间(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">指定下一次btmwait或者btnwait2命令的等待时间。使用了此命令之后，在等待按钮的时，若超时返回-2。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">指定了使用usewheel的时候，返回值为-5。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="btntime2"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />btntime2</h2><h4><a class="WordCategory" href="#category_button">图像按钮</a></h4><h3>btntime2 NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">超时的时间(单位：毫秒)</span><br /></div><div class="ContentBody"><p class="Description">和btntime命令相同，会等待语音结束。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设置下一个btnwait命令1秒后超时。</div><pre class="ExSource">btntime2 1000</pre></div><hr /><a href="#btntime">btntime</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="btnwait"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />btnwait</h2><h4><a class="WordCategory" href="#category_button">图像按钮</a></h4><h3>btnwait %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">输入结果</span><br /></div><div class="ContentBody"><p class="Description">实际处理按钮按下。将结果返回到数字变量中。<br /><br />返回值：<br />０…没有点击到任何按钮上<br />－１…右键点击<br />其他…按钮编号<br /><br />返回值小于0(没有按下任何按钮)时，如果立即再一次调用btnwait命令，按钮会保持原状。<br />返回值大于等于1（实际上按下了某个按钮）时，按下的瞬间保持图像，实际上清除了所有的按钮定义。（为节省内存）<br />欲了解更多信息，请参考文件夹btndemo中的说明.txt。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="btnwait2"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />btnwait2</h2><h4><a class="WordCategory" href="#category_button">图像按钮</a></h4><h3>btnwait2 %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">输入结果</span><br /></div><div class="ContentBody"><p class="Description">实际处理按钮按下。将结果返回到数字变量中。<br /><br />返回值：<br />０…没有点击到任何按钮上<br />－１…右键点击<br />其他…按钮编号<br /><br />和btnwait命令不同，不会清除按钮定义。因此，按钮图像保持着读入的状态。<br />当按钮处理结束时，不再需要按钮的时候，为了给其他处理腾出内存，建议使用btndef &quot;&quot;来清除按钮定义，释放按钮图像。 </p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="btrans"></a><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />btrans</h2><h4><a class="WordCategory" href="#category_button_ex">新图像按钮</a></h4><h3>btrans</h3><div class="ContentBody"><p class="Description">在bclear和bexec命令之间使用btrans的话，则对按钮图像的透明部分不作任何反应。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#transbtn">transbtn</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="bw2a"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />bw2a</h2><h4><a class="WordCategory" href="#category_support">开发支持命令</a></h4><h3>bw2a STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">图像文件名(不含拓展名)</span><br /></div><div class="ContentBody"><p class="Description">由&quot;参数字符串_w.bmp&quot;和&quot;参数字符串_b.bmp&quot;生成一个NScr形式的透明图像。<br />和附带的bw2aconv.exe功能相同。<br /><br />＜豆知识＞<br />从命令提示符中<br />dir /b &gt; filelist.txt<br />可以获得文件列表。<br />最好与这个列表组合进行批量变换。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">由test_w.bmp和test_b.bmp组合成α值形式的bmp文件。</div><pre class="ExSource">bw2a &quot;test&quot;</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="bw2a3"></a><h2><span class="WordVersion">Ver.2.49</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />bw2a3</h2><h4><a class="WordCategory" href="#category_support">开发支持命令</a></h4><h3>bw2a3 STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">图像文件名(不含拓展名)</span><br /></div><div class="ContentBody"><p class="Description">抽取白色和黑色，生成NScr形式的透明图像。<br />量产用的命令。<br />nscripter会从同样一个位置的b文件夹中和w文件夹中，分别提取白色和黑色（有关白色提取和黑色提取请参阅bw2a的说明。）<br />文件名和原来的文件名一样。如果使用Photoshop的话作业效率也许会更高。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">b\test.bmp和w\test.bmp生成out\test.bmp。</div><pre class="ExSource">bw2a3 &quot;test.bmp&quot;</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="caption"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />caption</h2><h4><a class="WordCategory" href="#category_information">信息显示命令</a></h4><h3>caption STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">作为窗口标题显示的字符串</span><br /></div><div class="ContentBody"><p class="Description">更改窗口的标题。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="cdfadeout"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />cdfadeout</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>cdfadeout NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">播放CD淡出的时间(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">以毫秒为单位指定CD播放的淡出时间。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="cell"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />cell</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>cell NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号(0～255)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">单元编号(0～单元数-1)</span><br /></div><div class="ContentBody"><p class="Description">手动指定精灵的分格。因为只是在内部状态上进行了切换，所以之后请使用print命令在画面上反应出来。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="cellcheckexbtn"></a><h2><span class="WordVersion">Ver.2.49</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />cellcheckexbtn</h2><h4><a class="WordCategory" href="#category_button">图像按钮</a></h4><h3>cellcheckexbtn NUM,NUM,STR</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">按钮编号</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">光标相关的控制字符串</span><br /></div><div class="ContentBody"><p class="Description">cellcheckspbtn的exbtn版本。参数和exbtn相同。<br />当精灵被加载时，具有两个或以上分格的精灵会被定义为复合按钮。否则会被忽略。<br />此外，也请参照和exbtn相关的「样本」「自定义菜单时的复合按钮」。增加了新功能S（音频播放）和M（精灵一定）。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">因为精灵1号有两个以上的分格，所有定义为100号按钮，鼠标移动到按钮上时显示精灵1的分格1和精灵2。</div><pre class="ExSource">cellcheckexbtn 1,100,&quot;P1,1P2&quot;</pre></div><hr /><a href="#cellcheckspbtn">cellcheckspbtn</a> / <a href="#exbtn">exbtn</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="cellcheckspbtn"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />cellcheckspbtn</h2><h4><a class="WordCategory" href="#category_button">图像按钮</a></h4><h3>cellcheckspbtn NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号(0～999)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">按钮编号</span><br /></div><div class="ContentBody"><p class="Description">基本上和spbtn功能相同，但是分格不足两个图像的精灵会被无视。<br />这个命令在ＣＧ模式很有用。<br />（也就是说，略缩图的分格只有1的话，<br />spbtn的注册会一直循环下去。）</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">对于编号为0~9的精灵，将分格超过2的图像定义为按钮。</div><pre class="ExSource">for %0=0 to 9
  cellcheckspbtn %0,%0+1
next</pre></div><hr /><a href="#spbtn">spbtn</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="chainbmp"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />chainbmp</h2><h4><a class="WordCategory" href="#category_support">开发支持命令</a></h4><h3>chainbmp STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">图像文件名</span><br /></div><div class="ContentBody"><p class="Description">在out.bmp的旁边附加上该图像文件。<br />没有则生成out.bmp。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">图像的纵向高度必须相同。<br />并不是那么的好用。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="checkkey"></a><h2><span class="WordVersion">Ver.2.92</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />checkkey</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>checkkey %VAR,STR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">结果(0:按下、1:为按下)</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">按键种类</span><br /></div><div class="ContentBody"><p class="Description">获得键的按下状态。<br />字符串可以被指定为英文字符，数字，空格等等。<br />也可以用&quot;SPACE&quot;获得空格键。<br />&quot;RETURN&quot; &quot;ENTER&quot; 回车键<br />&quot;CTRL&quot; ctrl键<br />&quot;UP&quot; &quot;DOWN&quot; &quot;LEFT&quot; &quot;RIGHT&quot; 方向键上下左右<br />&quot;F1&quot;～&quot;F12&quot; 功能键<br />&quot;PAGEUP&quot; &quot;PAGEDOWN&quot; 向上向下翻页<br />&quot;SHIFT&quot; shift键<br />也可以如此指定。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">如果空格键被按下则给%1变量赋值为1否则赋值为0。</div><pre class="ExSource">checkkey %1,&quot; &quot;</pre></div><hr /><a href="#btnwait">btnwait</a> / <a href="#selectbtnwait">selectbtnwait</a> / <a href="#textbtnwait">textbtnwait</a> / <a href="#textgosub">textgosub</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="checkpage"></a><h2><span class="WordVersion">Ver.2.49</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />checkpage</h2><h4><a class="WordCategory" href="#category_logcustomize">自定义回想模式</a></h4><h3>checkpage %VAR,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">结果的保存变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">检查之前多少页(0为当前页)</span><br /></div><div class="ContentBody"><p class="Description">检查能否获取回想文字。<br />第一个参数指定为储存结果的数字变量，第二个参数指定获得多少页之前的内容。<br />1为可能值，0为不可能值。第二个参数请指定在1之上。<br />0为现在的页面，不使用这个函数也能处理。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">检查是否能够获得1页之前的回想文字，将结果储存到%5中。</div><pre class="ExSource">checkpage %5,1</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="chkcdfile"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />chkcdfile</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>chkcdfile STR,STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">要判断的文件名</span><br /><span class="ArgType">字符串/0}<span class="ArgMeaning">判定失败时候的消息</span></span><br /></div><div class="ContentBody"><p class="Description">此命令用于检查“文件名”对应的文件是否存在于CD驱动器中。<br />如果判定失败的话会弹出一个指定字符串的对话框。<br />并有“重试”和“取消”按钮。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">判定CD中是有&quot;file.dat&quot;存在，判定失败的话弹出&quot;对应CD不存在&quot;的对话框。</div><pre class="ExSource">chkcdfile &quot;file.dat&quot;,&quot;没有CD&quot;</pre></div><hr /><a href="#chkcdfile_ex">chkcdfile_ex</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="chkcdfile_ex"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />chkcdfile_ex</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>chkcdfile_ex %VAR,STR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存判定结果的变量</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">要判断的文件名</span><br /></div><div class="ContentBody"><p class="Description">此命令用于检查“文件名”对应的文件是否存在于CD驱动器中。<br />如果文件存在于CD中返回1，没有的话返回0。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">检查CD驱动器中是否存在&quot;file.dat&quot;，将结果存入%0中。</div><pre class="ExSource">chkcdfile_ex %0,&quot;file.dat&quot;</pre></div><hr /><a href="#chkcdfile">Chkcdfile</a> /<hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="chvol"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />chvol</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>chvol NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">dwave音轨编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">音量(0～100）</span><br /></div><div class="ContentBody"><p class="Description">改变dwave音轨的音量。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">此值不会被保存，需要手动管理。<br />但是使用nsogg.dll或是nsogg2.dll时会恢复存档时的音量。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将通道3的音量设置为100（０－１００）</div><pre class="ExSource">chvol 3,100</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="cl"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />cl</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>cl {l,c,r,a},EFFECT</h3><div class="Arguments"><span class="ArgType">列举</span><span class="ArgMeaning">清除立绘的位置(l:左、c:中央、r:右、a:全部)</span><br /><span class="ArgType">效果</span><span class="ArgMeaning">清除立绘时所用效果</span><br /></div><div class="ContentBody"><p class="Description">清除指定位置的立绘。<br />a意味着清除所有的立绘。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#effect">effect</a> / <a href="#ld">ld</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="click"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />click</h2><h4><a class="WordCategory" href="#category_click">等待点击相关命令</a></h4><h3>click</h3><div class="ContentBody"><p class="Description">等待鼠标单击。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#lrclick">lrclick</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="clickpos"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />clickpos</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>clickpos %VAR,%VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">点击位置的X坐标</span><br /><span class="ArgType">数字变量</span><span class="ArgMeaning">点击位置的Y坐标</span><br /></div><div class="ContentBody"><p class="Description">等待鼠标点击，然后获得点击的位置。位置为X坐标和Y坐标。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="clickskippage"></a><h2><span class="WordVersion">Ver.2.60</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />clickskippage</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>clickskippage</h3><div class="ContentBody"><p class="Description">通常，单击之后会瞬时显示文字知道下一次等待点击的位置。使用了此命令之后，通常需要等待点击的地方会被跳过，知道换页等待的时候才会停下来。<br />定义部分专用命令。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="clickstr"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />clickstr</h2><h4><a class="WordCategory" href="#category_click">等待点击相关命令</a></h4><h3>clickstr STR,NUM</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">等待点击时的全角文字的集合</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">等待换页所需行数</span><br /></div><div class="ContentBody"><p class="Description">增加强制等待点击的功能。这样做的话，当特定的文字显示出来的时候则会等待鼠标点击。<br />但是，在一些本来有等待点击字符的情况中，如果等待点击字符前面有一个_(半角下划线)的时候，强制点击不会起作用。<br />强制等待点击的时候，单纯地等待点击还是换页，由第二个参数决定。（最大行数-数字）小于零的时候，则会换页。<br />此功能以使作业简单化为目的，但是不能防止当某一行非常长，超过了数字上设定的值而跳到下一行以至于超出显示范围的现象出现。<br />这种情况下，可以再使用此命令，然后只改变数字的值。字符串只允许全角字符。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">&#39;」&#39;、&#39;。&#39;、&#39;！&#39;、&#39;？&#39;出现的时候等待鼠标点击。</div><pre class="ExSource">clickstr &quot;」。！？&quot;,2</pre></div><hr /><a href="#@">@</a> / <a href="#%5C">\</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="clickvoice"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />clickvoice</h2><h4><a class="WordCategory" href="#category_click">等待点击相关命令</a></h4><h3>clickvoice STR,STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">等待点击时的点击声音</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">换页时等待点击声音</span><br /></div><div class="ContentBody"><p class="Description">指定等待点击的时候的WAVE文件。<br />参数依次为，普通的等待点击，换页等待点击的声音。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="cmp"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />cmp</h2><h4><a class="WordCategory" href="#category_statement">条件表达式・循环语句命令</a></h4><h3>cmp %VAR,STR,STR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存结果的变量</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">要比较的字符串</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">要比较的字符串</span><br /></div><div class="ContentBody"><p class="Description">比较两个字符串，相等则将0，不等则将其他变量代入到数值变量中。<br />右边比较大时范虎负值，左边比较大时返回正值。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">由于现在NScripter的字符串比较可以使用=（或者==）符号的缘故，单纯的相等比较则没有使用此命令的必要。（by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="cos"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />cos</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>cos %VAR,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存计算结果的变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">角度(单位为度)</span><br /></div><div class="ContentBody"><p class="Description">计算三角函数cosθ。<br />值为返回值的1000倍。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">计算cos60°的值，保存到%1中。</div><pre class="ExSource">cos %1,60
;%0=1000</pre></div><hr /><a href="#sin">sin</a> / <a href="#tan">tan</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="createdummy"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />createdummy</h2><h4><a class="WordCategory" href="#category_support">开发支持命令</a></h4><h3>createdummy STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">虚拟图像文件名</span><br /></div><div class="ContentBody"><p class="Description">创建一个指定名字的虚拟图像文件（640.480）。<br />内容为在白色背景上写着黑色的文件名字。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">即使使用mode800等命令变更分辨率但是还是生成640x480的图像。by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">创建一个test.bmp的虚拟图像文件。</div><pre class="ExSource">createdummy &quot;test.bmp&quot;</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="csel"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />csel</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>csel STR,LABEL[,STR,LABEL[,...]]</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">选项字符串</span><br /><span class="ArgType">标签</span><span class="ArgMeaning">选择时的跳转标签</span><br /></div><div class="ContentBody"><p class="Description">自定义系统的时候的选择命令。用于调用*customsel。格式和select相同。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设定为选择&quot;选择支1&quot;时跳向*s1，选择&quot;选择支2&quot;时跳向*s2，选择&quot;选择支3&quot;跳向*s3</div><pre class="ExSource">csel &quot;选择支1&quot;,*s1,&quot;选择支2&quot;,*s2,&quot;选择支3&quot;,*s3</pre></div><hr /><a href="#*customsel">*customsel</a> / <a href="#cselbtn">cselbtn</a> / <a href="#cselgoto">cselgoto</a> / <a href="#getcselnum">getcselnum</a> / <a href="#getcselstr">getcselstr</a> / <a href="#selectbtnwait">selectbtnwait</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="cselbtn"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />cselbtn</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>cselbtn NUM,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">作为选项的字符串的索引标签</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">按钮编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">选项显示时的左上X坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">选项显示时的左上Y坐标</span><br /></div><div class="ContentBody"><p class="Description">以选项文字生成一个按钮。不必指定字符串和精灵编号。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">指定位置不在文本窗口上的话，会引发错误。想在画面中央等文本窗口之外的地方的时候有必要使用getcselstr命令。 （by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将第一个选项的字符串，在%1，%2处显示为按钮。</div><pre class="ExSource">cselbtn 0,500,%1,%2</pre></div><hr /><a href="#*customsel">*customsel</a> / <a href="#csel">csel</a> / <a href="#cselgoto">cselgoto</a> / <a href="#getcselnum">getcselnum</a> / <a href="#getcselstr">getcselstr</a> / <a href="#selectbtnwait">selectbtnwait</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="cselgoto"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />cselgoto</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>cselgoto NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">选择的选择支的索引</span><br /></div><div class="ContentBody"><p class="Description">跳转到csel设置的标签。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">跳转到索引为%0的选择支标签</div><pre class="ExSource">cselgoto %0</pre></div><hr /><a href="#*customsel">*customsel</a> / <a href="#csel">csel</a> / <a href="#cselbtn">cselbtn</a> / <a href="#getcselnum">getcselnum</a> / <a href="#getcselstr">getcselstr</a> / <a href="#selectbtnwait">selectbtnwait</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="csp"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />csp</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>csp NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号(0～255)-1表示全部清除</span><br /></div><div class="ContentBody"><p class="Description">清除指定的精灵。<br />如果指定-1的话，清除所有的精灵。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="csp2"></a><h2><span class="WordVersion">Ver.2.80</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />csp2</h2><h4><a class="WordCategory" href="#category_sprite_ex">扩展精灵相关命令</a></h4><h3>csp2 NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">扩展精灵编号</span><br /></div><div class="ContentBody"><p class="Description">清除扩展精灵。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">清除0号扩展精灵。</div><pre class="ExSource">csp2 0</pre></div><hr /><a href="#amsp2">amsp2</a> / <a href="#lsp2">lsp2</a> / <a href="#lsp2add">lsp2add</a> / <a href="#lsph2">lsph2</a> / <a href="#lsph2add">lsph2add</a> / <a href="#msp2">msp2</a> / <a href="#vsp2">vsp2</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="csvclose"></a><h2><span class="WordVersion">Ver.2.63</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />csvclose</h2><h4><a class="WordCategory" href="#category_csvfile">CSV文件操作</a></h4><h3>csvclose</h3><div class="ContentBody"><p class="Description">关闭csv文件。如果不使用此命令的话会保持打开状态，当使用完毕的时候请使用此命令关闭文件。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">关闭CSV文件。</div><pre class="ExSource">csvclose</pre></div><hr /><a href="#csvopen">csvopen</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="csveof"></a><h2><span class="WordVersion">Ver.2.63</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />csveof</h2><h4><a class="WordCategory" href="#category_csvfile">CSV文件操作</a></h4><h3>csveof %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">判定结果的储存变量(0:未到达结尾，1:已到达结尾)</span><br /></div><div class="ContentBody"><p class="Description">（读取模式专用）<br />如果读取到了CSV文件的最后返回1，未读到最后返回0。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">判断是否读取到CSV文件的结尾，放到%1中。</div><pre class="ExSource">csveof %1</pre></div><hr /><a href="#csvread">csvread</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="csvopen"></a><h2><span class="WordVersion">Ver.2.63</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />csvopen</h2><h4><a class="WordCategory" href="#category_csvfile">CSV文件操作</a></h4><h3>csvopen STR,STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">CSV文件名</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">指定模式</span><br /></div><div class="ContentBody"><p class="Description">打开csv文件。第一个字符串是CSV文件名。<br />nsa中包含的文件也可以读取出来。<br />第二个字符串是用于指定模式。指定的方法如下。<br />&quot;r&quot;……读取模式。读取普通的csv文件。<br />&quot;rc&quot;……加密csv读取模式。读取以wc写入模式生成的csv文件。<br />&quot;w&quot;……写入模式。写入csv文件。<br />&quot;wc&quot;……加密写入模式。加密写入csv文件。<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">执行reset之后会自动执行close命令。 （by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">以读取模式打开&quot;test.csv&quot;。</div><pre class="ExSource">csvopen &quot;test.csv&quot;,&quot;r&quot;</pre><span class="ExHeading">例)</span><br /><div class="ExComment">以加密写入模式写入&quot;angou.csv&quot;。</div><pre class="ExSource">csvopen &quot;angou.csv&quot;,&quot;wc&quot;</pre></div><hr /><a href="#csvclose">csvclose</a> / <a href="#csveof">csveof</a> / <a href="#csvread">csvread</a> / <a href="#csvwrite">csvwrite</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="csvread"></a><h2><span class="WordVersion">Ver.2.63</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />csvread</h2><h4><a class="WordCategory" href="#category_csvfile">CSV文件操作</a></h4><h3>csvread %VAR|$VAR[,...]</h3><div class="Arguments"><span class="ArgType">变量</span><span class="ArgMeaning">读入数据的储存变量</span><br /></div><div class="ContentBody"><p class="Description">（读取模式专用）<br />从csv文件中读取数据。会按指定的顺序读取。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">以逗号分隔的顺序按照$0,$1,%0,%2的顺序读取csv文件。</div><pre class="ExSource">csvread $0,$1,%0,%2</pre></div><hr /><a href="#csvopen">csvopen</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="csvwrite"></a><h2><span class="WordVersion">Ver.2.63</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />csvwrite</h2><h4><a class="WordCategory" href="#category_csvfile">CSV文件操作</a></h4><h3>csvwrite STR|NUM[,...]</h3><div class="Arguments"><span class="ArgType">特殊</span><span class="ArgMeaning">写入值</span><br /></div><div class="ContentBody"><p class="Description">（写入模式专用）<br />向CSV文件中写入数据。按指定的顺序写入。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">向一个CSV文件中按顺序写入&quot;test&quot;,%1,$2。</div><pre class="ExSource">csvwrite 12,&quot;test&quot;,%1,$2</pre></div><hr /><a href="#csvopen">csvopen</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="date"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />date</h2><h4><a class="WordCategory" href="#category_getinfo">获得各种信息命令</a></h4><h3>date %VAR,%VAR,%VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">获得年的变量</span><br /><span class="ArgType">数字变量</span><span class="ArgMeaning">获得月的变量</span><br /><span class="ArgType">数字变量</span><span class="ArgMeaning">获得天的变量</span><br /></div><div class="ContentBody"><p class="Description">获得当前机器的年月日时间。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="debuglog"></a><h2><span class="WordVersion">Ver.2.61</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />debuglog</h2><h4><a class="WordCategory" href="#category_support">开发支持命令</a></h4><h3>debuglog NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">获取日志标志(0:关、1:开)</span><br /></div><div class="ContentBody"><p class="Description">开启将debug窗口中的显示文字写入debuglog.txt的文本文件的功能的命令。<br />debuglog 1打开，debuglog 0关闭。既可以在define部分使用，也可以在start之后使用。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="dec"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />dec</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>dec %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">作为自减对象的变量</span><br /></div><div class="ContentBody"><p class="Description">对变量的值减1。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="defaultfont"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />defaultfont</h2><h4><a class="WordCategory" href="#category_drawtext">文字显示命令</a></h4><h3>defaultfont STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">字体名</span><br /></div><div class="ContentBody"><p class="Description">指定默认的字体。<br />没有指定的情况下使用ＭＳ ゴシック字体。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">这属于之后增加记录的情况，只有删除envdata之后才能反映出来。 （by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="defaultspeed"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />defaultspeed</h2><h4><a class="WordCategory" href="#category_windowmenu">窗口菜单相关命令</a></h4><h3>defaultspeed NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">与TEXTSLOW对应的速度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">与TEXTMIDDLE对应的速度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">与TEXTFAST对应的速度</span><br /></div><div class="ContentBody"><p class="Description">指定调用特殊显示文字命令!sd或者textspeeddefault命令的时候的速度文字。<br />从左至右分别为在菜单中选择「低速」「普通」「高速」的时候的速度。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将菜单中的「低速」「普通」「高速」对应设置为50,20,0。</div><pre class="ExSource">defaultspeed 50,20,0</pre></div><hr /><a href="#!sd">!</a><a href="#!sd">sd</a> / <a href="#textspeeddefault">textspeeddefault</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="defbgmvol"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />defbgmvol</h2><h4><a class="WordCategory" href="#category_specialmode">特殊模式设置命令</a></h4><h3>defbgmvol NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">默认音量(0～100)</span><br /></div><div class="ContentBody"><p class="Description">设置BGM的默认音量。默认值为１００（０~１００） </p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="definereset"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />definereset</h2><h4><a class="WordCategory" href="#category_startend">游戏开始・重置・结束命令</a></h4><h3>definereset</h3><div class="ContentBody"><p class="Description">重置定义部分的命令。重新读取*define部分。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将1代入到变量200后重新读取*define部分。</div><pre class="ExSource">mov %200,1
definereset</pre></div><hr /><a href="#*define">*define</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="defmp3vol"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />defmp3vol</h2><h4><a class="WordCategory" href="#category_specialmode">特殊模式设置命令</a></h4><h3>defmp3vol NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">默认音量(0～100)</span><br /></div><div class="ContentBody"><p class="Description">定义mp3（BGM）的默认音量。默认值为１００（０~１００） </p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="defsevol"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />defsevol</h2><h4><a class="WordCategory" href="#category_specialmode">特殊模式设置命令</a></h4><h3>defsevol NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">默认音量(0～100)</span><br /></div><div class="ContentBody"><p class="Description">定义SE（DWAVE 1~）的默认音量。默认值为１００（０~１００） </p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="defsub"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />defsub</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>defsub NAME</h3><div class="Arguments"><span class="ArgType">名称</span><span class="ArgMeaning">子程序的标签名</span><br /></div><div class="ContentBody"><p class="Description">定义指定的名称的子程序的命令。<br />在后文中需要实现该子程序。<br />命令的名称和变量的命名方式相同，但是第一个字符不允许是_。<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">此外，允许定义和NScripter的原有命令名相同的子程序。<br />此时，用户定义的子程序有更高的优先级。<br />若想使用原来的命令，请在命令前加上_(下划线)。<br />例）<br />*define<br />defsub *texton<br />game<br /><br />*start<br />texton ;相当于gosub *texton命令<br />_texton ;调用原来的texton命令</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">定义一个*subname的子程序。</div><pre class="ExSource">defsub subname

之后的脚本中
subname
被执行后
*subname
会跳转到这个位置。</pre></div><hr /><a href="#getparam">getparam</a> /<hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="defvoicevol"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />defvoicevol</h2><h4><a class="WordCategory" href="#category_specialmode">特殊模式设置命令</a></h4><h3>defvoicevol NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">默认音量(0～100)</span><br /></div><div class="ContentBody"><p class="Description">定义voice（DWAVE 0）的默认音量。默认值为１００（０~１００） </p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="delay"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />delay</h2><h4><a class="WordCategory" href="#category_wait_timer">等待・定时器</a></h4><h3>delay NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">等待的时间(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">等待指定毫秒数的时间。鼠标点击则会跳过。<br />功能和特殊显示文字命令d相同，但是可以使用变量。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="deletemenu"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />deletemenu</h2><h4><a class="WordCategory" href="#category_windowmenu">窗口菜单相关命令</a></h4><h3>deletemenu</h3><div class="ContentBody"><p class="Description">从NScr中删除菜单栏。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">从NScr中删除菜单栏。</div><pre class="ExSource">deletemenu</pre></div><hr /><a href="#insertmenu">insertmenu</a> / <a href="#killmenu">killmenu</a> / <a href="#resetmenu">resetmenu</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="deletescreenshot"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />deletescreenshot</h2><h4><a class="WordCategory" href="#category_screenshot">截图命令</a></h4><h3>deletescreenshot</h3><div class="ContentBody"><p class="Description">删除内存中的屏幕截图。<br />可以和savescreenshot2命令组合使用。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">删除获得的屏幕快照</div><pre class="ExSource">deletescreenshot
</pre></div><hr /><a href="#getscreenshot">getscreenshot</a> / <a href="#savescreenshot">savescreenshot</a> / <a href="#savescreenshot2">savescreenshot2</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="dim"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />dim</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>dim &#39;?&#39;NUM&#39;[&#39;NUM&#39;]&#39;[&#39;[&#39;NUM&#39;]&#39;...]</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">数组变量编号(0～199)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">数组的元素个数(实际元素个数会+1)</span><br /></div><div class="ContentBody"><p class="Description">数组变量类似于BASIC语言。也就是说，这个声明?0作为<br />一维数组的话使用0~10，二维数组的话0~20的元素可以使用。<br /><br />如例子中所述，迄今为止使用「数字」的位置<br />都可以使用数组变量。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">因为数组的起始元素是从0开始，声明一个数组的长度时<br />数组的实际元素个数会比这个数多1。请注意这一点。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">最常见的使用方法</div><pre class="ExSource">mov ?0[2][5],20
;将20代入?0[2][5]。
mov %4,?0[3][1]
;将%4代入?0[3][1]。
？０［２］［３］＝?0[2][3]@
;输出值</pre><span class="ExHeading">例)</span><br /><div class="ExComment">声明一个以enemyparam为别名，元素数为11个的一维数组变量。</div><pre class="ExSource">numalias enemyparam,10
dim ?enemyparam[10]</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="div"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />div</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>div %VAR,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">要被运算的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">运算数值</span><br /></div><div class="ContentBody"><p class="Description">将该变量除以数字。输出截断小数部分的答案。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="draw"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />draw</h2><h4><a class="WordCategory" href="#category_draw">DEMO命令</a></h4><h3>draw</h3><div class="ContentBody"><p class="Description">将draw类命令绘制的图像呈现到屏幕上。<br />不使用此命令则不显示。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">逆时针旋转背景图像“bg.bmp”，然后显示出来。</div><pre class="ExSource">*test
saveoff
;执行DEMO处理的时候saveoff会提高速度。之后不要忘记saveon
mov %0,0
bg &quot;bg.bmp&quot;,1
*lp
resettimer
drawclear
drawbg2 320,240,100,100,%0*2
draw
wait 5
;等待时间过长的话，会引起消息处理的延迟。
gettimer %1
if %1&gt;=50 add %0,%1/50
if %1&lt;50 waittimer 50:inc %0
;根据花费的处理时间成比例地改变变量的值。
goto *lp</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="drawbg"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />drawbg</h2><h4><a class="WordCategory" href="#category_draw">DEMO命令</a></h4><h3>drawbg</h3><div class="ContentBody"><p class="Description">绘制bg画面。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">此命令不能显示精灵立绘以及文本框，请注意。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">绘制bg画面。</div><pre class="ExSource">drawbg</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="drawbg2"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />drawbg2</h2><h4><a class="WordCategory" href="#category_draw">DEMO命令</a></h4><h3>drawbg2 NUM,NUM,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">画面的位置中心X坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">画面的位置的中心Y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">横向扩大率(单位为％)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">纵向扩大率(单位为％)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">旋转角度(单位为度)</span><br /></div><div class="ContentBody"><p class="Description">绘制背景画面。根据(x,y)的位置指定。<br />x_scale和y_scale分别为纵向和横向的扩大率。单位为%。<br />rot为回转角度。方向逆时针，单位为度。<br />此外，超出的部分不会被绘制，以致于之前的图像会残留下来。<br />所以在这些情况下，请事先使用drawclear命令清除。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">此命令不能显示精灵立绘以及文本框，请注意。<br />此命令是以画面位置的中心作为坐标指定的，请注意。<br />（和其他以左上角的坐标为基准的命令不同）</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">以(320,240)为中心，横向2倍纵向3被，逆时针旋转15度绘制背景。</div><pre class="ExSource">drawbg2 320,240,200,300,15</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="drawclear"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />drawclear</h2><h4><a class="WordCategory" href="#category_draw">DEMO命令</a></h4><h3>drawclear</h3><div class="ContentBody"><p class="Description">将屏幕涂黑。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将屏幕涂黑。</div><pre class="ExSource">drawclear</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="drawfill"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />drawfill</h2><h4><a class="WordCategory" href="#category_draw">DEMO命令</a></h4><h3>drawfill NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">红色值。</span><span class="ArgMeaning">R的RGB。</span><span class="ArgMeaning">0～255</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">绿色值。</span><span class="ArgMeaning">G的RGB。</span><span class="ArgMeaning">0～255</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">蓝色值。</span><span class="ArgMeaning">B的RGB。</span><span class="ArgMeaning">0～255</span><br /></div><div class="ContentBody"><p class="Description">以此颜色填充屏幕。<br />RGB值分别可以指定为0~255的数。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">使用#FF0080填充屏幕</div><pre class="ExSource">drawfill 255,0,128</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="drawsp"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />drawsp</h2><h4><a class="WordCategory" href="#category_draw">DEMO命令</a></h4><h3>drawsp NUM,NUM,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">分格编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">透明度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">显示位置的左上x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">显示位置的左上y坐标</span><br /></div><div class="ContentBody"><p class="Description">绘制精灵。<br />分别制定精灵编号，分格号，透明度，显示位置的左上角x坐标，显示位置的左上角y坐标。<br />通常模式下，精灵的位置，显示和不显示的状态是无关的。<br />精灵和文字窗口的重叠取决于谁是最后绘制的。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">在(20,40)处，以128的透明度，显示编号2精灵的分格1。</div><pre class="ExSource">drawsp 2,1,128,20,40</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="drawsp2"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />drawsp2</h2><h4><a class="WordCategory" href="#category_draw">DEMO命令</a></h4><h3>drawsp2 NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">分格编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">透明度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">显示位置的中心x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">显示位置的中心y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">横向扩大率(单位为％)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">纵向扩大率(单位为％)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">旋转角度(单位为度)</span><br /></div><div class="ContentBody"><p class="Description">绘制精灵。<br />依次指定了精灵编号，分格编号，透明度，显示位置中心x坐标，y坐标。<br />通常模式下，精灵的位置，显示和不显示的状态是无关的。<br />精灵和文字窗口的重叠取决于谁是最后绘制的。<br /><br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">注意此命令指定的坐标是中心坐标。<br />ver.2.51或之前的NS的drawsp2命令的α值有一个将0作为完全不透明，255作为完全透明的bug。<br />ver.2.52之后得到了修正，所以需要将旧版本脚本中的drawsp2的第三个个参数修改过来。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">以（20,40）为中心坐标，绘制2号精灵的1号分格，以横向1.5倍，纵向60%，顺时针10度旋转，透明度128来显示。</div><pre class="ExSource">drawsp2 2,1,128,20,40,150,60,-10</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="drawsp3"></a><h2><span class="WordVersion">Ver.2.60</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />drawsp3</h2><h4><a class="WordCategory" href="#category_draw">DEMO命令</a></h4><h3>drawsp3 NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">分格编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">不透明度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">描绘处左上X坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">描绘处左上Y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">矩阵左上角值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">矩阵右上角值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">矩阵左下角值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">矩阵右下角值</span><br /></div><div class="ContentBody"><p class="Description">此命令是drawsp系命令中用于实现线性变换的命令。<br />绘制精灵。<br />参数顺序为精灵编号，分格编号，透明度，α值，显示位置的中心x坐标，显示位置的中心y坐标，行列式左上值，右上值，左下值，右下值。<br />矩阵值为实际值的1000倍。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">在坐标（20,40），对于编号2的精灵的分格1，使用线性变换矩阵
{1.500  3.00}
{8.00  1.200}
进行变换，并显示出来。</div><pre class="ExSource">drawsp3 2,1,128,20,40,1500,3000,8000,1200</pre></div><hr /><a href="#drawsp">drawsp</a> / <a href="#drawsp2">drawsp2</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="drawtext"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />drawtext</h2><h4><a class="WordCategory" href="#category_draw">DEMO命令</a></h4><h3>drawtext</h3><div class="ContentBody"><p class="Description">绘制文本窗口。<br />这样的话之前绘制的精灵会在文本窗口下方，之后的会在文本窗口上方。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">绘制文本窗口。</div><pre class="ExSource">drawtext</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="dsound"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />dsound</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>dsound</h3><div class="ContentBody"><p class="Description">在define部分使用。声明使用DirectSound播放声音。要使用此命令，必须满足DirectX2或者更高。（此命令现在的版本已无使用必要。）</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="dv"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />dv</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>&#39;dv&#39;NUM&#39;:&#39;</h3><div class="Arguments"><span class="ArgType">数字</span><span class="ArgMeaning">声音文件的文件名编号</span><br /></div><div class="ContentBody"><p class="Description">便于播放语音的命令。<br />相当于dwave 0,&quot;wav\数字.wav&quot;。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">当显示&quot;「这里是第０００１条台词哟~」&quot;的时候，用dwave命令播放&quot;wav\0001.wav&quot;的0号音轨。</div><pre class="ExSource">dv0001:「这里是第０００１条台词哟~」</pre></div><hr /><a href="#dwave">dwave</a> / <a href="#v">v</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="dwave"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />dwave</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>dwave NUM,STR</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">通道编号(0～49)</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">WAVE文件名</span><br /></div><div class="ContentBody"><p class="Description">使用DirectSound播放wav文件。<br />数字为通道数，从0到49。<br />不同音轨的声音可以混合播放。<br />此外，在automode下会等待直到通道0的声音播放结束。<br />只能播放PCM格式。<br />也可以和wave系命令同时使用，例如使用waveloop命令播放MP3编码的BGM的同时，此命令也能播放声音。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">使用wave命令播放nsa压缩包的wave文件之后，在不使用wavestop或者stop命令的情况下，使用此命令播放同一个文件时会出错。（直到ver.2.54均存在)(by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">在通道0播放一次&quot;test.wav&quot;。</div><pre class="ExSource">dwave 0,&quot;test.wav&quot;</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="dwaveload"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />dwaveload</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>dwaveload NUM,STR</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">通道编号(0～49)</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">WAVE文件名</span><br /></div><div class="ContentBody"><p class="Description">在播放之前读取wav到内存中，以便用dwaveplay和dwaveplayloop命令播放。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">不预先载入就播放的话会引发错误。<br />另外，ogg格式不能使用此命令。（by senzogawa)<br />在使用nsogg.dll的情况下不会引发错误。（by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">载入&quot;test.wav&quot;的0号音轨，播放一次。</div><pre class="ExSource">dwaveload 0,&quot;test.wav&quot;
dwaveplay 0</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="dwaveloop"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />dwaveloop</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>dwaveloop NUM,STR</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">通道编号(0～49)</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">WAVE文件名</span><br /></div><div class="ContentBody"><p class="Description">和dwave的命令格式相同，此命令会循环播放。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">使用wave命令播放nsa压缩包的wave文件之后，在不使用wavestop或者stop命令的情况下，使用此命令播放同一个文件时会出错。（直到ver.2.54均存在)(by senzogawa)<br />在使用nsogg2.dll的时候，命令dwaveloop 通道编号,“（从开始算起的起始时间）文件名&quot;可以指定循环的起始点。<br />单位为秒。也可以指定为小数。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="dwaveplay"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />dwaveplay</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>dwaveplay NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">通道编号(0～49)</span><br /></div><div class="ContentBody"><p class="Description">播放一次已经用dwaveload命令载入的wav文件。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">尝试播放未载入内存的声音文件会导致错误。<br />另外，ogg格式不能使用此命令。（by senzogawa)<br />在使用nsogg.dll的情况下不会引发错误。（by senzogawa)<br />要改变音量的话，在此命令后需要用chvol命令。 （by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="dwaveplayloop"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />dwaveplayloop</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>dwaveplayloop NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">通道编号(0～49)</span><br /></div><div class="ContentBody"><p class="Description">循环播放使用dwaveload命令载入的wav文件。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="dwavestop"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />dwavestop</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>dwavestop</h3><div class="ContentBody"><p class="Description">停止播放当前的音轨。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="effect"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />effect</h2><h4><a class="WordCategory" href="#category_visualeffect">图像效果</a></h4><h3>effect NUM,NUM[,NUM[,STR]</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">效果编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">预设效果编号(1～18)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">时间(毫秒)</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">掩模图像文件名</span><br /></div><div class="ContentBody"><p class="Description">将效果分配到对应的效果编号上。<br />图像显示命令中，请使用这里指定的效果编号。<br />参数从左至右为效果编号，内置效果编号，耗费时间（单位毫秒），掩模图像文件名称。<br />根据效果编号的不同，后两个参数是可选的。<br /><br />效果编号0意味着「不显示，和下一个图像命令一起显示」，所以请使用1号以及以后的编号。<br />此外，使用效果0的话，请尽快使用图像显示命令显示图像。<br /><br />默认设置为1的瞬时显示效果。<br /><br />＜效果编号一览表＞<br />　１　瞬间显示。不需要指定时间。<br />　２　左百叶窗<br />　３　右百叶窗<br />　４　上百叶窗<br />　５　下百叶窗<br />　６　左帷幕<br />　７　右帷幕<br />　８　上帷幕<br />　９　下帷幕<br />１０　像素级别的交叉淡出<br />１１　左边滚动<br />１２　右边滚动<br />１３　上方滚动<br />１４　下方滚动<br />１５　使用掩模淡入或淡出<br />　　　第三个参数为字符串形式的掩模图像名。<br />      掩模图像的形式为256色或者全彩色均可。<br />　　　尝试例子中的m1.bmp,m2.bmp的话就能够明白。<br />      掩模上白的地方以慢速度，黑的地方以快速度显示<br />      出来。<br />　　　当掩模文件比较小的时候，会像壁纸一样以640x480的大小<br />　　　平铺排列。<br />１６　马赛克淡出。此效果之后和使用效果0号<br />　　　之后相同，处于不确定的状态。请在之后<br />　　　使用例如print的命令，重新显示画面。<br />１７　马赛克淡入。<br />１８　根据掩模文件的交叉淡出<br />　　　15号的效果是根据掩模的浓度决定的时间差来对像素进行复制。<br />　　　这个的效果则是根据时间差进行渐入渐出。<br />　　　根据各个制作单位的使用效果来看，此效果是各效果中对机器负担最大的。<br />　　　在速度慢的机器上，有可能会造成些许的延迟。<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">可以指定的编号编号为2~255。（by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">分配效果编号2给1秒的向上百叶窗效果。</div><pre class="ExSource">effect 2,4,1000</pre><span class="ExHeading">例)</span><br /><div class="ExComment">定义3号效果</div><pre class="ExSource">effect 3,15,2000,&quot;m3.bmp&quot;</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="effectblank"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />effectblank</h2><h4><a class="WordCategory" href="#category_visualeffect">图像效果</a></h4><h3>effectblank NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">执行下一个命令之前的等待时间</span><br /></div><div class="ContentBody"><p class="Description">以毫秒为单位，指定效果结束之后，到下一条命令之间的时间间隔。<br />当使用效果1瞬时显示的情况下，这个设定不起作用，会瞬时显示。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="effectcut"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />effectcut</h2><h4><a class="WordCategory" href="#category_visualeffect">图像效果</a></h4><h3>effectcut</h3><div class="ContentBody"><p class="Description">「跳到下一个选择支」时，跳过所有的效果。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="effectskip"></a><h2><span class="WordVersion">Ver.2.92</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />effectskip</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>effectskip NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">可否跳过标志(0:不可跳过、1:允许跳过)</span><br /></div><div class="ContentBody"><p class="Description">指定是否允许在显示效果的时候跳过效果。<br />这个值默认为1（允许跳过）。为0则不可跳过。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">显示效果的时候允许跳过。</div><pre class="ExSource">effectskip 1</pre></div><hr /><a href="#effect">effect</a> / <a href="#print">print</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="end"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />end</h2><h4><a class="WordCategory" href="#category_startend">游戏开始・重置・结束命令</a></h4><h3>end</h3><div class="ContentBody"><p class="Description">结束程序，清除窗口。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">在退出确认之后退出程序。</div><pre class="ExSource">yesnobox %0,&quot;结束程序？&quot;,&quot;退出确认&quot;
if %0==1 end</pre></div><hr /><a href="#game">game</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="english"></a><h2><span class="WordVersion">Ver.2.82</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />english</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>english</h3><div class="ContentBody"><p class="Description">将NScripter开启英文模式。使之能够正确地显示半角英文文章。<br />使用此模式时，请在行头加上&gt;。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">从2007.11.04之后的版本添加此命令。在使用此命令时，#ffffff以及!sd等显示文字相关命令无法使用。代替的命令已记录在相关命令中。 （by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">显示Peter Piper picked a peck of pickled peppers。</div><pre class="ExSource">*define
english
game
*start
&gt;Peter Piper picked a peck of pickled peppers;@
end
</pre></div><hr /><a href="#delay">delay</a> / <a href="#textcolor">textcolor</a> / <a href="#textspeed">textspeed</a> / <a href="#textspeeddefault">textspeeddefault</a> / <a href="#wait">wait</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="erasetextbtn"></a><h2><span class="WordVersion">Ver.2.65</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />erasetextbtn</h2><h4><a class="WordCategory" href="#category_textbutton">文字按钮命令</a></h4><h3>erasetextbtn</h3><div class="ContentBody"><p class="Description">当点击一个按钮退出按钮等待模式的时候，如果这个按钮仍保持按下状态，此命令可以将其恢复到未按下状态。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="javascript:void(0);">&lt;&gt;</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="erasetextwindow"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />erasetextwindow</h2><h4><a class="WordCategory" href="#category_textwindow">文字窗口命令</a></h4><h3>erasetextwindow NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">标志(0:保持不变、1:显示效果时隐藏文字窗口)</span><br /></div><div class="ContentBody"><p class="Description">数值为0的时候，在显示效果的时候，文本窗口会保持不动。<br />1是默认值，在显示效果的时候，会隐藏文字窗口。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="errorsave"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />errorsave</h2><h4><a class="WordCategory" href="#category_saveload">保存・读取命令</a></h4><h3>errorsave</h3><div class="ContentBody"><p class="Description">出错时自动保存至999号存档。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设定为出错时自动保存到999号存档</div><pre class="ExSource">errorsave</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="exbtn"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />exbtn</h2><h4><a class="WordCategory" href="#category_button">图像按钮</a></h4><h3>exbtn NUM,NUM,STR</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">按钮编号</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">精灵控制字符串</span><br /></div><div class="ContentBody"><p class="Description">最后的控制字符串除了附加的两条以外和spbtn命令相同。功能是相同的。<br />只是在鼠标光标和按钮重合的时候不仅仅能产生按钮的变化，<br />还能根据控制字符串进行指定的精灵控制。<br /><br />控制字符串请按下列形式书写。<br />&quot;C数字&quot; 不显示指定的精灵编号 <br />&quot;P数字&quot; 显示指定的精灵编号<br />&quot;P数字1,数字2&quot; 显示数字1的精灵和数字2的分格<br /><br />控制字符串可以为上述三种的连接组合。<br /><br />对于复合按钮，需要指定「光标未和任何按钮重叠」的情况。<br />可以通过exbtn_d命令实现。<br /><br />按钮和其他的是相同的，不管是文字精灵还是普通的图像精灵都是OK的。<br /><br />另外，下列功能已经被添加。<br /><br />可以使用 S通道,(文件名) 播放声音。<br />可以使用 M精灵编号,Ｘ,Ｙ 来移动精灵。<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">S,M符号适用于ver.2.49之后。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">隐藏10号精灵。</div><pre class="ExSource">&quot;C10&quot;</pre><span class="ExHeading">例)</span><br /><div class="ExComment">隐藏11号精灵，显示10号精灵。</div><pre class="ExSource">&quot;C11P10&quot;</pre><span class="ExHeading">例)</span><br /><div class="ExComment">隐藏11号精灵，显示10号精灵的2号分格，显示9号精灵。</div><pre class="ExSource">&quot;C11P10,2P9&quot;</pre><span class="ExHeading">例)</span><br /><div class="ExComment">播放se.wav的1号音轨。</div><pre class="ExSource">&quot;S1,(se.wav)&quot;</pre><span class="ExHeading">例)</span><br /><div class="ExComment">将4号精灵移动到（20,30）。</div><pre class="ExSource">&quot;M4,20,30&quot;</pre></div><hr /><a href="#exbtn_d">exbtn_d</a> / <a href="#spbtn">spbtn</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="exbtn_d"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />exbtn_d</h2><h4><a class="WordCategory" href="#category_button">图像按钮</a></h4><h3>exbtn_d STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">精灵控制字符串</span><br /></div><div class="ContentBody"><p class="Description">当光标不在任何一个复合按钮上的时候控制显示。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">当鼠标光标不在任何一个按钮上的时候，显示3号精灵和7号精灵的分格0，隐藏4,5,6号精灵。</div><pre class="ExSource">exbtn_d &quot;P3C4C5C6P7,0&quot;</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="exec_dll"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />exec_dll</h2><h4><a class="WordCategory" href="#category_plugin_archive">插件・压缩包</a></h4><h3>exec_dll STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">用‘/’分割的dll文件名和参数</span><br /></div><div class="ContentBody"><p class="Description">将指定的参数传递给指定的dll文件进行调用。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将「テストですよー。」作为参数传递给「execdll.dll」进行调用。</div><pre class="ExSource">exec_dll &quot;execdll.dll/テストですよー。&quot;</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="fchk"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />fchk</h2><h4><a class="WordCategory" href="#category_statement">条件表达式・循环语句命令</a></h4><h3>fchk STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">想要确认读入的文件名</span><br /></div><div class="ContentBody"><p class="Description">通过文件日志检查图像标签是否记录在其中。<br />在if语句中使用。如果该图像的标签成功读取了的话会返回true。<br />标签不同的情况下，即使同一个文件也会被认为是不同的。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource">ld c,&quot;:a;test.bmp&quot;,1
if fchk &quot;:a;test.bmp&quot; ;真
if fchk &quot;test.bmp&quot; 　;假</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="fileexist"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />fileexist</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>fileexist %VAR,STR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存结果的变量(0:无、1:有)</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">文件名</span><br /></div><div class="ContentBody"><p class="Description">文件存在返回1，否则返回0。也会搜索nsa压缩文件。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#fileremove">fileremove</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="filelog"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />filelog</h2><h4><a class="WordCategory" href="#category_log_global">文件访问日志・全局变量</a></h4><h3>filelog</h3><div class="ContentBody"><p class="Description">指定访问日志文件。<br />凡是读取过的图像标签，都会记录其中。<br />此外，标签不同，即使文件名相同也会被认为不同。<br />如果既不使用此命令也不使用globalon命令，NS将不会写入文件，因此可以从CD中启动。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="fileremove"></a><h2><span class="WordVersion">Ver.</span><span class="WordVersion">非正式</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />fileremove</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>fileremove STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">文件名</span><br /></div><div class="ContentBody"><p class="Description">删除文件。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#fileexist">fileexist</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="flushout"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />flushout</h2><h4><a class="WordCategory" href="#category_visualeffect">图像效果</a></h4><h3>flushout NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">效果的时间(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">特殊效果命令。效果为中心扩大+模糊。<br />之后请务必载入别的背景。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">一秒内执行flushout命令。</div><pre class="ExSource">flushout 1000</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="font"></a><h2><span class="WordVersion">Ver.2.67</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />font</h2><h4><a class="WordCategory" href="#category_textwindow">文字窗口命令</a></h4><h3>font STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">字体名</span><br /></div><div class="ContentBody"><p class="Description">改变文字的显示字体。<br />效果将由清空文字之后下一次显示文字时才能起作用。<br />最好在没有文字显示在画面上的时候使用。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将显示文字的字体改为&quot;ＭＳ 明朝&quot;</div><pre class="ExSource">font &quot;ＭＳ 明朝&quot;</pre></div><hr /><a href="#setwindow">setwindow</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="for"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />for</h2><h4><a class="WordCategory" href="#category_statement">条件表达式・循环语句命令</a></h4><h3>for %VAR=NUM to NUM[ step NUM]</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">计数器</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">计数器初始值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">计数器终值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">每次的增加量</span><br /></div><div class="ContentBody"><p class="Description">基本上和basic语言相同。从指定的变量循环到TO指定的数字<br />（STEP为负值时，会根据此值减少），并进行循环。<br />每次循环都会在指定的变量上加上step。<br />step省略的情况下默认为1。<br /><br />（注意）<br />如果for循环中使用goto和select命令跳出，因为是在内部循环中跳出，<br />这样会浪费NScr的堆栈资源。<br />只要循环不是无限循环，则不要这样使用。<br />这样的代码就是所谓的”意大利面条式代码“，<br />只会是既难以阅读，又难以理解的代码。<br />建议for和next一一对应地缩进，这样代码会更容易阅读。<br /><br /><br />另外，如果想在中间安全退出循环，请使用break语句。<br />（循环内从gosub跳出后会回来也是OK的。<br />推荐从循环开始到结束，外部和内部应该清晰的分开。）</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将1加到10的结果储存到%1中</div><pre class="ExSource">for %0=1 to 10
add %1,%0
next</pre></div><hr /><a href="#next">next</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="game"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />game</h2><h4><a class="WordCategory" href="#category_startend">游戏开始・重置・结束命令</a></h4><h3>game</h3><div class="ContentBody"><p class="Description">结束定义部分，执行游戏部分。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">结束定义部分，执行游戏。</div><pre class="ExSource">game</pre></div><hr /><a href="#*define">*define</a> / <a href="#*start">*start</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getbgmvol"></a><h2><span class="WordVersion">Ver.</span><span class="WordVersion">非正式</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getbgmvol</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>getbgmvol %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">音量(0～100)</span><br /></div><div class="ContentBody"><p class="Description">获得bgm的音量。对bgm命令和mp3命令均有效。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">获得bgm的音量，储存到%0变量中。</div><pre class="ExSource">getbgmvol %0</pre></div><hr /><a href="#bgm">bgm</a> / <a href="#bgmvol">bgmvol</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getbtntimer"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getbtntimer</h2><h4><a class="WordCategory" href="#category_button">图像按钮</a></h4><h3>getbtntimer %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">btnwait耗费的秒数</span><br /></div><div class="ContentBody"><p class="Description">例如，在点击右键等操作跳出后，想再次回到btnwait进行处理的时候使用。在这种情况下，btnwait命令实际上运行了多少时间可以通过getbtntimer命令返回得到，于是重新执行btnwait的时候的超时时间可以通过减去这个时间计算出来。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getcselnum"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getcselnum</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>getcselnum %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存选择支编号的变量</span><br /></div><div class="ContentBody"><p class="Description">获得csel命令所获得的选择支的编号。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">不能对cselbtn命令指定比这个命令所获得的数值更大的数。（by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将选择支的编号储存到%0中</div><pre class="ExSource">getcselnum %0</pre></div><hr /><a href="#*customsel">*customsel</a> / <a href="#csel">csel</a> / <a href="#cselbtn">cselbtn</a> / <a href="#cselgoto">cselgoto</a> / <a href="#getcselstr">getcselstr</a> / <a href="#selectbtnwait">selectbtnwait</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getcselstr"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />getcselstr</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>getcselstr $VAR,NUM</h3><div class="Arguments"><span class="ArgType">文字变量</span><span class="ArgMeaning">字符串储存变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">哪个选择支</span><br /></div><div class="ContentBody"><p class="Description">获取在csel中指定编号选择支的文本。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将第0个(最初)选择支的文字，储存到$0变量中</div><pre class="ExSource">getcselstr $0,0</pre></div><hr /><a href="#csel">csel</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getcursor"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getcursor</h2><h4><a class="WordCategory" href="#category_input">键盘按键扩展</a></h4><h3>getcursor</h3><div class="ContentBody"><p class="Description">用在btndef和btnwait命令之间。方向键的上右下左分别返回-40，-41，-42，-43。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设置为能够获取方向键</div><pre class="ExSource">getcursor</pre></div><hr /><a href="#btndef">btndef</a> / <a href="#btntime">btntime</a> / <a href="#btntime2">btntime2</a> / <a href="#btnwait">btnwait</a> / <a href="#getenter">getenter</a> / <a href="#getfunction">getfunction</a> / <a href="#getinsert">getinsert</a> / <a href="#getpage">getpage</a> / <a href="#gettab">gettab</a> / <a href="#getzxc">getzxc</a> / <a href="#spclclk">spclclk</a> / <a href="#useescspc">useescspc</a> / <a href="#usewheel">usewheel</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getcursorpos"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getcursorpos</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>getcursorpos %VAR,%VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存文本光标的X坐标</span><br /><span class="ArgType">数字变量</span><span class="ArgMeaning">储存文本光标的Y坐标</span><br /></div><div class="ContentBody"><p class="Description">获得文本光标，也就是文本窗口中文字的显示位置。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">获取文本光标到储存到%0和%1变量中</div><pre class="ExSource">getcursorpos %0,%1</pre></div><hr /><a href="#texec">texec</a> / <a href="#textbtnwait">textbtnwait</a> / <a href="#textgosub">textgosub</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getcursorpos2"></a><h2><span class="WordVersion">Ver.2.92</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getcursorpos2</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>getcursorpos2 %VAR,%VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">左上角X坐标</span><br /><span class="ArgType">数字变量</span><span class="ArgMeaning">左上角Y坐标</span><br /></div><div class="ContentBody"><p class="Description">类似于getcursorpos命令，但是这个命令是获得「最后显示的文字的左上角坐标」。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">获得最后显示的文字的左上角的坐标保存到%0和%1中。</div><pre class="ExSource">getcursorpos2 %0,%1</pre></div><hr /><a href="#getcursorpos">getcursorpos</a> / <a href="#texec">texec</a> / <a href="#texec2">texec2</a> / <a href="#textbtnwait">textbtnwait</a> / <a href="#textgosub">textgosub</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getenter"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getenter</h2><h4><a class="WordCategory" href="#category_input">键盘按键扩展</a></h4><h3>getenter</h3><div class="ContentBody"><p class="Description">用在btndef和btnwait命令之间。按下Enter键时，返回-19。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设置为能够检测Enter键</div><pre class="ExSource">getenter</pre></div><hr /><a href="#btndef">btndef</a> / <a href="#btntime">btntime</a> / <a href="#btntime2">btntime2</a> / <a href="#btnwait">btnwait</a> / <a href="#getcursor">getcursor</a> / <a href="#getfunction">getfunction</a> / <a href="#getinsert">getinsert</a> / <a href="#getpage">getpage</a> / <a href="#gettab">gettab</a> / <a href="#getzxc">getzxc</a> / <a href="#spclclk">spclclk</a> / <a href="#useescspc">useescspc</a> / <a href="#usewheel">usewheel</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getfunction"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getfunction</h2><h4><a class="WordCategory" href="#category_input">键盘按键扩展</a></h4><h3>getfunction</h3><div class="ContentBody"><p class="Description">用在btndef和btnwait命令之间。按下F1到F12时，返回-21~-32之间的值。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设置为能够检测功能键</div><pre class="ExSource">getfunction</pre></div><hr /><a href="#btndef">btndef</a> / <a href="#btntime">btntime</a> / <a href="#btntime2">btntime2</a> / <a href="#btnwait">btnwait</a> / <a href="#getcursor">getcursor</a> / <a href="#getenter">getenter</a> / <a href="#getinsert">getinsert</a> / <a href="#getpage">getpage</a> / <a href="#gettab">gettab</a> / <a href="#getzxc">getzxc</a> / <a href="#spclclk">spclclk</a> / <a href="#useescspc">useescspc</a> / <a href="#usewheel">usewheel</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getini"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />getini</h2><h4><a class="WordCategory" href="#category_getinfo">获得各种信息命令</a></h4><h3>getini $VAR,STR,STR,STR</h3><div class="Arguments"><span class="ArgType">文字变量</span><span class="ArgMeaning">储存值的变量</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">ini文件名</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">小节名</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">键值名</span><br /></div><div class="ContentBody"><p class="Description">打开ini文件，读取数据到变量中。<br />参数依次为ini文件名，区块名，键名。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getinsert"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getinsert</h2><h4><a class="WordCategory" href="#category_input">键盘按键扩展</a></h4><h3>getinsert</h3><div class="ContentBody"><p class="Description">请在btndef和btnwait类命令中使用此命令。<br />设置为能够检测到Insert键被按下。<br />返回值为-50。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设置为能够检测Insert键</div><pre class="ExSource">getinsert</pre></div><hr /><a href="#btndef">btndef</a> / <a href="#btntime">btntime</a> / <a href="#btntime2">btntime2</a> / <a href="#btnwait">btnwait</a> / <a href="#getcursor">getcursor</a> / <a href="#getenter">getenter</a> / <a href="#getfunction">getfunction</a> / <a href="#getpage">getpage</a> / <a href="#gettab">gettab</a> / <a href="#getzxc">getzxc</a> / <a href="#spclclk">spclclk</a> / <a href="#useescspc">useescspc</a> / <a href="#usewheel">usewheel</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getlog"></a><h2><span class="WordVersion">Ver.2.49</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getlog</h2><h4><a class="WordCategory" href="#category_logcustomize">自定义回想模式</a></h4><h3>getlog $VAR,NUM</h3><div class="Arguments"><span class="ArgType">文字变量</span><span class="ArgMeaning">储存获得的记录的变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">多少页之前</span><br /></div><div class="ContentBody"><p class="Description">获得回想模式的文字。换行和注音都会包含在其中。<br />第一个参数为储存文字的变量，第二个参数和checkpage相同，指定的是获取多少页之前的文字。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">获得%5页面前的日志</div><pre class="ExSource">getlog $0,%5</pre></div><hr /><a href="#logsp">logsp</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getlogtext"></a><h2><span class="WordVersion">Ver.2.70</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getlogtext</h2><h4><a class="WordCategory" href="#category_logcustomize">自定义回想模式</a></h4><h3>getlogtext $VAR,NUM</h3><div class="Arguments"><span class="ArgType">文字变量</span><span class="ArgMeaning">储存获得的记录的变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">多少页之前</span><br /></div><div class="ContentBody"><p class="Description">功能几乎和getlog相同，当和strsp组合使用的情况下使用此命令。<br />今后的版本会将strsp和getlog组合使用。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#getlog">getlog</a> / <a href="#strsp">strsp</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getmclick"></a><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getmclick</h2><h4><a class="WordCategory" href="#category_input">键盘按键扩展</a></h4><h3>getmclick</h3><div class="ContentBody"><p class="Description">根据之前的btnwait命令，开发的getmclick命令。请像使用getfunction命令相同的形式在btndef和btnwait之间使用。返回值为-70。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#btndef">btndef</a> / <a href="#btntime">btntime</a> / <a href="#btntime2">btntime2</a> / <a href="#btnwait">btnwait</a> / <a href="#getcursor">getcursor</a> / <a href="#getenter">getenter</a> / <a href="#getfunction">getfunction</a> / <a href="#getinsert">getinsert</a> / <a href="#getpage">getpage</a> / <a href="#gettab">gettab</a> / <a href="#getzxc">getzxc</a> / <a href="#spclclk">spclclk</a> / <a href="#useescspc">useescspc</a> / <a href="#usewheel">usewheel</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getmouseover"></a><h2><span class="WordVersion">Ver.2.49</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getmouseover</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>getmouseover NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号最小值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号最大值</span><br /></div><div class="ContentBody"><p class="Description">请在btndef和textbtnwait命令之间使用此命令。<br />当鼠标悬停在指定范围中的按钮上时，会跳出等待按钮的循环。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">对鼠标移动到0~9号的精灵上的情况作出反应。</div><pre class="ExSource">btndef clear
getmouseover 0,9
textbtnwait %0</pre></div><hr /><a href="#btndef">btndef</a> / <a href="#textbtnwait">textbtnwait</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getmousepos"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getmousepos</h2><h4><a class="WordCategory" href="#category_input">键盘按键扩展</a></h4><h3>getmousepos %VAR,%VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存鼠标光标X坐标的变量</span><br /><span class="ArgType">数字变量</span><span class="ArgMeaning">储存鼠标光标Y坐标的变量</span><br /></div><div class="ContentBody"><p class="Description">获得鼠标光标的坐标储存到指定的变量中。<br />和clickpos不同，能在不必等待鼠标单击的情况下获得坐标。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">获得鼠标坐标保存到%0%1中。</div><pre class="ExSource">getmousepos %0,%1</pre></div><hr /><a href="#clickpos">clickpos</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getmp3vol"></a><h2><span class="WordVersion">Ver.</span><span class="WordVersion">非正式</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getmp3vol</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>getmp3vol %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">音量(0～100)</span><br /></div><div class="ContentBody"><p class="Description">获得mp3的音量。对bgm命令和mp3命令均有效。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">获得mp3的音量。</div><pre class="ExSource">getmp3vol %0</pre></div><hr /><a href="#mp3">mp3</a> / <a href="#mp3vol">mp3vol</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getnextline"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getnextline</h2><h4><a class="WordCategory" href="#category_cursor">光标相关命令</a></h4><h3>getnextline %VAR,%VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">下一行行首位置的X坐标储存变量</span><br /><span class="ArgType">数字变量</span><span class="ArgMeaning">下一行行首位置的Y坐标储存变量</span><br /></div><div class="ContentBody"><p class="Description">获得文字窗口要显示的下一行的行首位置。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将下一行的行首坐标储存到%0和%1中。</div><pre class="ExSource">getnextline %0,%1</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getpage"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getpage</h2><h4><a class="WordCategory" href="#category_input">键盘按键扩展</a></h4><h3>getpage</h3><div class="ContentBody"><p class="Description">请在btndef和btnwait类命令中使用此命令。<br />设置为能够检测到PageUp和PageDown两个键的按下。<br />返回值为-12和-13.</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设置为能够检测到PageUp和PageDown两个键</div><pre class="ExSource">getpage</pre></div><hr /><a href="#btndef">btndef</a> / <a href="#btntime">btntime</a> / <a href="#btntime2">btntime2</a> / <a href="#btnwait">btnwait</a> / <a href="#getcursor">getcursor</a> / <a href="#getenter">getenter</a> / <a href="#getfunction">getfunction</a> / <a href="#getinsert">getinsert</a> / <a href="#gettab">gettab</a> / <a href="#getzxc">getzxc</a> / <a href="#spclclk">spclclk</a> / <a href="#useescspc">useescspc</a> / <a href="#usewheel">usewheel</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getparam"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />getparam</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>getparam %VAR|$VAR|s%VAR|i%VAR[,...]</h3><div class="Arguments"><span class="ArgType">特殊</span><span class="ArgMeaning">储存参数的变量</span><br /></div><div class="ContentBody"><p class="Description">如果指定一个标签作为跳转的目的地，可以将这个标签名作为字符串参数读取到子程序中。<br />在NScripter的任何命令中，标签名都是当做字符串来处理的。可以方便地利用这一点。<br />例如，<br />*define<br />defsub usergoto<br />game<br /><br />*label<br />执行了跳转。\<br />end<br /><br />*start<br />usergoto *label<br /><br />*usergoto<br />getparam $0<br />;执行了该语句之后，$0的值为&quot;*label&quot;。<br />goto $0<br />;此时，goto &quot;*label&quot;和goto *label是相同的。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">由于getparam获取的变量以及储存他们的值的变量很容易搞混，<br />最好将由defsub定义的子程序中的变量和调用他们的脚本中使用的变量分开。<br />比如%0-&amp;49是在普通脚本中使用的，而%50和%99是在defsub定义的子程序中使用的。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">定义一个子程序sub，演示如何获得一个字符串参数和数值参数</div><pre class="ExSource">*define
defsub sub

*sub
getparam $50,%50
;$50变量代入&quot;字符串&quot;，%50变量代入值12
return

*start
sub &quot;字符串&quot;,12</pre><span class="ExHeading">例)</span><br /><div class="ExComment">定义子程序kakeru_4，获得数字变量和数值作为参数</div><pre class="ExSource">*define
defsub kakeru_4
game

*kakeru_4
getparam i%50,%51
;i%这种写法，可以获得调用的最初的数字变量的变量编号。这里为「３」
mov %%50,%51*4
;%%50这种写法，会将「%50」作为变量编号代入到数字变量中。也就是说和mul %3,4是相同的
return

*start
kakeru_4 %3,10
;%3为10*4=40</pre><span class="ExHeading">例)</span><br /><div class="ExComment">定义子程序renketu，获得文字变量和字符串作为参数</div><pre class="ExSource">*define
defsub renketu
game

*renketu
getparam s%50,$51
;文字变量的情况为s%
add $%50,$51
;$%50这种写法，会将「%50」作为变量编号代入到文字变量中。
return

*start
mov $1,&quot;れんけつ&quot;
renketu $1,&quot;てすと&quot;
;$1的值为&quot;れんけつてすと&quot;。</pre></div><hr /><a href="#defsub">defsub</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getreg"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />getreg</h2><h4><a class="WordCategory" href="#category_getinfo">获得各种信息命令</a></h4><h3>getreg $VAR,STR,STR</h3><div class="Arguments"><span class="ArgType">文字变量</span><span class="ArgMeaning">储存注册表信息的变量</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">键名</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">值名</span><br /></div><div class="ContentBody"><p class="Description">从注册表中读取数据，保存到文字变量中。<br />这能选择HKEY_CURRENT_USER下面的键值。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource">getreg $0,&quot;software\leaf\toheart&quot;,&quot;datadir&quot;</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getret"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />getret</h2><h4><a class="WordCategory" href="#category_plugin_archive">插件・压缩包</a></h4><h3>getret %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">接收从dll返回值的变量</span><br /></div><h3>getret $VAR</h3><div class="Arguments"><span class="ArgType">文字变量</span><span class="ArgMeaning">接收从dll返回值的变量</span><br /></div><div class="ContentBody"><p class="Description">用于获得以exec_dll命令执行的dll里的返回值。能够获得一个数值或者字符串的值。<br />也可以用来获得textfield等命令的返回值。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#exec_dll">exec_dll</a> / <a href="#textfield">textfield</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getsavestr"></a><h2><span class="WordVersion">Ver.2.60</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getsavestr</h2><h4><a class="WordCategory" href="#category_saveload">保存・读取命令</a></h4><h3>getsavestr $VAR,NUM</h3><div class="Arguments"><span class="ArgType">文字变量</span><span class="ArgMeaning">储存读取的字符串的变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">存档编号</span><br /></div><div class="ContentBody"><p class="Description">获得savegame2命令保存的字符串。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将用savegame2命令保存的12号存档中的字符串取出放到$1中。</div><pre class="ExSource">getsavestr $1,12</pre></div><hr /><a href="#savegame2">savegame2</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getscreenshot"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getscreenshot</h2><h4><a class="WordCategory" href="#category_screenshot">截图命令</a></h4><h3>getscreenshot NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">横向大小</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">纵向大小</span><br /></div><div class="ContentBody"><p class="Description">截取屏幕。只会将画面保存到内存中，所以必须要使用savescreenshot命令保存成文件。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">以横向160，纵向120的大小截取屏幕。</div><pre class="ExSource">getscreenshot 160,120
</pre></div><hr /><a href="#deletescreenshot">deletescreenshot</a> / <a href="#savescreenshot">savescreenshot</a> / <a href="#savescreenshot2">savescreenshot2</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getsevol"></a><h2><span class="WordVersion">Ver.</span><span class="WordVersion">非正式</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getsevol</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>getsevol %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">音量(0～100)</span><br /></div><div class="ContentBody"><p class="Description">得到SE的音量。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">获得SE的音量储存到%0。</div><pre class="ExSource">getsevol %0</pre></div><hr /><a href="#chvol">chvol</a> / <a href="#dwave">dwave</a> / <a href="#sevol">sevol</a> / <a href="#wave">wave</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getskipoff"></a><h2><span class="WordVersion">Ver.2.49</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getskipoff</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>getskipoff</h3><div class="ContentBody"><p class="Description">请在btndef和textbtnwait命令之间使用此命令。<br />skipoff的情况下返回-60，automode的情况下返回-61。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">如果处于skipoff状态则调用取消显示skip状态的子程序。</div><pre class="ExSource">btndef clear
getskipoff
textbtnwait %0
if %0=-60 gosub *clearskipicon
</pre></div><hr /><a href="#btndef">btndef</a> / <a href="#textbtnwait">textbtnwait</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getspmode"></a><h2><span class="WordVersion">Ver.2.61</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getspmode</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>getspmode %VAR,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存结果的变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号</span><br /></div><div class="ContentBody"><p class="Description">精灵为显示状态返回1，不显示状态返回0。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">获得10号精灵的显示状态，保存到%2中。</div><pre class="ExSource">getspmode %2,10</pre></div><hr /><a href="#lsp">lsp</a> / <a href="#lsph">lsph</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getspsize"></a><h2><span class="WordVersion">Ver.2.53</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getspsize</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>getspsize NUM,%VAR,%VAR[,%VAR]</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号</span><br /><span class="ArgType">数字变量</span><span class="ArgMeaning">储存宽的变量</span><br /><span class="ArgType">数字变量</span><span class="ArgMeaning">储存高的变量</span><br /><span class="ArgType">数字变量</span><span class="ArgMeaning">储存分格数的变量</span><br /></div><div class="ContentBody"><p class="Description">获得精灵的大小。<br />第三个获得分格数的变量可以省略。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">第三个参数在Ver.2.54中添加。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将编号0的精灵的宽，高，分格数分别写入到%0，%1，%2中。</div><pre class="ExSource">getspsize 0,%0,%1,%2</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="gettab"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />gettab</h2><h4><a class="WordCategory" href="#category_input">键盘按键扩展</a></h4><h3>gettab</h3><div class="ContentBody"><p class="Description">用在btndef和btnwait命令之间。按下tab键是返回-20。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设置为能获得tab键</div><pre class="ExSource">gettab</pre></div><hr /><a href="#btndef">btndef</a> / <a href="#btntime">btntime</a> / <a href="#btntime2">btntime2</a> / <a href="#btnwait">btnwait</a> / <a href="#getcursor">getcursor</a> / <a href="#getenter">getenter</a> / <a href="#getfunction">getfunction</a> / <a href="#getinsert">getinsert</a> / <a href="#getpage">getpage</a> / <a href="#getzxc">getzxc</a> / <a href="#spclclk">spclclk</a> / <a href="#useescspc">useescspc</a> / <a href="#usewheel">usewheel</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="gettag"></a><h2><span class="WordVersion">Ver.2.49</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />gettag</h2><h4><a class="WordCategory" href="#category_tag">文本标签相关</a></h4><h3>gettag $VAR|%VAR[,...]</h3><div class="Arguments"><span class="ArgType">变量</span><span class="ArgMeaning">储存tag信息的变量</span><br /></div><div class="ContentBody"><p class="Description">此命令多用于指定*pretextgosub的子程序跳转而来，来获得标签的内容。<br />和split命令类似，但是没有使用&quot;&quot;的必要。使用/作为分隔符。<br />省略的内容会被填充为&quot;&quot;或者0。<br />当标签本身被省略的时候，变量会全部赋值为&quot;&quot;或者0。<br />例）gettag $0,$1　的情况<br /><br />[太郎/0001.wav]这里是台词。;→$0=&quot;太郎&quot; $1=&quot;0001.wav&quot;<br />省略了标签的时候。 ;→$0=&quot;&quot; $1=&quot;&quot;<br /><br />可以在处理名字和语音的时候使用。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">用$0和$1储存tag的信息</div><pre class="ExSource">gettag $0,$1</pre></div><hr /><a href="#pretextgosub">pretextgosub</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="gettaglog"></a><h2><span class="WordVersion">Ver.2.72</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />gettaglog</h2><h4><a class="WordCategory" href="#category_logcustomize">自定义回想模式</a></h4><h3>gettaglog $VAR,NUM</h3><div class="Arguments"><span class="ArgType">文字变量</span><span class="ArgMeaning">日志标签字符串的储存变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">记录的页码</span><br /></div><div class="ContentBody"><p class="Description">和getlog命令用法相同，用于获得指定数字前的页数的标签。<br />当回想记录中记录了标签以及回想记录标签是自定义的情况下。如果预先指定名字和声音的话，这样就能够方便地读取这些数据了。<br /><br />没有标签的时候返回&quot;&quot;。<br />此处，gettag命令可以根据/分割变量，但是gettaglog命令不行。<br />像下面的例子一样使用的话，可以实现和gettag一样的分离效果</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">想获得和gettag $1,$2
一样的记录的时候</div><pre class="ExSource">gettaglog $0,2
split $0,&quot;/&quot;,$1,$2</pre></div><hr /><a href="#gettag">gettag</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="gettext"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />gettext</h2><h4><a class="WordCategory" href="#category_textwindow">文字窗口命令</a></h4><h3>gettext $VAR</h3><div class="Arguments"><span class="ArgType">文字变量</span><span class="ArgMeaning">储存文字窗口的文字的变量</span><br /></div><div class="ContentBody"><p class="Description">获得现在在文本窗口中显示的文字。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">获得现在在文本窗口中显示的文字并保存到$0变量中。</div><pre class="ExSource">gettext $0</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="gettextbtnstr"></a><h2><span class="WordVersion">Ver.2.65</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />gettextbtnstr</h2><h4><a class="WordCategory" href="#category_textbutton">文字按钮命令</a></h4><h3>gettextbtnstr $VAR,NUM</h3><div class="Arguments"><span class="ArgType">文字变量</span><span class="ArgMeaning">储存文字按钮的内容的变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字按钮的编号</span><br /></div><div class="ContentBody"><p class="Description">获得对应编号的文字按钮的字符串。<br />没有内容的时候会用&quot;&quot;代替。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">获得12号文字按钮的字符串到$0变量中。</div><pre class="ExSource">gettextbtnstr $0,12</pre></div><hr /><a href="javascript:void(0);">&lt;&gt;</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="gettimer"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />gettimer</h2><h4><a class="WordCategory" href="#category_wait_timer">等待・定时器</a></h4><h3>gettimer %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">经过的时间(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">这是用来获得内部计时器的值的命令。<br />返回从上一次运行resettimer命令之后，经过的毫秒数。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getversion"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getversion</h2><h4><a class="WordCategory" href="#category_getinfo">获得各种信息命令</a></h4><h3>getversion %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">版本转换为整数后所储存的变量</span><br /></div><div class="ContentBody"><p class="Description">版本号会返回一个三位的整数。<br />实际上是版本号100倍的整数。<br />也就是说，如果是1.90版的话会返回190。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getvoicevol"></a><h2><span class="WordVersion">Ver.</span><span class="WordVersion">非正式</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getvoicevol</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>getvoicevol %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">音量(0～100)</span><br /></div><div class="ContentBody"><p class="Description">获得语音音量大小。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">获得语音音量并保存到%0中</div><pre class="ExSource">getvoicevol %0</pre></div><hr /><a href="#chvol">chvol</a> / <a href="#dv">dv</a> / <a href="#v">v</a> / <a href="#voicevol">voicevol</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getwindowsize"></a><h2><span class="WordVersion">Ver.2.54</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getwindowsize</h2><h4><a class="WordCategory" href="#category_getinfo">获得各种信息命令</a></h4><h3>getwindowsize %VAR,%VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存窗口宽度的变量</span><br /><span class="ArgType">数字变量</span><span class="ArgMeaning">储存窗口高度的变量</span><br /></div><div class="ContentBody"><p class="Description">获得窗口的client区域（除去菜单和边框，显示图像的部分）。默认值为640和480。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">获得窗口的高度和宽度，保存到%0和%1中。</div><pre class="ExSource">getwindowsize %0,%1</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="getzxc"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />getzxc</h2><h4><a class="WordCategory" href="#category_input">键盘按键扩展</a></h4><h3>getzxc</h3><div class="ContentBody"><p class="Description">请在btndef和btnwait类命令中使用此命令。<br />设置为能够检测到ZXC键的按下。<br />返回这为-51，-52，-53。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设置为能够检测Z，X，C键</div><pre class="ExSource">getzxc</pre></div><hr /><a href="#btndef">btndef</a> / <a href="#btntime">btntime</a> / <a href="#btntime2">btntime2</a> / <a href="#btnwait">btnwait</a> / <a href="#getcursor">getcursor</a> / <a href="#getenter">getenter</a> / <a href="#getfunction">getfunction</a> / <a href="#getinsert">getinsert</a> / <a href="#getpage">getpage</a> / <a href="#gettab">gettab</a> / <a href="#spclclk">spclclk</a> / <a href="#useescspc">useescspc</a> / <a href="#usewheel">usewheel</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="globalon"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />globalon</h2><h4><a class="WordCategory" href="#category_log_global">文件访问日志・全局变量</a></h4><h3>globalon</h3><div class="ContentBody"><p class="Description">设置为使用全局变量。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#value">value</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="gosub"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />gosub</h2><h4><a class="WordCategory" href="#category_jump">跳转命令</a></h4><h3>gosub LABEL</h3><div class="Arguments"><span class="ArgType">标签</span><span class="ArgMeaning">跳转目的地</span><br /></div><div class="ContentBody"><p class="Description">会调用标签指定的子程序。<br />通过return语句从子程序返回后，继续执行gosub后面一条语句。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="goto"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />goto</h2><h4><a class="WordCategory" href="#category_jump">跳转命令</a></h4><h3>goto LABEL</h3><div class="Arguments"><span class="ArgType">标签</span><span class="ArgMeaning">跳转目的地</span><br /></div><div class="ContentBody"><p class="Description">跳转到相应的标签。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="humanorder"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />humanorder</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>humanorder STR,NUM[,NUM]</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">例如&quot;rcl&quot;，则指定了&quot;r&quot;,&quot;c&quot;,&quot;l&quot;的顺序</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">效果编号</span><span class="ArgMeaning">效果数字超过2的话需要根据情况增加参数</span><br /></div><div class="ContentBody"><p class="Description">指定立绘之间的优先顺序。<br />	</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">立绘按照屏幕上的右，中央，左的顺序显示。</div><pre class="ExSource">humanorder &quot;rcl&quot;,1</pre></div><hr /><a href="#humanz">humanz</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="humanpos"></a><h2><span class="WordVersion">Ver.</span><span class="WordVersion">非正式</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />humanpos</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>humanpos NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">指定了左立绘的基准x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">指定了中央立绘时的基准x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">指定了右立绘时的基准x坐标</span><br /></div><div class="ContentBody"><p class="Description">设置立绘的基准x坐标。<br />这个命令设定的坐标是和立绘的正中对齐的。<br />默认值大约是160，320，480。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">ver2.92或更高版本，可用于执行部分</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#ld">ld</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="humanz"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />humanz</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>humanz NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">立绘显示层的上层的精灵编号</span><br /></div><div class="ContentBody"><p class="Description">指定立绘和精灵重叠的时候的优先顺序（Ｚ轴顺序）。<br />指定编号的精灵将被绘制在立绘的上面。<br />默认值为25。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#ld">ld</a> / <a href="#windowback">windowback</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="if"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />if</h2><h4><a class="WordCategory" href="#category_statement">条件表达式・循环语句命令</a></h4><h3>if CONDITION[{&amp;&amp;,&amp;} CONDITION[...]] SENTENCE</h3><div class="Arguments"><span class="ArgType">条件表达式</span><span class="ArgMeaning">比较操作符、检查命令、返回布尔值的表达式</span><br /><span class="ArgType">执行语句</span><span class="ArgMeaning">条件表达式为真的情况下执行的语句。</span><br /></div><div class="ContentBody"><p class="Description">条件判断命令。使用格式如下。<br />　if 条件式 ({&amp;&amp;,&amp;} 条件式) 执行语句。<br />if命令对应条件成立的情况，notif对应条件不成立的情况，执行下面的命令。<br />对于不满足上面的条件的情况，这一行将被跳过。<br />&amp;&amp;和&amp;意义相同，用于进一步缩小条件。<br />条件式以及数字，还有fchk函数都可以使用。<br />　　　＜条件式＞<br />　　　数字 {&gt;,&lt;,=,&gt;=,&lt;=,==,!=,&lt;&gt;} 数字<br />　　　或者，<br />　　　fchk 字符串<br /><br />　　　&lt;,&gt;，=，&gt;=，&lt;=如字面意思。<br />　　　==和=是相同的意思，意味着「相等」!=和&lt;&gt;是相同的意思，意味着「不等」。<br />　　　如果字符串指定的图像能够被读取的话fchk返回真。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">ver.2.93中，仅有&amp;运算没有|运算（OR运算）是允许的。但是&amp;和|混合使用是不可以的。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">%0的内容为1的话，以2像素为单位横向摇动500毫秒。</div><pre class="ExSource">if %0=1 quakex 2,500 ; 基本用法</pre><span class="ExHeading">例)</span><br /><div class="ExComment">当%0的值为1，而且%2的值为5的情况下，结束游戏。</div><pre class="ExSource">if %0=1 &amp;&amp; %2=5 end ; 两个条件均成立则执行</pre><span class="ExHeading">例)</span><br /><div class="ExComment">当%0的值为2的时候，将1代入%1，然后向后跳两行指令。</div><pre class="ExSource">if %0=2 mov %1,1:skip 2 ; 使用:（冒号）执行两个指令</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="inc"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />inc</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>inc %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">作为自增对象的变量</span><br /></div><div class="ContentBody"><p class="Description">变量值加1。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="indent"></a><h2><span class="WordVersion">Ver.2.49</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />indent</h2><h4><a class="WordCategory" href="#category_tag">文本标签相关</a></h4><h3>indent NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">缩进的文字数</span><br /></div><div class="ContentBody"><p class="Description">换行时文字会根据指定文字数向右缩进。<br />和pretextgosub组合起来的话，对话的时候换行时可以使用使文本向右进行缩进。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">换行时进行2个文字的缩进。</div><pre class="ExSource">indent 2</pre></div><hr /><a href="#pretextgosub">pretextgosub</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="input"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />input</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>input $VAR,STR,STR,NUM,NUM</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">获得输入结果的变量</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">要显示的信息</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">默认字符串</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">最大字符数</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">强制全角文字标志(0:允许半角，1:强制全角)</span><br /></div><div class="ContentBody"><p class="Description">和inputstr一样显示一个输入文字的文本框。input命令可以设置默认的字符串。<br />最后一个数字是0或者1，为是否强制全角标志。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#inputnum">inputnum</a> / <a href="#inputstr">inputstr</a> / <a href="#textfield">textfield</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="inputnum"></a><h2><span class="WordVersion">Ver.</span><span class="WordVersion">非正式</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />inputnum</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>inputnum %VAR,NUM,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存输入结果的变量</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">要显示的信息</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">窗口的宽度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">窗口的高度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">输入区域的宽度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">输入区域的高度</span><br /></div><div class="ContentBody"><p class="Description">显示一个输入数值的对话框。<br />字符串为要显示在对话框上的消息。<br />后四个参数可选，分别为窗口大小X，Y，文字输入框的大小X，Y。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#input">input</a> / <a href="#inputstr">inputstr</a> / <a href="#textfield">textfield</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="inputstr"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />inputstr</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>inputstr $VAR,STR,NUM,NUM[,NUM,NUM,NUM,NUM]</h3><div class="Arguments"><span class="ArgType">文字变量</span><span class="ArgMeaning">储存输入结果的变量</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">要显示的信息</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">最大字符数</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">全角文字强制标志(0:允许半角文字，1:强制全角)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">窗口的宽度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">窗口的高度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">输入区域的宽度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">输入区域的高度</span><br /></div><div class="ContentBody"><p class="Description">显示一个输入字符串的对话框。<br />字符串为要显示在对话框上的消息。<br />第一个参数为最大文字数，最后一个参数为全角标志，为1则强制全角文字。<br />后四个参数可选，分别为窗口大小X，Y，文字输入框的大小X，Y。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#input">input</a> / <a href="#inputnum">inputnum</a> / <a href="#textfield">textfield</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="insertmenu"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />insertmenu</h2><h4><a class="WordCategory" href="#category_windowmenu">窗口菜单相关命令</a></h4><h3>insertmenu STR,NAME[,NUM]</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">作为菜单显示出来的字符串</span><br /><span class="ArgType">名称</span><span class="ArgMeaning">预定功能代码</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">菜单的阶层</span><br /></div><div class="ContentBody"><p class="Description">插入菜单。插入位置总是在开头。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">创建一个菜单。</div><pre class="ExSource">insertmenu &quot;结束&quot;,END
insertmenu &quot;版本信息&quot;,VERSION
insertmenu &quot;跳到下一个选择支&quot;,SKIP
insertmenu &quot;自动模式&quot;,AUTO
insertmenu &quot;环境设定&quot;,SUB
;SUB表示这个可以打开子菜单。。
insertmenu &quot;字体&quot;,FONT,1
insertmenu &quot;WAVE声音&quot;,SUB,1
insertmenu &quot;ＯＮ&quot;,WAVEON,2
insertmenu &quot;ＯＦＦ&quot;,WAVEOFF,2
insertmenu &quot;音量&quot;,DWAVEVOLUME,2
insertmenu &quot;文字速度&quot;,SUB,1
insertmenu &quot;慢速&quot;,TEXTSLOW,2
insertmenu &quot;普通&quot;,TEXTMIDDLE,2
insertmenu &quot;快速&quot;,TEXTFAST,2
insertmenu &quot;画面&quot;,SUB,1
insertmenu &quot;全屏&quot;,FULL,2
insertmenu &quot;窗口模式&quot;,WINDOW,2
insertmenu &quot;ＣＤ－ＤＡ&quot;,SUB,1
insertmenu &quot;ＯＮ&quot;,CDON,2
insertmenu &quot;ＯＦＦ&quot;,CDOFF,2
insertmenu &quot;单击设定&quot;,SUB,1
insertmenu &quot;普通&quot;,CLICKDEF,2
insertmenu &quot;翻页&quot;,CLICKPAGE,2
</pre></div><hr /><a href="#deletemenu">deletemenu</a> / <a href="#killmenu">killmenu</a> / <a href="#resetmenu">resetmenu</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="intlimit"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />intlimit</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>intlimit NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">数值变量编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">最小值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">最大值</span><br /></div><div class="ContentBody"><p class="Description">限制数字变量的值。超过最大值会被改为最大值，超过最小值会被改为最小值。<br />参数依次为数字变量编号，最小值，最大值。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">限制%0的取值范围在10~20之间。</div><pre class="ExSource">intlimit 0,10,20</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="isdown"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />isdown</h2><h4><a class="WordCategory" href="#category_input">键盘按键扩展</a></h4><h3>isdown %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存判定结果的变量</span><br /></div><div class="ContentBody"><p class="Description">将按键是否按下的结果写入到指定的变量中。<br />未按下返回0，按下则返回1。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">按住左键会一直输出「０」，松开会停止输出，点击右键则结束程序。</div><pre class="ExSource">*waitloop
btnwait %0
if %0=0 goto *onlclick
end
*onlclick
isdown %1
if %1=1 puttext &quot;０/&quot;:goto *onlclick
puttext &quot;&quot;
goto *waitloop</pre></div><hr /><a href="#btndown">Btndown</a> /<hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="isfull"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />isfull</h2><h4><a class="WordCategory" href="#category_windowmenu">窗口菜单相关命令</a></h4><h3>isfull %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">结果的储存变量(0:通常，1:全屏)</span><br /></div><div class="ContentBody"><p class="Description">获得当前是否处于全屏状态。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">因为可以通过Alt+Enter键切换是否全屏，所以除此命令无法获得是否全屏。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">判断是否全屏，将结果存到%0中，切换状态。</div><pre class="ExSource">isfull %0
if %0==0 menu_full
notif %0==0 menu_window
</pre></div><hr /><a href="#menu_full">menu_full</a> / <a href="#menu_window">menu_window</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="ispage"></a><h2><span class="WordVersion">Ver.2.49</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />ispage</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>ispage %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存判定结果的变量</span><br /></div><div class="ContentBody"><p class="Description">在textgosub命令被调用时，如果调用它的文字是处于换页等待的话返回1，<br />如果只是单纯地等待点击的话返回0。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">检查是否处于换页等待并储存到%0中</div><pre class="ExSource">ispage %0</pre></div><hr /><a href="#textgosub">textgosub</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="isskip"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />isskip</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>isskip %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存结果的变量</span><br /></div><div class="ContentBody"><p class="Description">现在为skipmode返回1，automode返回2，通常模式返回0。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">在跳过已读文字打开时，在未读的文章部分会返回0。（by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="itoa"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />itoa</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>itoa $VAR,NUM</h3><div class="Arguments"><span class="ArgType">文字变量</span><span class="ArgMeaning">代入结果的变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">要转换成字符串的数字</span><br /></div><div class="ContentBody"><p class="Description">将数字转换为字符串。但是只是半角字符。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将120转换为字符串代入$0中，再将%2的内容转换为字符串代入$1中。</div><pre class="ExSource">itoa $0,120
itoa $1,%2</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="itoa2"></a><h2><span class="WordVersion">Ver.2.49</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />itoa2</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>itoa2 $VAR,NUM</h3><div class="Arguments"><span class="ArgType">文字变量</span><span class="ArgMeaning">全角数字的储存变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">要转换的数值</span><br /></div><div class="ContentBody"><p class="Description">和itoa命令相同都是把数值转换为字符串，但是此命令会转换成全角数字。显示的时候会变得方便。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将%4储存的数值转换为全角字符串，储存到$0变量中。</div><pre class="ExSource">itoa2 $0,%4</pre></div><hr /><a href="#itoa">itoa</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="jumpb"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />jumpb</h2><h4><a class="WordCategory" href="#category_jump">跳转命令</a></h4><h3>jumpb</h3><div class="ContentBody"><p class="Description">返回到上一个~记号处。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">虽然脚本中没有~符号，但是如果注释中有~符号的时候，会跳转到该处，请注意。（by senzogawa)<br />（原文此处为乱码）</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="jumpf"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />jumpf</h2><h4><a class="WordCategory" href="#category_jump">跳转命令</a></h4><h3>jumpf</h3><div class="ContentBody"><p class="Description">跳转到下一个~记号处。用于使用标签名太麻烦的场合。但是，由于不能用于构造多层结构，所以最好只用于能够预见跳转位置的情况。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">虽然脚本中没有~符号，但是如果注释中有~符号的时候，会跳转到该处，请注意。（by senzogawa)<br />（原文此处为乱码）</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource">jumpf
这句话将被跳过。
~
这句话将被显示。</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="kidokumode"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />kidokumode</h2><h4><a class="WordCategory" href="#category_kidokuskip">跳过已读文字命令</a></h4><h3>kidokumode NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">0:强制跳过、1:跳过已读</span><br /></div><div class="ContentBody"><p class="Description">在跳过已读和强制跳过所有的模式之间切换。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">关闭跳过已读，开启强制跳过模式</div><pre class="ExSource">kidokumode 0</pre></div><hr /><a href="#kidokuskip">kidokuskip</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="kidokuskip"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />kidokuskip</h2><h4><a class="WordCategory" href="#category_kidokuskip">跳过已读文字命令</a></h4><h3>kidokuskip</h3><div class="ContentBody"><p class="Description">使用此命令的话，「跳到下一个选项处」的时候会变成跳过已读文章。已读文章数据会被保存在文件中，如果改变了脚本的话，改变部分之后都会发生偏移。<br />已读文章的数据会被保存在「kidoku.dat」中。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#kidokumode">kidokumode</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="killmenu"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />killmenu</h2><h4><a class="WordCategory" href="#category_windowmenu">窗口菜单相关命令</a></h4><h3>killmenu NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">要删去的菜单的位置</span><br /></div><div class="ContentBody"><p class="Description">从左开始算，删除该位置的菜单。<br />然而，当第二次调用此命令时，由于之前的某一个菜单已经被删除，所以之后要根据新的位置来删除。<br />0为最左边的菜单，每向右前进一个增加1。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">对于CD-DA，必须指定7才能删除它。<br />版本信息和结束编号为8和9。
中文版的NS删除字体菜单会导致字体信息溢出。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">去掉除了版本信息和结束之外的所有菜单。</div><pre class="ExSource">killmenu 7
killmenu 5
killmenu 4
killmenu 3
killmenu 2
killmenu 1
killmenu 0</pre></div><hr /><a href="#deletemenu">deletemenu</a> / <a href="#insertmenu">insertmenu</a> / <a href="#resetmenu">resetmenu</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="kinsoku"></a><h2><span class="WordVersion">Ver.2.73</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />kinsoku</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>kinsoku {on,off}</h3><div class="Arguments"><span class="ArgType">列举</span><span class="ArgMeaning">on:进行禁止处理、off:不作禁止处理</span><br /></div><div class="ContentBody"><p class="Description">kinsoku on则执行禁止处理。kinsoku off则不作禁止处理。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">对正常文字显示和strsp均会起作用。 （by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#strsp">strsp</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="labelexist"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />labelexist</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>labelexist %VAR,LABEL</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">确认结果(0:无、1:有)</span><br /><span class="ArgType">标签</span><span class="ArgMeaning">要确认的标签</span><br /></div><div class="ContentBody"><p class="Description">该标签存在的话则返回1，不存在则返回0.</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">此为非正式命令。（by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">*message标签存在的话，则使用gosub命令。</div><pre class="ExSource">labelexist %0,*message
if %0==1 gosub *message</pre></div><hr /><a href="#gosub">gosub</a> / <a href="#goto">goto</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="labellog"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />labellog</h2><h4><a class="WordCategory" href="#category_log_global">文件访问日志・全局变量</a></h4><h3>labellog</h3><div class="ContentBody"><p class="Description">和文件记录相同的形式，获得标签的记录。<br />　除了goto gosub等命令跳转的目的标签，脚本读取的标签全部都会记忆在其中。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="layermessage"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />layermessage</h2><h4><a class="WordCategory" href="#category_plugin_archive">插件・压缩包</a></h4><h3>layermessage NUM,STR</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">在setlayer中指定的层数编号</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">向layer发送的消息</span><br /></div><div class="ContentBody"><p class="Description">向指定的layer发送任意的字符串消息。<br />layer可以通过此命令实现不同的效果。<br />以BOOL Message (char *message,int *returnint,char *returnstr);<br />的形式接收。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#setlayer">setlayer</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="lchk"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />lchk</h2><h4><a class="WordCategory" href="#category_statement">条件表达式・循环语句命令</a></h4><h3>lchk LABEL</h3><div class="Arguments"><span class="ArgType">标签</span><span class="ArgMeaning">欲读入确认的标签</span><br /></div><div class="ContentBody"><p class="Description">和fchk命令相同、在if命令中使用。如果读取了此标签则返回真。<br />　因为NScr的标签名（除此之外其他地方也是）可以用文字变量代替，所以<br />lchk *test<br />lchk &quot;*test&quot;<br />lchk $0<br />上述三者均为正确用法。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="ld"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />ld</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>ld {l,c,r},STR,EFFECT</h3><div class="Arguments"><span class="ArgType">列举</span><span class="ArgMeaning">立绘的显示位置(l:左、c:中央、r:右)</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">文件名</span><br /><span class="ArgType">效果</span><span class="ArgMeaning">显示立绘时所用效果</span><br /></div><div class="ContentBody"><p class="Description">用于加载立绘。需要从左(l)，右(r)，正中(c)中选择一个。<br />请以字符串形式指定图像文件名。也可以使用标记。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#cl">cl</a> / <a href="#effect">effect</a> / <a href="#humanz">humanz</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="len"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />len</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>len %VAR,STR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存长度的变量</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">待测字符串</span><br /></div><div class="ContentBody"><p class="Description">返回字符串的长度。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">求$0变量字符串的长度。</div><pre class="ExSource">len %0,$0</pre></div><hr /><a href="#mid">mid</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="linepage"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />linepage</h2><h4><a class="WordCategory" href="#category_click">等待点击相关命令</a></h4><h3>linepage</h3><div class="ContentBody"><p class="Description">将行末没有\的显示文章的换行视为换页。<br />在AVG中每次只想显示一行的时候可以省略最后的换行标志。<br />将此命令和@，\以及clickstr同时使用时候需要多多注意。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#@">@</a> / <a href="#%5C">\</a> / <a href="#clickstr">clickstr</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="linkcolor"></a><h2><span class="WordVersion">Ver.2.65</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />linkcolor</h2><h4><a class="WordCategory" href="#category_textbutton">文字按钮命令</a></h4><h3>linkcolor COLOR,COLOR</h3><div class="Arguments"><span class="ArgType">颜色值</span><span class="ArgMeaning">文字按钮的通常颜色</span><br /><span class="ArgType">颜色值</span><span class="ArgMeaning">鼠标悬停时的颜色</span><br /></div><div class="ContentBody"><p class="Description">linkcolor 鼠标离开时颜色,鼠标悬停时颜色<br />用于设定文字按钮的颜色。<br />默认是黄色和淡蓝色。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设定通常颜色为#FFFF88鼠标悬停颜色为#88FF88。</div><pre class="ExSource">linkcolor #FFFF88,#88FF88</pre></div><hr /><a href="javascript:void(0);">&lt;&gt;</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="loadgame"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />loadgame</h2><h4><a class="WordCategory" href="#category_saveload">保存・读取命令</a></h4><h3>loadgame NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">存档编号</span><br /></div><div class="ContentBody"><p class="Description">从对应编号的存档读取游戏。注意此命令并不会进行确认。<br />读取失败时不会有任何反应，而是直接执行下一条语句。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#loadgosub">loadgosub</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="loadgosub"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />loadgosub</h2><h4><a class="WordCategory" href="#category_saveload">保存・读取命令</a></h4><h3>loadgosub LABEL</h3><div class="Arguments"><span class="ArgType">标签</span><span class="ArgMeaning">紧接着读取后调用的子程序</span><br /></div><div class="ContentBody"><p class="Description">指定读取存档后执行的子程序。<br />这个子程序会在恢复到保存状态之后立即被调用。<br />也就是说，这个子程序会在任何可以保存的情况下被调用，所以请仔细地设计这个子程序的脚本。<br />使用插件播放音乐的时候，读取存档后只能通过手动方式才能恢复到保存时状态，此命令是为应对这种情况而设置的。<br />	</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">使用插件播放音乐的时候有必要使用</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">读取之后直接调用*loadlb子程序。</div><pre class="ExSource">loadgosub *loadlb</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="locate"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />locate</h2><h4><a class="WordCategory" href="#category_drawtext">文字显示命令</a></h4><h3>locate NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">横位置(字符单位)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">纵位置(字符单位)</span><br /></div><div class="ContentBody"><p class="Description">改变文字的显示位置。单位是一个字符。而不是一个像素。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="logsp"></a><h2><span class="WordVersion">Ver.2.49</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />logsp</h2><h4><a class="WordCategory" href="#category_logcustomize">自定义回想模式</a></h4><h3>logsp NUM,STR,NUM,NUM[,COLOR[,COLOR[,...]]]</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">使用getlog获得的字符串</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">显示位置的左上x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">显示位置的左上y坐标</span><br /><span class="ArgType">颜色值</span><span class="ArgMeaning">日志文字颜色(默认值#FFFFFF）</span><br /><span class="ArgType">颜色值</span><span class="ArgMeaning">鼠标悬停时的日志文字颜色(不指定：单分格）</span><br /></div><div class="ContentBody"><p class="Description">从getlog获得文字中，将回想日志中的文字图像转化为精灵。<br />暂时将文字进行处理，作为以便之后的加工的考虑。<br />第一个参数是精灵编号，第二参数是回想日志的文字，第三第四参数为左上坐标，第五参数为指定的文字颜色（和原文字颜色无关的单色）。省略的话则为#FFFFFF，指定多个颜色的话，分别创建颜色数的分格。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将回想日志中的文字绘制为8号精灵，左上角坐标为60,90</div><pre class="ExSource">logsp 8,$0,60,90</pre><span class="ExHeading">例)</span><br /><div class="ExComment">将回想日志中的文字绘制为8号精灵，左上角坐标为60,90，颜色为#FFFF88</div><pre class="ExSource">logsp 8,$0,60,90</pre><span class="ExHeading">例)</span><br /><div class="ExComment">将回想日志中的文字绘制为8号精灵，左上角坐标为60,90，分格0颜色#888888，分格1颜色#FFFF88</div><pre class="ExSource">logsp 8,$0,60,90,#888888,#FFFF88</pre></div><hr /><a href="#getlog">getlog</a> / <a href="#logsp2">logsp2</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="logsp2"></a><h2><span class="WordVersion">Ver.2.49</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />logsp2</h2><h4><a class="WordCategory" href="#category_logcustomize">自定义回想模式</a></h4><h3>logsp2 NUM,STR,NUM,NUM,NUM,NUM,NUM,NUM[,COLOR[,COLOR[,...]]]</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">使用getlog获得的字符串</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">显示位置的左上x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">显示位置的左上y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">显示文字宽度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">显示文字高度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">显示文字横向间隔</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">显示文字纵向间隔</span><br /><span class="ArgType">颜色值</span><span class="ArgMeaning">日志文字颜色(默认值#FFFFFF）</span><br /><span class="ArgType">颜色值</span><span class="ArgMeaning">鼠标悬停时的日志文字颜色(不指定：单分格）</span><br /></div><div class="ContentBody"><p class="Description">logsp的升级版，能够指定文字的大小。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">最后两个颜色制定并未得到官方确认。 （by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将回想记录的文字绘制为为2号精灵，左上角坐标150,20，文字大小17,17，文字间隔0,1</div><pre class="ExSource">logsp2 2,$0,150,20,17,17,0,1</pre></div><hr /><a href="#getlog">getlog</a> / <a href="#logsp">logsp</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="lookbackbutton"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />lookbackbutton</h2><h4><a class="WordCategory" href="#category_lookback">回想模式</a></h4><h3>lookbackbutton STR,STR,STR,STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">上方向选择状态的按钮图像</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">上方向未选择状态的按钮图像</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">下方向选择状态的按钮图像</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">下方向未选择状态的按钮图像</span><br /></div><div class="ContentBody"><p class="Description">加载回想模式用的按钮。<br />参数从左到右依次为上方向选择状态，上方向未选择状态，下方向选择状态，下方向未选择状态。<br />默认值为&quot;uoncur.bmp&quot;,&quot;uoffcur.bmp&quot;,&quot;doncur.bmp&quot;,&quot;doffcur.bmp&quot;。<br />图像大小不同的话会引发错误操作。<br />回想按钮无法执行动画效果。<br />回想按钮会贴近文本窗口的右端上下部分。<br />因为没办法调整位置，所以请使用透明的部分调整位置。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="lookbackcolor"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />lookbackcolor</h2><h4><a class="WordCategory" href="#category_lookback">回想模式</a></h4><h3>lookbackcolor</h3><div class="Arguments"><span class="ArgType">颜色值</span><span class="ArgMeaning">文字颜色</span><br /></div><div class="ContentBody"><p class="Description">用于指定回想模式的文字颜色。<br />请指定HTML格式的颜色。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="lookbackflush"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />lookbackflush</h2><h4><a class="WordCategory" href="#category_lookback">回想模式</a></h4><h3>lookbackflush</h3><div class="ContentBody"><p class="Description">清空回想缓冲区。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="lookbackoff"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />lookbackoff</h2><h4><a class="WordCategory" href="#category_lookback">回想模式</a></h4><h3>lookbackoff</h3><div class="ContentBody"><p class="Description">停止向回想缓存中写入数据。<br />lookbackon命令用于再次开启写入。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#lookbackon">lookbackon</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="lookbackon"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />lookbackon</h2><h4><a class="WordCategory" href="#category_lookback">回想模式</a></h4><h3>lookbackon</h3><div class="ContentBody"><p class="Description">开始向回想缓存中写入数据。<br />此命令用于执行了lookbackoff后的复原。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#lookbackoff">lookbackoff</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="lookbacksp"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />lookbacksp</h2><h4><a class="WordCategory" href="#category_lookback">回想模式</a></h4><h3>lookbacksp NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">上方按钮的精灵编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">下方按钮的精灵编号</span><br /></div><div class="ContentBody"><p class="Description">用精灵代替默认的回想日志按钮。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">上方用2号精灵，下方用3号精灵作为回想日志的按钮。</div><pre class="ExSource">lookbacksp 2,3</pre></div><hr /><a href="#lookbackbtn">lookbackbtn</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="lookbackvoice"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />lookbackvoice</h2><h4><a class="WordCategory" href="#category_lookback">回想模式</a></h4><h3>lookbackvoice</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">翻页声音的WAVE文件名</span><br /></div><div class="ContentBody"><p class="Description">在回想模式中，指定翻页时的wave文件名。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="loopbgm"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />loopbgm</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>loopbgm STR,STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">bgm开始部分的文件名</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">循环部分的文件名</span><br /></div><div class="ContentBody"><p class="Description">先播放起始部分的的文件，之后一直循环播放指定的循环部分的文件。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">bgm.s.wav -&gt; bgm_l.wav -&gt; bgm_l.wav -&gt; ...(之后循环）
按照此模式播放。</div><pre class="ExSource">loopbgm &quot;bgm_s.wav&quot;,&quot;bgm_l.wav&quot;</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="loopbgmstop"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />loopbgmstop</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>loopbgmstop</h3><div class="ContentBody"><p class="Description">停止循环演奏。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="lr_trap"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />lr_trap</h2><h4><a class="WordCategory" href="#category_trap">点击标志检查跳转</a></h4><h3>lr_trap LABEL</h3><div class="Arguments"><span class="ArgType">标签</span><span class="ArgMeaning">点击左键或者右键时跳转到的标签</span><br /></div><h3>lr_trap off</h3><div class="Arguments"><span class="ArgType">列举</span><span class="ArgMeaning">解除trap</span><br /></div><div class="ContentBody"><p class="Description">同时对左右键起作用的trap命令。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="lr_trap2"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />lr_trap2</h2><h4><a class="WordCategory" href="#category_trap">点击标志检查跳转</a></h4><h3>lr_trap2 LABEL</h3><div class="Arguments"><span class="ArgType">标签</span><span class="ArgMeaning">左右键点击和「跳到下一个选择支」时跳转的标签</span><br /></div><h3>lr_trap2 off</h3><div class="Arguments"><span class="ArgType">列举</span><span class="ArgMeaning">解除trap</span><br /></div><div class="ContentBody"><p class="Description">对左右键点击和「跳到下一个选择支」起作用的trap命令。 </p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="lrclick"></a><h2><span class="WordVersion">Ver.2.49</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />lrclick</h2><h4><a class="WordCategory" href="#category_click">等待点击相关命令</a></h4><h3>lrclick</h3><div class="ContentBody"><p class="Description">等待左键点击或者右键点击。<br />返回的是左键点击或是右键点击可以使用getret来获得。<br />getret %0<br />0表示是右键点击，1为左键点击。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">等待左键或者右键点击。</div><pre class="ExSource">lrclick</pre></div><hr /><a href="#click">click</a> / <a href="#getret">getret</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="lsp"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />lsp</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>lsp NUM,STR,NUM,NUM[,NUM]</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号(0～255)</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">图像文件或者精灵字符串</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">左上x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">左上y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">不透明度(0～255)</span><br /></div><div class="ContentBody"><p class="Description">用于显示精灵。精灵的编号为0到49。<br />数字参数从第三个开始依次是X，Y坐标，字符串用于指定图像文件名。<br />lsp和lsph的不同点在于，最初精灵的显示状态不同。<br />最后一个数字为精灵的透明度。此参数可以省略。<br />lsp为显示状态，lsph为不显示状态。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">实际上精灵的编号可以从0~999均可使用。（by senzogawa)<br />ver.2.93之后，在没有动画情况下，可以使用&quot;:c/2,0,3;&quot;代替&quot;:c/2;&quot;。<br />此外，文件名可以使用&quot;宽,高,#颜色&quot;指定的矩形代替。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#lsph">lsph</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="lsp2"></a><h2><span class="WordVersion">Ver.2.80</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />lsp2</h2><h4><a class="WordCategory" href="#category_sprite_ex">扩展精灵相关命令</a></h4><h3>lsp2 NUM,STR,NUM,NUM,NUM,NUM,NUM[,NUM]</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">扩展精灵编号</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">图像文件名</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">中心x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">中心y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">x方向缩放率</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">y方向缩放率</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">回转角</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">不透明度</span><br /></div><div class="ContentBody"><p class="Description">这是一个扩展精灵载入命令。此扩展命令除了可以和通常的精灵一样移动和更改alpha值，还可以以图像中中心进行旋转，放大缩小，左右上下翻转，以及进行叠加渲染。<br />lsp2命令是以显示状态，通常渲染<br />的方式读取到内存中。传递的参数是相同的。<br />lsp2 扩展精灵编号,图像文件名,中心X坐标,中心Y坐标,X扩大率,Y扩大率,回转角(,初期α值，省略为255)<br />此外，若扩大率是负值则在该方向进行翻转。单位为百分比。旋转角度是度方向为逆时针。<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">lsp2命令现在不用于动画效果。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将图像&quot;test.bmp&quot;以复制显示形式读入，左上坐标320,240，纵向扩大至2倍，旋转36度。</div><pre class="ExSource">lsp2 0,&quot;:c;test.bmp&quot;,320,240,100,200,36</pre></div><hr /><a href="#amsp2">amsp2</a> / <a href="#csp2">csp2</a> / <a href="#lsp2add">lsp2add</a> / <a href="#lsph2">lsph2</a> / <a href="#lsph2add">lsph2add</a> / <a href="#msp2">msp2</a> / <a href="#vsp2">vsp2</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="lsp2add"></a><h2><span class="WordVersion">Ver.2.80</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />lsp2add</h2><h4><a class="WordCategory" href="#category_sprite_ex">扩展精灵相关命令</a></h4><h3>lsp2add NUM,STR,NUM,NUM,NUM,NUM,NUM[,NUM]</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">扩展精灵编号</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">图像文件名</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">中心x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">中心y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">x方向缩放率</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">y方向缩放率</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">回转角</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">不透明度</span><br /></div><div class="ContentBody"><p class="Description">这是一个扩展精灵载入命令。此扩展命令除了可以和通常的精灵一样移动和更改alpha值，还可以以图像中中心进行旋转，放大缩小，左右上下翻转，以及进行叠加渲染。<br />lsp2add是以显示状态，叠加渲染<br />的方式读取到内存中。传递的参数是相同的。<br />lsp2add 扩展精灵编号,图像文件名,中心X坐标,中心Y坐标,X扩大率,Y扩大率,回转角(,初期α值，省略为255)<br />此外，若扩大率是负值则在该方向进行翻转。单位为百分比。旋转角度是度方向为逆时针。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将图像&quot;test.bmp&quot;以复制显示叠加渲染的形式读入，左上坐标320,240，纵向扩大至2倍，旋转36度。</div><pre class="ExSource">lsp2add 0,&quot;:c;test.bmp&quot;,320,240,100,200,36</pre></div><hr /><a href="#amsp2">amsp2</a> / <a href="#csp2">csp2</a> / <a href="#lsp2">lsp2</a> / <a href="#lsph2">lsph2</a> / <a href="#lsph2add">lsph2add</a> / <a href="#msp2">msp2</a> / <a href="#vsp2">vsp2</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="lsp2sub"></a><h2><span class="WordVersion">Ver.2.93</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />lsp2sub</h2><h4><a class="WordCategory" href="#category_sprite_ex">扩展精灵相关命令</a></h4><h3>lsp2sub NUM,STR,NUM,NUM,NUM,NUM,NUM[,NUM]</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">扩展精灵编号</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">图像文件名</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">中心x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">中心y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">x方向缩放率</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">y方向缩放率</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">回转角</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">不透明度</span><br /></div><div class="ContentBody"><p class="Description">这是一个扩展精灵载入命令。扩展指令，可以减去共混除了α值的变化和移动类似的正常子画面的中心旋转的图像，缩放和左和右颠倒。此扩展命令除了可以和通常的精灵一样移动和更改alpha值，还可以以图像中中心进行旋转，放大缩小，左右上下翻转，以及进行减去渲染。<br />lsp2sub为显示状态，以减去渲染<br />的方式读取到内存中。传递的参数是相同的。<br />lsp2sub 扩展精灵编号,图像文件名,中心X坐标,中心Y坐标,X扩大率,Y扩大率,回转角(,初期α值，省略为255)<br />此外，若扩大率是负值则在该方向进行翻转。单位为百分比。旋转角度是度方向为逆时针。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将图像&quot;test.bmp&quot;以复制显示减去渲染的形式读入，左上坐标320,240，纵向扩大至2倍，旋转36度。</div><pre class="ExSource">lsp2sub 0,&quot;:c;test.bmp&quot;,320,240,100,200,36</pre></div><hr /><a href="#amsp2">amsp2</a> / <a href="#csp2">csp2</a> / <a href="#lsp2">lsp2</a> / <a href="#lsp2add">lsp2add</a> / <a href="#lsph2">lsph2</a> / <a href="#lsph2add">lsph2add</a> / <a href="#lsph2sub">lsph2sub</a> / <a href="#msp2">msp2</a> / <a href="#vsp2">vsp2</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="lsph"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />lsph</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>lsph NUM,STR,NUM,NUM[,NUM]</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号(0～255)</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">图像文件或者精灵字符串</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">左上x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">左上y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">不透明度(0～255)</span><br /></div><div class="ContentBody"><p class="Description">用于显示精灵。精灵的编号为0到49。<br />数字参数从第三个开始依次是X，Y坐标，字符串用于指定图像文件名。<br />lsp和lsph的不同点在于，最初精灵的显示状态不同。<br />最后一个数字为精灵的透明度。此参数可以省略。<br />lsp为显示状态，lsph为不显示状态。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">实际上精灵的编号可以从0~999均可使用。（by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#lsp">LSP</a> /<hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="lsph2"></a><h2><span class="WordVersion">Ver.2.80</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />lsph2</h2><h4><a class="WordCategory" href="#category_sprite_ex">扩展精灵相关命令</a></h4><h3>lsph2 NUM,STR,NUM,NUM,NUM,NUM,NUM[,NUM]</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">扩展精灵编号</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">图像文件名</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">中心x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">中心y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">x方向缩放率</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">y方向缩放率</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">回转角</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">不透明度</span><br /></div><div class="ContentBody"><p class="Description">这是一个扩展精灵载入命令。此扩展命令除了可以和通常的精灵一样移动和更改alpha值，还可以以图像中中心进行旋转，放大缩小，左右上下翻转，以及进行叠加渲染。<br />lsph2是不显示状态，以通常<br />的方式读取到内存中。传递的参数是相同的。<br />lsp2 扩展精灵编号,图像文件名,中心X坐标,中心Y坐标,X扩大率,Y扩大率,回转角(,初期α值，省略为255)<br />此外，若扩大率是负值则在该方向进行翻转。单位为百分比。旋转角度是度方向为逆时针。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将图像&quot;test.bmp&quot;以复制显示形式读入，左上坐标320,240，纵向扩大至2倍，旋转36度。</div><pre class="ExSource">lsph2 0,&quot;:c;test.bmp&quot;,320,240,100,200,36</pre></div><hr /><a href="#amsp2">amsp2</a> / <a href="#csp2">csp2</a> / <a href="#lsp2">lsp2</a> / <a href="#lsp2add">lsp2add</a> / <a href="#lsph2add">lsph2add</a> / <a href="#msp2">msp2</a> / <a href="#vsp2">vsp2</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="lsph2add"></a><h2><span class="WordVersion">Ver.2.80</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />lsph2add</h2><h4><a class="WordCategory" href="#category_sprite_ex">扩展精灵相关命令</a></h4><h3>lsph2add NUM,STR,NUM,NUM,NUM,NUM,NUM[,NUM]</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">扩展精灵编号</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">图像文件名</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">中心x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">中心y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">x方向缩放率</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">y方向缩放率</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">回转角</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">不透明度</span><br /></div><div class="ContentBody"><p class="Description">这是一个扩展精灵载入命令。此扩展命令除了可以和通常的精灵一样移动和更改alpha值，还可以以图像中中心进行旋转，放大缩小，左右上下翻转，以及进行叠加渲染。<br />lsph2add是以不显示状态，叠加渲染<br />的方式读取到内存中。传递的参数是相同的。<br />lsp2 扩展精灵编号,图像文件名,中心X坐标,中心Y坐标,X扩大率,Y扩大率,回转角(,初期α值，省略为255)<br />此外，若扩大率是负值则在该方向进行翻转。单位为百分比。旋转角度是度方向为逆时针。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将图像&quot;test.bmp&quot;以复制显示叠加渲染的形式读入，左上坐标320,240，纵向扩大至2倍，旋转36度。</div><pre class="ExSource">lsph2add 0,&quot;:c;test.bmp&quot;,320,240,100,200,36</pre></div><hr /><a href="#amsp2">amsp2</a> / <a href="#csp2">csp2</a> / <a href="#lsp2">lsp2</a> / <a href="#lsp2add">lsp2add</a> / <a href="#lsph2">lsph2</a> / <a href="#msp2">msp2</a> / <a href="#vsp2">vsp2</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="lsph2sub"></a><h2><span class="WordVersion">Ver.</span><span class="WordVersion">非正式</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />lsph2sub</h2><h4><a class="WordCategory" href="#category_sprite_ex">扩展精灵相关命令</a></h4><h3>lsph2sub NUM,STR,NUM,NUM,NUM,NUM,NUM[,NUM]</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">扩展精灵编号</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">图像文件名</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">中心x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">中心y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">x方向缩放率</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">y方向缩放率</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">回转角</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">不透明度</span><br /></div><div class="ContentBody"><p class="Description">这是一个扩展精灵载入命令。扩展指令，可以减去共混除了α值的变化和移动类似的正常子画面的中心旋转的图像，缩放和左和右颠倒。此扩展命令除了可以和通常的精灵一样移动和更改alpha值，还可以以图像中中心进行旋转，放大缩小，左右上下翻转，以及进行减去渲染。<br />lsp2sub为显示状态，以减去渲染<br />的方式读取到内存中。传递的参数是相同的。<br />lsp2sub 扩展精灵编号,图像文件名,中心X坐标,中心Y坐标,X扩大率,Y扩大率,回转角(,初期α值，省略为255)<br />此外，若扩大率是负值则在该方向进行翻转。单位为百分比。旋转角度是度方向为逆时针。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将图像&quot;test.bmp&quot;以复制显示减去渲染的形式读入，左上坐标320,240，纵向扩大至2倍，旋转36度。</div><pre class="ExSource">lsph2sub 0,&quot;:c;test.bmp&quot;,320,240,100,200,36</pre></div><hr /><a href="#amsp2">amsp2</a> / <a href="#csp2">csp2</a> / <a href="#lsp2">lsp2</a> / <a href="#lsp2add">lsp2add</a> / <a href="#lsp2sub">lsp2sub</a> / <a href="#lsph2">lsph2</a> / <a href="#lsph2add">lsph2add</a> / <a href="#msp2">msp2</a> / <a href="#vsp2">vsp2</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="luacall"></a><h2><span class="WordVersion">Ver.2.93</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />luacall</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>luacall NAME</h3><div class="Arguments"><span class="ArgType">名称</span><span class="ArgMeaning">功能名(tag,text0,text,animation,close,end,savepoint,save,load)</span><br /></div><div class="ContentBody"><p class="Description">NScripter的大多数默认动作，都可以用Lua函数来代替。<br />除了脚本中显示文字的功能，系统自定义也可以用Lua来实现。<br />指定的字符串不需要用&quot;&quot;包含起来。此外，大写小写没有区别。<br />Lua方面的函数名为NSCALL_(指定字符串)。<br />Lua函数的参数和字符串，都分别和对应的功能的形式相同。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">显示文字的时候，设定为调用Lua函数NSCALL_text。</div><pre class="ExSource">luacall text</pre></div><hr /><a href="#luasub">luasub</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="luasub"></a><h2><span class="WordVersion">Ver.2.93</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />luasub</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>luasub NAME</h3><div class="Arguments"><span class="ArgType">名称</span><span class="ArgMeaning">任意的命令名</span><br /></div><div class="ContentBody"><p class="Description">用于define节的命令。<br />接受命令的名称，然后绑定到一个Lua函数NSCOM_(命令名称)上。<br />在执行了此命令之后，在以后的脚本中（00.txt~）使用func命令的话，<br />会调用Lua函数NSCOM_func()。<br />luasub定义的Lua函数既没有参数也没有返回值。<br />参数和返回值请参照手册中的函数配套使用。<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">此外，允许覆盖当前存在的指令。<br />例如执行了luasub bg命令之后，和原来的bg命令比起来，Lua的NSCOM_bg函数更为优先。<br />如果想使用原来的bg命令，请像对于使用defsub命令的时候一样用_bg来指明。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">定义func命令所调用的Lua函数NSCOM_func。</div><pre class="ExSource">luasub func</pre></div><hr /><a href="#luacall">luacall</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="maxkaisoupage"></a><h2><span class="WordVersion">Ver.2.49</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />maxkaisoupage</h2><h4><a class="WordCategory" href="#category_lookback">回想模式</a></h4><h3>maxkaisoupage NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">回想模式的最大页数</span><br /></div><div class="ContentBody"><p class="Description">用于*define节的命令。设置回想模式的最大页数。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设定回想模式的最大页数为10页。</div><pre class="ExSource">maxkaisoupage 10</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="menu_click_def"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />menu_click_def</h2><h4><a class="WordCategory" href="#category_windowmenu">窗口菜单相关命令</a></h4><h3>menu_click_def</h3><div class="ContentBody"><p class="Description">回到默认的文字显示模式。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="menu_click_page"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />menu_click_page</h2><h4><a class="WordCategory" href="#category_windowmenu">窗口菜单相关命令</a></h4><h3>menu_click_page</h3><div class="ContentBody"><p class="Description">回到一页显示模式。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="menu_dwavvol"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />menu_dwavvol</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>menu_dwavvol</h3><div class="ContentBody"><p class="Description">显示音量调节对话框。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">显示音量调节对话框</div><pre class="ExSource">menu_dwavvol</pre></div><hr /><a href="#bgmvol">bgmvol</a> / <a href="#mp3vol">mp3vol</a> / <a href="#sevol">sevol</a> / <a href="#voicevol">voicevol</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="menu_full"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />menu_full</h2><h4><a class="WordCategory" href="#category_windowmenu">窗口菜单相关命令</a></h4><h3>menu_full</h3><div class="ContentBody"><p class="Description">调整至全屏模式。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">判断是否全屏，将结果存到%0中，切换状态。</div><pre class="ExSource">isfull %0
if %0==0 menu_full
notif %0==0 menu_window
</pre></div><hr /><a href="#isfull">isfull</a> / <a href="#menu_window">menu_window</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="menu_window"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />menu_window</h2><h4><a class="WordCategory" href="#category_windowmenu">窗口菜单相关命令</a></h4><h3>menu_window</h3><div class="ContentBody"><p class="Description">调整为窗口模式。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">判断是否全屏，将结果存到%0中，切换状态。</div><pre class="ExSource">isfull %0
if %0==0 menu_full
notif %0==0 menu_window
</pre></div><hr /><a href="#isfull">isfull</a> / <a href="#menu_full">menu_full</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="menuselectcolor"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />menuselectcolor</h2><h4><a class="WordCategory" href="#category_rclick">右键点击功能设定命令</a></h4><h3>menuselectcolor COLOR,COLOR,COLOR</h3><div class="Arguments"><span class="ArgType">颜色值</span><span class="ArgMeaning">鼠标悬停在项目时的颜色</span><br /><span class="ArgType">颜色值</span><span class="ArgMeaning">鼠标未悬停在项目时的颜色</span><br /><span class="ArgType">颜色值</span><span class="ArgMeaning">没有存档文件时的颜色</span><br /></div><div class="ContentBody"><p class="Description">指定右键弹出菜单模式时菜单的颜色。<br />参数依次为，鼠标悬停颜色，鼠标未悬停颜色，没哟存档文件时的颜色。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="menuselectvoice"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />menuselectvoice</h2><h4><a class="WordCategory" href="#category_rclick">右键点击功能设定命令</a></h4><h3>menuselectvoice STR,STR,STR,STR,STR,STR,STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">打开菜单的声音</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">取消菜单的声音</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">鼠标和菜单选项重叠的时候声音</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">点击菜单选项时的声音</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">无法执行的操作时的声音</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">选择「是」时的声音</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">选择「否」时的声音</span><br /></div><div class="ContentBody"><p class="Description">指定菜单选项以及其他系统音的声音文件。<br />参数依次为，打开菜单，取消菜单，鼠标和菜单选项重叠，点击菜单选项，无法执行操作，选择是，选择否，时候的声音。<br /><br />此外，如果应该为wave文件的地方为&quot;&quot;的话，什么声音都不会播放。<br />默认值全部都是&quot;&quot;。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="menusetwindow"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />menusetwindow</h2><h4><a class="WordCategory" href="#category_rclick">右键点击功能设定命令</a></h4><h3>menusetwindow NUM,NUM,NUM,NUM,NUM,NUM,COLOR</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">文字宽度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字高度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字X方向间隔</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字Y方向间隔</span><br /><span class="ArgType">数字</span><span class="ArgMeaning">粗体标志(0:普通，1:粗体)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">阴影标志(0:无阴影、1:阴影)</span><br /><span class="ArgType">颜色值</span><span class="ArgMeaning">窗口颜色</span><br /></div><div class="ContentBody"><p class="Description">设置菜单的窗口。<br />菜单的窗口总是填满窗口，降低后面的元素的亮度。<br />从左至右依次为，文字大小Ｘ，文字大小Ｙ，字间距Ｘ，字间距Ｙ，粗体标志（１（粗体）０（普通）），阴影标志（１（阴影）０（无）），最后一个参数为窗口颜色。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mesbox"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />mesbox</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>mesbox STR,STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">要显示的信息</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">标题</span><br /></div><div class="ContentBody"><p class="Description">显示一个消息框。<br />第一个参数为内容，第二个参数为窗口标题。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mid"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />mid</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>mid $VAR,STR,NUM,NUM</h3><div class="Arguments"><span class="ArgType">文字变量</span><span class="ArgMeaning">结果字符串储存变量</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">待处理的字符串</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">要截取的字符串的首字符位置</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">截取的字符数</span><br /></div><div class="ContentBody"><p class="Description">截取某个字符串的子串。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">第一个字符位置为0。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">从字符串$1中的第%0个文字开始截取%1个字符保存到$0中</div><pre class="ExSource">mid $0,$1,%0,%1</pre><span class="ExHeading">例)</span><br /><div class="ExComment">截取$1的前五个字符到$0中</div><pre class="ExSource">mid $0,$1,0,5</pre></div><hr /><a href="#len">len</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="minimizewindow"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />minimizewindow</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>minimizewindow</h3><div class="ContentBody"><p class="Description">最小化窗口。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">最小化窗口。</div><pre class="ExSource">minimizewindow</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mod"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />mod</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>mod</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">要被运算的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">运算数值</span><br /></div><div class="ContentBody"><p class="Description">求此变量除以此数的余数。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">在表达式中使用这个命令的时候空格需使用半角。<br />mov %0,%1 mod 2</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mode_ext"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />mode_ext</h2><h4><a class="WordCategory" href="#category_specialmode">特殊模式设置命令</a></h4><h3>mode_ext</h3><div class="ContentBody"><p class="Description">这是为商用游戏「銀色」所开发的命令。<br />执行了这个命令之后，「自动模式」会加入到菜单中。<br />自动模式是类似于「跳到下一个选择支」，但语音未播放完之前<br />并不会前进。当没有语音的时候，可以根据之后的automode_time命令<br />决定等待多少时间。<br />这便是所谓的阅读模式。<br /><br />菜单中的音量变更命令<br />现在能够使用。 （MP3(BGM) voice(DWAVE 0) SE(DWAVE 1～)的音量<br />现在已经可以使用。 ）<br />对于此命令扩展功能的增加，预定计划是增加更清晰的命令。<br />（现在是一个有效的命令，将来也会继续使用。）</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mode_saya"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />mode_saya</h2><h4><a class="WordCategory" href="#category_specialmode">特殊模式设置命令</a></h4><h3>mode_saya</h3><div class="ContentBody"><p class="Description">为同人游戏「莢～背徳の迷宮～」开发所增加的命令。执行此命令后，会启动莢模式。在&quot;莢&quot;模式下，当文字窗口消失的时候，0~9号精灵无论显示与否都会变成不显示状态。•在文字窗口关闭的时候，下面声明的长条和显示的数字都会隐藏。这两点可以用于想隐藏文字窗口的同时隐藏「状态窗口」。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mode_wave_demo"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />mode_wave_demo</h2><h4><a class="WordCategory" href="#category_kidokuskip">跳过已读文字命令</a></h4><h3>mode_wave_demo</h3><div class="ContentBody"><p class="Description">通常情况下，跳到下一个选择支时，是不会播放声音的，但是执行了mode_wave_demo命令之后则会播放声音。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mode320"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />mode320</h2><h4><a class="WordCategory" href="#category_specialmode">特殊模式设置命令</a></h4><h3>mode320</h3><div class="ContentBody"><p class="Description">设置画面大小为320X240。<br />此命令比较特殊，必须在0.txt的第一行（*define标签之前）的内容之前书写。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">使用此命令更改窗口大小时，文本窗口会保持640x480的大小。<br />有必要使用setwindow命令调整文字窗口的大小以匹配窗口大小。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设置画面大小为320X240</div><pre class="ExSource">;mode320
*define</pre></div><hr /><a href="#mode400">mode400</a> / <a href="#mode800">mode800</a> / <a href="#value">value</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mode400"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />mode400</h2><h4><a class="WordCategory" href="#category_specialmode">特殊模式设置命令</a></h4><h3>mode400</h3><div class="ContentBody"><p class="Description">设置画面大小为400X300。<br />此命令比较特殊，必须在0.txt的第一行（*define标签之前）的内容之前书写。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">使用此命令更改窗口大小时，文本窗口会保持640x480的大小。<br />有必要使用setwindow命令调整文字窗口的大小以匹配窗口大小。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设置画面大小为400X300</div><pre class="ExSource">;mode400
*define</pre></div><hr /><a href="#mode320">mode320</a> / <a href="#mode800">mode800</a> / <a href="#value">value</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mode800"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />mode800</h2><h4><a class="WordCategory" href="#category_specialmode">特殊模式设置命令</a></h4><h3>mode800</h3><div class="ContentBody"><p class="Description">设置画面大小为800X600。<br />此命令比较特殊，必须在0.txt的第一行（*define标签之前）的内容之前书写。<br />此外可以指定为400,320。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">使用此命令更改窗口大小时，文本窗口会保持640x480的大小。<br />有必要使用setwindow命令调整文字窗口的大小以匹配窗口大小。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设置画面大小为800X600。</div><pre class="ExSource">;mode800
*define</pre></div><hr /><a href="#mode320">mode320</a> / <a href="#mode400">mode400</a> / <a href="#value">value</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="monocro"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />monocro</h2><h4><a class="WordCategory" href="#category_visualeffect">图像效果</a></h4><h3>monocro COLOR</h3><div class="Arguments"><span class="ArgType">颜色值</span><span class="ArgMeaning">基调色</span><br /></div><h3>monocro off</h3><div class="Arguments"><span class="ArgType">列举</span><span class="ArgMeaning">用于解除状态</span><br /></div><div class="ContentBody"><p class="Description">以设定的颜色为基调让画面成为单色模式。<br />但是，文本窗口和光标不受此影响。<br />monocro off命令用于退出单色状态。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mosaicin"></a><h2><span class="WordVersion">Ver.2.96</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />mosaicin</h2><h4><a class="WordCategory" href="#category_visualeffect">图像效果</a></h4><h3>mosaicin NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">马赛克的最大尺寸</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">分割数</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">时间(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">马赛克效果的新版本，和已有的马赛克变换效果相比，更加精细，修正了全屏时的bug。<br />和变换效果不同是一个单独实现的命令。<br />执行此命令之后VRAM的不稳定状态这一作用依旧，所以有必要转移到其他的画面上。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">很遗憾貌似effectcut（跳过效果）对此命令无效。（by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">以马赛克最大尺寸80，分割数128，时间1秒的马赛克效果显示。</div><pre class="ExSource">mosaicin 80,128,1000</pre></div><hr /><a href="#effectcut">effectcut</a> / <a href="#mosaicout">mosaicout</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mosaicout"></a><h2><span class="WordVersion">Ver.2.96</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />mosaicout</h2><h4><a class="WordCategory" href="#category_visualeffect">图像效果</a></h4><h3>mosaicout NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">马赛克的最大尺寸</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">分割数</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">时间(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">马赛克效果的新版本，和已有的马赛克变换效果相比，更加精细，修正了全屏时的bug。<br />和变换效果不同是一个单独实现的命令。<br />执行此命令之后VRAM的不稳定状态这一作用依旧，所以有必要转移到其他的画面上。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">很遗憾貌似effectcut（跳过效果）对此命令无效。（by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">以马赛克最大尺寸80，分割数128，时间1秒的马赛克效果显示。</div><pre class="ExSource">mosaicout 80,128,1000</pre></div><hr /><a href="#effectcut">effectcut</a> / <a href="#mosaicin">mosaicin</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mousecursor"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />mousecursor</h2><h4><a class="WordCategory" href="#category_cursor">光标相关命令</a></h4><h3>mousecursor STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">鼠标光标文件</span><br /></div><div class="ContentBody"><p class="Description">读取Windows的光标文件（*.cur），作为游戏的鼠标光标。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">ver.2.93解除非推荐命令</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mousemode"></a><h2><span class="WordVersion">Ver.2.93</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />mousemode</h2><h4><a class="WordCategory" href="#category_cursor">光标相关命令</a></h4><h3>mousemode NUM</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">鼠标光标显示标志(0:不显示，1:显示)</span><br /></div><div class="ContentBody"><p class="Description">mousemode 0为消除鼠标光标，mousemode 1为显示鼠标光标。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mov"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />mov</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>mov %VAR,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">要代入的变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /></div><h3>mov $VAR,STR</h3><div class="Arguments"><span class="ArgType">文字变量</span><span class="ArgMeaning">要代入的变量</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">代入的字符串</span><br /></div><div class="ContentBody"><p class="Description">将值代入到变量中。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">在定义部分代入的局部变量的值在执行部分会因为初始化而丢失，无法使用。<br />除了在执行部分代入值到相应变量中，也可以使用全局变量。by senzogawa</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将24代入到数字变量%3中。</div><pre class="ExSource">mov %3,24</pre><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mov10"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />mov10</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>mov10 %VAR,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">要代入的变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /></div><div class="ContentBody"><p class="Description">从最初的数字变量开始依次代入数值。<br />简单的说，这是一个让10个值赋值到连续10个变量的简便方法。<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">此命令对文字变量不适用。(by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将2代入%3，4代入%4，6代入%5。</div><pre class="ExSource">mov10 %3,2,4,6,8,10,12,14,16,18,20
;这个和
;mov %3,2
;mov %4.4
;mov %5,6
;mov %6,8
;mov %7,10
;mov %8.12
;mov %9,14
;mov %10.16
;mov %11,18
;mov %12,20
;等效</pre></div><hr /><a href="#mov">mov</a> / <a href="#mov3">mov3</a> / <a href="#mov4">mov4</a> / <a href="#mov5">mov5</a> / <a href="#mov6">mov6</a> / <a href="#mov7">mov7</a> / <a href="#mov8">mov8</a> / <a href="#mov9">mov9</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mov3"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />mov3</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>mov3 %VAR,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">要代入的变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /></div><div class="ContentBody"><p class="Description">从最初的数字变量开始依次代入数值。<br />简单的说，这是一个让3个值赋值到连续3个变量的简便方法。<br /><br />类似的命令有，&quot;mov4&quot; &quot;mov5&quot; &quot;mov6&quot; &quot;mov7&quot; &quot;mov8&quot; &quot;mov9&quot; &quot;mov10&quot; 。<br />分别是方便为4,，5，6，7，8，9，10个变量赋值用。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">此命令对文字变量不适用。(by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将2代入%3，4代入%4，6代入%5。</div><pre class="ExSource">mov3 %3,2,4,6
;这个和
;mov %3,2
;mov %4.4
;mov %5,6
;等效</pre></div><hr /><a href="#mov">mov</a> / <a href="#mov10">mov10</a> / <a href="#mov4">mov4</a> / <a href="#mov5">mov5</a> / <a href="#mov6">mov6</a> / <a href="#mov7">mov7</a> / <a href="#mov8">mov8</a> / <a href="#mov9">mov9</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mov4"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />mov4</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>mov4 %VAR,NUM,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">要代入的变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /></div><div class="ContentBody"><p class="Description">从最初的数字变量开始依次代入数值。<br />简单的说，这是一个让4个值赋值到连续4个变量的简便方法。<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">此命令对文字变量不适用。(by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将2代入%3，4代入%4，6代入%5。</div><pre class="ExSource">mov4 %3,2,4,6,8
;这个和
;mov %3,2
;mov %4.4
;mov %5,6
;mov %6,8
;等效</pre></div><hr /><a href="#mov">mov</a> / <a href="#mov10">mov10</a> / <a href="#mov3">mov3</a> / <a href="#mov5">mov5</a> / <a href="#mov6">mov6</a> / <a href="#mov7">mov7</a> / <a href="#mov8">mov8</a> / <a href="#mov9">mov9</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mov5"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />mov5</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>mov5 %VAR,NUM,NUM,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">要代入的变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /></div><div class="ContentBody"><p class="Description">从最初的数字变量开始依次代入数值。<br />简单的说，这是一个让5个值赋值到连续5个变量的简便方法。<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">此命令对文字变量不适用。(by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将2代入%3，4代入%4，6代入%5。</div><pre class="ExSource">mov5 %3,2,4,6,8,10
;这个和
;mov %3,2
;mov %4.4
;mov %5,6
;mov %6,8
;mov %7,10
;等效</pre></div><hr /><a href="#mov">mov</a> / <a href="#mov10">mov10</a> / <a href="#mov3">mov3</a> / <a href="#mov4">mov4</a> / <a href="#mov6">mov6</a> / <a href="#mov7">mov7</a> / <a href="#mov8">mov8</a> / <a href="#mov9">mov9</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mov6"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />mov6</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>mov6 %VAR,NUM,NUM,NUM,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">要代入的变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /></div><div class="ContentBody"><p class="Description">从最初的数字变量开始依次代入数值。<br />简单的说，这是一个让6个值赋值到连续6个变量的简便方法。<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">此命令对文字变量不适用。(by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将2代入%3，4代入%4，6代入%5。</div><pre class="ExSource">mov6 %3,2,4,6,8,10,12
;这个和
;mov %3,2
;mov %4.4
;mov %5,6
;mov %6,8
;mov %7,10
;mov %8.12
;等效</pre></div><hr /><a href="#mov">mov</a> / <a href="#mov10">mov10</a> / <a href="#mov3">mov3</a> / <a href="#mov4">mov4</a> / <a href="#mov5">mov5</a> / <a href="#mov7">mov7</a> / <a href="#mov8">mov8</a> / <a href="#mov9">mov9</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mov7"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />mov7</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>mov7 %VAR,NUM,NUM,NUM,NUM,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">要代入的变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /></div><div class="ContentBody"><p class="Description">从最初的数字变量开始依次代入数值。<br />简单的说，这是一个让7个值赋值到连续7个变量的简便方法<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">此命令对文字变量不适用。(by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将2代入%3，4代入%4，6代入%5。</div><pre class="ExSource">mov7 %3,2,4,6,8,10,12,14
;这个和
;mov %3,2
;mov %4.4
;mov %5,6
;mov %6,8
;mov %7,10
;mov %8.12
;mov %9,14
;等效</pre></div><hr /><a href="#mov">mov</a> / <a href="#mov10">mov10</a> / <a href="#mov3">mov3</a> / <a href="#mov4">mov4</a> / <a href="#mov5">mov5</a> / <a href="#mov6">mov6</a> / <a href="#mov8">mov8</a> / <a href="#mov9">mov9</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mov8"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />mov8</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>mov8 %VAR,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">要代入的变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /></div><div class="ContentBody"><p class="Description">从最初的数字变量开始依次代入数值。<br />只是方便将8个值依次赋值到变量中的命令。<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">此命令对文字变量不适用。(by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将2代入%3，4代入%4，6代入%5。</div><pre class="ExSource">mov8 %3,2,4,6,8,10,12,14,16
;这个和
;mov %3,2
;mov %4.4
;mov %5,6
;mov %6,8
;mov %7,10
;mov %8.12
;mov %9,14
;mov %10.16
;等效</pre></div><hr /><a href="#mov">mov</a> / <a href="#mov10">mov10</a> / <a href="#mov3">mov3</a> / <a href="#mov4">mov4</a> / <a href="#mov5">mov5</a> / <a href="#mov6">mov6</a> / <a href="#mov7">mov7</a> / <a href="#mov9">mov9</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mov9"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />mov9</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>mov9 %VAR,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">要代入的变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /></div><div class="ContentBody"><p class="Description">从最初的数字变量开始依次代入数值。<br />简单的说，这是一个让9个值赋值到连续9个变量的简便方法。<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">此命令对文字变量不适用。(by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将2代入%3，4代入%4，6代入%5。</div><pre class="ExSource">mov9 %3,2,4,6,8,10,12,14,16,18
;这个和
;mov %3,2
;mov %4.4
;mov %5,6
;mov %6,8
;mov %7,10
;mov %8.12
;mov %9,14
;mov %10.16
;mov %11,18
;等效</pre></div><hr /><a href="#mov">mov</a> / <a href="#mov10">mov10</a> / <a href="#mov3">mov3</a> / <a href="#mov4">mov4</a> / <a href="#mov5">mov5</a> / <a href="#mov6">mov6</a> / <a href="#mov7">mov7</a> / <a href="#mov8">mov8</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="movemousecursor"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />movemousecursor</h2><h4><a class="WordCategory" href="#category_cursor">光标相关命令</a></h4><h3>movemousecursor NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">移动目的地的x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">移动目的地的y坐标</span><br /></div><div class="ContentBody"><p class="Description">将鼠标移动到画面的任意位置。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将鼠标移动到画面上的坐标（100,10）处。</div><pre class="ExSource">movemousecursor 100,10</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="movie"></a><h2><span class="WordVersion">Ver.2.49</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />movie</h2><h4><a class="WordCategory" href="#category_movieplay">视频播放命令</a></h4><h3>movie &#39;stop&#39;|STR[,&#39;pos&#39;,NUM,NUM,NUM,NUM][,&#39;click&#39;][,&#39;loop&#39;][,&#39;async&#39;]</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">文件名</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">动画的左上坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">动画的右上坐标</span><br /><span class="ArgType">数字</span><span class="ArgMeaning">动画显示的宽</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">动画显示的高</span><br /></div><div class="ContentBody"><p class="Description">这是代替mpegplay命令，预定成为下一代主要预定的动画播放命令。<br />可以使用以下的组合。<br />movie &quot;文件名&quot; ;单纯地播放到结尾。点击无法跳过。<br />movie &quot;文件名&quot;,pos,10,20,320,240 ;以左上角坐标10,20 大小为320x240的模式播放<br />movie &quot;文件名&quot;,click ;点击的时候会停止播放（async时无效）<br />movie &quot;文件名&quot;,loop ;循环播放（请注意指定为async或是没有指定click的时候动画将无法停止。）<br />movie &quot;文件名&quot;,async ;异步播放。此命令会在开始播放动画之后，回到NScripter中，继续处理脚本动作，同时播放动画。动画通常会在最前面。所以字不会出现在上面（不可能用这个来做字幕）。<br />movie stop ;使用async的时候，停止异步播放的动画<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">播放停止之后图像会残留在画面上。<br />之后，残留图像会作为无效区域，使用print命令可以从残留图像变化到视频播放之前的图像去。<br /></div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">在10,20，以320x240的大小，非同步模式播放“test.mpg”。在30秒后停止。</div><pre class="ExSource">movie &quot;test.mpg&quot;,pos,10,20,320,240,async,loop
wait 30*1000
movie stop</pre><span class="ExHeading">例)</span><br /><div class="ExComment">播放一个可以点击跳过的&quot;test.mpg&quot;影片。播放停止后，渐隐再绘制背景。</div><pre class="ExSource">movie &quot;test.mpg&quot;,click
print 10,1000</pre></div><hr /><a href="#mpegplay">mpegplay</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="movl"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />movl</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>movl ARRAY,NUM[,NUM[,...]]</h3><div class="Arguments"><span class="ArgType">数组</span><span class="ArgMeaning">要代入的数组</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">代入的数值</span><br /></div><div class="ContentBody"><p class="Description">将值代入一个数组。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">向右五个元素的数组10代入0,1,2,3,4。</div><pre class="ExSource">dim ?10[4]
movl ?10,0,1,2,3,4</pre><span class="ExHeading">例)</span><br /><div class="ExComment">向3x4的二元数组中分别代入0,1,2,3,4以及0,2,4,6最后0,3,6,9。</div><pre class="ExSource">dim ?20[2][3]
movl ?20[0],0,1,2,3
movl ?20[1],0,2,4,6
movl ?20[2],0,3,6,9</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mp3"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />mp3</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>mp3 STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">MP3文件名</span><br /></div><div class="ContentBody"><p class="Description">在有mp3dec.dll的情况下，可以使用此命令来播放mp3文件。<br />mp3只会播放一次。<br />和wave命令同时使用并不会出现问题。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mp3fadein"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />mp3fadein</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>mp3fadein NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">效果时间(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">与bgmfadeout格式相同，指定淡入淡出效果的时间。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#bgmfadeout">bgmfadeout</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mp3fadeout"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />mp3fadeout</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>mp3fadeout NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">效果时间(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">指定BGM淡出的时间。<br />定义部分和执行部分都可以使用。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#bgmfadein">bgmfadein</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mp3loop"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />mp3loop</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>mp3loop STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">MP3文件名</span><br /></div><div class="ContentBody"><p class="Description">在有mp3dec.dll的情况下，可以使用此命令来播放mp3文件。<br />mp3loop命令会循环播放声音。<br />和wave命令同时使用并不会出现问题。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mp3save"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />mp3save</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>mp3save</h3><div class="ContentBody"><p class="Description">和mp3命令一次播放类似，只是播放中可以暂停然后继续播放。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mp3stop"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />mp3stop</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>mp3stop</h3><div class="ContentBody"><p class="Description">停止播放压缩音乐文件。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mp3vol"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />mp3vol</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>mp3vol NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">音量(0～100）</span><br /></div><div class="ContentBody"><p class="Description">改变bgm的音量。对bgm命令和mp3命令均有效。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">音量值不会自动保存，请手动管理。<br />play命令不受此影响。(by senzogawa)<br />但是使用nsogg.dll或是nsogg2.dll时会恢复存档时的音量。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将bgm的音量设为100。（0-100）</div><pre class="ExSource">mp3vol 100</pre></div><hr /><a href="#bgmvol">bgmvol</a> / <a href="#chvol">chvol</a> / <a href="#sevol">sevol</a> / <a href="#voicevol">voicevol</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mpegplay"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />mpegplay</h2><h4><a class="WordCategory" href="#category_movieplay">视频播放命令</a></h4><h3>mpegplay STR,NUM</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">文件名</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">可否中断标志(0:播放到最后、1:点击中断)</span><br /></div><div class="ContentBody"><p class="Description">用DirectShow方式播放指定的文件。<br />当中断标志为0的时候即使单击鼠标也不会停止播放。<br />当该标志为1时，点击画面的时候会停止播放。<br />要使用这个命令，系统需要支持DirectX8.0a或者更高。<br />（低版本的DirectX也许能够播放，但不在支持范围之内。）</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">播放&quot;test.mpeg&quot;，允许中断。</div><pre class="ExSource">mpegplay &quot;test.mpeg&quot;,1</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="msp"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />msp</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>msp NUM,NUM,NUM[,NUM]</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号(0～255)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">X方向增量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">Y方向增量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">不透明度增量</span><br /></div><div class="ContentBody"><p class="Description">移动指定的精灵。参数依次为，X方向，Y方向，透明度的增加值。<br /><br />此外，所有的精灵处理的命令，只是内在地重新改变图像，并未反映在画面上。（这样是为了高速化的处理图像）<br />在使用其他图像命令，或者文字显示命令之前，一定要使用print命令将他们实际显示出来。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#amsp">amsp</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="msp2"></a><h2><span class="WordVersion">Ver.2.80</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />msp2</h2><h4><a class="WordCategory" href="#category_sprite_ex">扩展精灵相关命令</a></h4><h3>msp2 NUM,NUM,NUM,NUM,NUM,NUM[,NUM]</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">扩展精灵编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">中心X增量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">中心Y增量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">X扩大率增量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">Y扩大率增量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">旋转角增量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">不透明度增量</span><br /></div><div class="ContentBody"><p class="Description">扩展精灵移动命令。msp2命令是根据当前值变化，而amsp2是指定绝对值。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将扩展精灵0号向右移动10，向下移动20，扩大率横向-10%，总行+1，旋转角增加5度。</div><pre class="ExSource">msp2 0,10,20,-10,10,5</pre></div><hr /><a href="#amsp2">amsp2</a> / <a href="#csp2">csp2</a> / <a href="#lsp2">lsp2</a> / <a href="#lsp2add">lsp2add</a> / <a href="#lsph2">lsph2</a> / <a href="#lsph2add">lsph2add</a> / <a href="#vsp2">vsp2</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mul"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />mul</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>mul %VAR,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">要被运算的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">运算数值</span><br /></div><div class="ContentBody"><p class="Description">将变量乘上数值。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="mv"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />mv</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>mvNUM:</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">声音文件编号</span><br /></div><div class="ContentBody"><p class="Description">播放voice\指定的数字.mp3的语音文件。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">播放voice\00001.mp3。</div><pre class="ExSource">mv00001:</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="nega"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />nega</h2><h4><a class="WordCategory" href="#category_visualeffect">图像效果</a></h4><h3>nega NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">显示方式标志(0:取消反转、1:monocro优先、2:nega优先)</span><br /></div><div class="ContentBody"><p class="Description">指定1和2的话，颜色会反转。<br />1的话是以monocro优先。试验一下就能明白。<br />数字0的话则不会反转颜色。<br />nega命令和monocro命令并不会更改实际的画面。<br />请在之后使用print命令变换实际画面。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="next"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />next</h2><h4><a class="WordCategory" href="#category_statement">条件表达式・循环语句命令</a></h4><h3>next</h3><div class="ContentBody"><p class="Description">表明for语句块的结束。详细情况请参看for命令的说明。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#for">for</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="nextcsel"></a><h2><span class="WordVersion">Ver.2.80</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />nextcsel</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>nextcsel %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">接受结果变量(0:下一行不是csell,1:csel)</span><br /></div><div class="ContentBody"><p class="Description">下一条指令为csel则返回1。在不清除文字的情况下显示选择支的时候使用。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#*customsel">*customsel</a> / <a href="#csel">csel</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="noloaderror"></a><h2><span class="WordVersion">Ver.</span><span class="WordVersion">非正式</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />noloaderror</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>noloaderror</h3><div class="ContentBody"><p class="Description">bg或者bgm命令不存在对应文件的情况下不会强制停止，而是单纯的无视这条命令。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#bg">bg</a> / <a href="#bgm">bgm</a> / <a href="#ld">ld</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="noteraseman"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />noteraseman</h2><h4><a class="WordCategory" href="#category_textwindow">文字窗口命令</a></h4><h3>noteraseman</h3><div class="ContentBody"><p class="Description">清除窗口时，不会清除立绘。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">清除窗口时，不会清除立绘。</div><pre class="ExSource">noteraseman</pre></div><hr /><a href="#textoff">textoff</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="notif"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />notif</h2><h4><a class="WordCategory" href="#category_statement">条件表达式・循环语句命令</a></h4><h3>notif CONDITION[{&amp;&amp;,&amp;} CONDITION[...]] SENTENCE</h3><div class="Arguments"><span class="ArgType">条件表达式</span><span class="ArgMeaning">比较操作符、检查命令、返回布尔值的表达式</span><br /><span class="ArgType">执行语句</span><span class="ArgMeaning">条件表达式为真的情况下执行的语句。</span><br /></div><div class="ContentBody"><p class="Description">条件判断命令。使用格式如下。<br />　notif 条件式 ({&amp;&amp;,&amp;} 条件式) 执行部分<br />if命令对应条件成立的情况，notif对应条件不成立的情况，执行下面的命令。<br />对于不满足上面的条件的情况，这一行将被跳过。<br />&amp;&amp;和&amp;意义相同，用于进一步缩小条件。<br />条件式以及数字，还有fchk函数都可以使用。<br />　　　＜条件式＞<br />　　　数字 {&gt;,&lt;,=,&gt;=,&lt;=,==,!=,&lt;&gt;} 数字<br />　　　或者，<br />　　　fchk 字符串</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">%0的内容不为1的情况下则横向2像素摇晃500毫秒。</div><pre class="ExSource">notif %0=1 quakex 2,500</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="nsa"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />nsa</h2><h4><a class="WordCategory" href="#category_plugin_archive">插件・压缩包</a></h4><h3>nsa</h3><div class="ContentBody"><p class="Description">使用ＮＳＡ存档模式。<br />用于读取读取用nsaarc.exe压缩而成的arc.nsa内的文件。dll等不会被包含其中。<br />nsa文件请和NScripter放在同一个文件夹中。<br /><br />bmp文件会在存档化的时候进行压缩。所以可以直接使用未压缩的bmp文件。<br /><br />NScripter在处理NSA中的bmp文件的过程经过了优化，能够提高性能。在NSA中以bmp形式处理图像文件的时候，不要插入中间的其他文件。<br /><br />为了减少压缩时间将巨大的存档文件分割管理的话会比较方便。可以将分割成arc.nsa，arc1.nsa，arc2.nsa~arc9.nsa一共10个压缩包。<br />在这种情况下会按照上面的顺序搜索。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="nsadir"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />nsadir</h2><h4><a class="WordCategory" href="#category_plugin_archive">插件・压缩包</a></h4><h3>nsadir STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">读取nsa文件的目录名</span><br /></div><div class="ContentBody"><p class="Description">指定读取nsa文件的目录。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="numalias"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />numalias</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>numalias NAME,NUM</h3><div class="Arguments"><span class="ArgType">名称</span><span class="ArgMeaning">代替数值的名称</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">被代替的数值</span><br /></div><div class="ContentBody"><p class="Description">为数字设置别名。此后，需要代替这个数字的时候，可以用此别名来实现。<br /><br />此外，将别名代入变量的时候，此值会保持不变。之后尽管变量的值会改变，但是别名的值并不会改变。<br /><br />别名的名称，和C语言的变量命名方式是相同的。也就是说，第一个字符为英文或者_(半角下划线)，第二个字符之后可以为数字，英文，或者_。但是，不区分大小写。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">用ef_lshutter代替2。</div><pre class="ExSource">numalias ef_lshutter,2
; 至此之后，ef_lshutter代替了2。
; 比如bg &quot;test.bmp&quot;,ef_lshutter中，和bg &quot;test.bmp&quot;,2相同。</pre><span class="ExHeading">例)</span><br /><div class="ExComment">（高级用法）
数字的别名，可以用在变量中。</div><pre class="ExSource">numalias akari_love,0
; 之后%akari_love和%0具有相同意义。
; 例如，add %akari_love,10等同于%0加上10。</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="ofscpy"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />ofscpy</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>ofscpy</h3><div class="ContentBody"><p class="Description">将blt命令绘制的图像传送到offscreen缓存中。<br />解释：<br />  blt命令处理完成之后想进行任何效果的时候，使用此命令将现在的状态<br />  复制到offscreen缓存中。<br />  执行了这个命令之后，后面的效果才能够正确地执行。<br />　保存或者载入存档并不会保留或恢复缓存内容。用于到最后的连接的命令。<br />　无论是blt命令，还是ofscpy命令，都是为了进行高速DEMO处理（ＡＩＲ使用的）<br />而设计出来的特殊命令，使用方式稍微有些难，请见谅。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource">btndef &quot;～&quot;
;预先读入动画图像。

bg ～
ld c,～
;至此为止为普通的图像命令，普通地运动。

resettimer
blt ～
waittimer 100
blt ～
waittimer 100
;如此，可以高速地处理图像。

;从blt处理切换到普通图像命令的时候，需要在之前使用ofscpy命令。
ofscpy
bg ～

;之后是普通处理方式。
bg ～
ld c,～</pre></div><hr /><a href="#blt">blt</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="okcancelbox"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />okcancelbox</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>okcancelbox %VAR,STR,STR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">1为确定ok，0为取消cancel</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">显示的文字</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">对话框的标题</span><br /></div><div class="ContentBody"><p class="Description">显示一个Windows的OK/Cancel对话框，获得用户输入并代入到变量中。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">保存确认</div><pre class="ExSource">okcancelbox %0,&quot;要保存吗？&quot;,&quot;保存确认&quot;</pre></div><hr /><a href="#yesnobox">yesnobox</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="play"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />play</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>play STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">MIDI文件名，或者CD音轨编号</span><br /></div><div class="ContentBody"><p class="Description">播放MIDI文件或者CD。<br />指定文件名则播放对应midi文件，指定&quot;*数字&quot;的形式则播放对应的CD音轨。<br />play会循环播放文件。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="playonce"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />playonce</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>playonce STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">MIDI文件名，或者CD音轨编号</span><br /></div><div class="ContentBody"><p class="Description">播放MIDI文件或者CD。<br />指定文件名则播放对应midi文件，指定&quot;*数字&quot;的形式则播放对应的CD音轨。<br />playonce只会播放一次。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="playstop"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />playstop</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>playstop</h3><div class="ContentBody"><p class="Description">停止CD或者midi的播放。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="pretextgosub"></a><h2><span class="WordVersion">Ver.2.49</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />pretextgosub</h2><h4><a class="WordCategory" href="#category_tag">文本标签相关</a></h4><h3>pretextgosub LABEL</h3><div class="Arguments"><span class="ArgType">标签</span><span class="ArgMeaning">显示文字之前调用的子程序的标签</span><br /></div><div class="ContentBody"><p class="Description">在显示文字之前调用相应的子程序。<br />通过使用pretextgosub命令，可以将显示文字之前的「标签」提取出来。<br />「标签」为「[」和「]」括起来的部分。<br />例）<br />[太郎/0001.wav]要显示的文字。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">指定在显示文字之前调用*pretext_lb子程序</div><pre class="ExSource">pretextgosub *pretext_lb</pre><span class="ExHeading">例)</span><br /><div class="ExComment">pretextgosub的相关命令使用例子</div><pre class="ExSource">pretextgosub *pretext_lb

*pretext_lb
dwavestop 0
gettag $0,$1
if $0=&quot;&quot; indent 0:goto *next_tag
mov $2,$0
add $2,&quot;/&quot;
puttext $2
;↑只有单独的名称的话puttext输出文字则会换行，
;在末尾加上/的话则不会换行。
indent 3
;指定台词的缩进
*next_tag
if $1=&quot;&quot; return
dwave 0,$2
;播放语音
return
</pre></div><hr /><a href="#gettag">gettag</a> / <a href="#indent">indent</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="print"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />print</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>print EFFECT</h3><div class="Arguments"><span class="ArgType">效果</span><span class="ArgMeaning">显示的效果</span><br /></div><div class="ContentBody"><p class="Description">以某种效果重绘屏幕。<br /><br />要指定效果，有下面两种方法。<br />１）只有一个参数<br />　　　　0…没有任何效果，直接显示内存中的效果<br />　　　　1…瞬时显示<br />　　　　其他…调用在effect命令中定义的效果。<br /><br />２）直接指定效果<br />　　　　指定的参数与传给effect的参数相同。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">同时显示背景“test.jpg”和在中央位置显示立绘“testman.jpg”，再使用设定好的效果3隐藏立绘。</div><pre class="ExSource">bg &quot;test.jpg&quot;,0
ld c,&quot;testman.jpg&quot;,1
cl c,3</pre><span class="ExHeading">例)</span><br /><div class="ExComment">将背景&quot;test.jpg&quot;在1秒之内进行交叉渐隐，立绘&quot;testman.jpg&quot;在左位置以&quot;mask.bmp&quot;作为掩模文件进行2秒的渐隐。</div><pre class="ExSource">bg &quot;test.jpg&quot;,10,1000
ld l,&quot;testman.jpg&quot;,15,2000,&quot;mask.bmp&quot;</pre></div><hr /><a href="#effect">effect</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="prnum"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />prnum</h2><h4><a class="WordCategory" href="#category_var_bar">文字・数字・色块显示</a></h4><h3>prnum NUM,NUM,NUM,NUM,NUM,NUM,COLOR</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">数值标签编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">现在值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">显示位置的左上x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">显示位置的左上y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字宽度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字高度</span><br /><span class="ArgType">颜色值</span><span class="ArgMeaning">文字颜色</span><br /></div><div class="ContentBody"><p class="Description">设定数值标签显示。会以指定的形式和指定的位置显示这个数字。<br />值为三位数字，也就是说预订是从0~999。<br />在指定了之后如果不使用print命令执行显示处理的话，是不会反应到画面上的。<br /><br />bar和prnum是为「莢」这款游戏增加的命令，即使不处于mode_saya下也可以使用。<br />将来有可能增加其他容易使用的命令。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">ver.2.93之后不推荐使用。似乎使用时的效果取决于当前的版本。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="prnumclear"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />prnumclear</h2><h4><a class="WordCategory" href="#category_var_bar">文字・数字・色块显示</a></h4><h3>prnumclear</h3><div class="ContentBody"><p class="Description">清除数值标签的设定。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="puttext"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />puttext</h2><h4><a class="WordCategory" href="#category_drawtext">文字显示命令</a></h4><h3>puttext STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">要显示的字符串</span><br /></div><div class="ContentBody"><p class="Description">显示这个字符串。仅限于在if命令中，想显示文字的时候可以使用这个命令。<br />使用puttext的时候，无法使用显示变量（使用特殊字符$和%）的功能。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="quake"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br /></h2><h4><a class="WordCategory" href="#category_visualeffect">图像效果</a></h4><h3>quake NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">振幅（像素）</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">时间(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">由于之前的quakex以及quakey命令对电脑性能消耗大，在之前的配有独立显卡的笔记本上运行有延迟现象的原因，新制作这个命令。应该能在速度比较慢的机器上良好运行。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">以振幅8像素，持续时间1秒摇动屏幕。</div><pre class="ExSource">quake 8,1000 </pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="quakex"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />quakex</h2><h4><a class="WordCategory" href="#category_visualeffect">图像效果</a></h4><h3>quakex NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">振幅（像素）</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">时间(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">横向摇动画面。参数依次为振幅和执行时间（毫秒）。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="quakey"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />quakey</h2><h4><a class="WordCategory" href="#category_visualeffect">图像效果</a></h4><h3>quakey NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">振幅（像素）</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">时间(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">纵向摇动画面。参数依次为振幅和执行时间（毫秒）。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="r_trap"></a><h2><span class="WordVersion">Ver.2.55</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />r_trap</h2><h4><a class="WordCategory" href="#category_trap">点击标志检查跳转</a></h4><h3>r_trap LABEL</h3><div class="Arguments"><span class="ArgType">标签</span><span class="ArgMeaning">点击右键时的跳转标签</span><br /></div><h3>r_trap off</h3><div class="Arguments"><span class="ArgType">列举</span><span class="ArgMeaning">解除trap</span><br /></div><div class="ContentBody"><p class="Description">监视右键点击，如果点击了右键的话会跳转到指定标签。<br />跳转至后会自动解除trap。<br />使用r_trap命令可以解除trap。<br />对右键点击做出反应的命令还有trap和lrtrap。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">在ver2.75版本中，对左键单击也会起作用。<br />(by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#lr_trap">lr_trap</a> / <a href="#trap">trap</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="readfile"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />readfile</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>readfile $VAR,STR</h3><div class="Arguments"><span class="ArgType">文字变量</span><span class="ArgMeaning">储存文件内容的变量</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">读取对象文件名</span><br /></div><div class="ContentBody"><p class="Description">将文件内容读取到文字变量中。<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">也会读取CRLF(\x0d\x0a)（换行回车符）。<br />此外由于不能使用必要运算符的缘故，在读取多行文字时，需要舍去最后两个字节的内容。<br />此外，因为此命令读取的文件并不会记录到日志中，所以fchk命令无法判断是否读取。<br />(by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将&quot;file.txt&quot;内容读取到$0中</div><pre class="ExSource">readfile $0,&quot;file.txt&quot;</pre></div><hr /><a href="#split">split</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="repaint"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />repaint</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>repaint</h3><div class="ContentBody"><p class="Description">重绘画面。如果画面变得异常，可以使用这个命令重绘。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="reset"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />reset</h2><h4><a class="WordCategory" href="#category_startend">游戏开始・重置・结束命令</a></h4><h3>reset</h3><div class="ContentBody"><p class="Description">重置游戏，返回到最开始。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">确认重置后重置游戏</div><pre class="ExSource">yesnobox %0,&quot;确定要重置所有的一切吗？&quot;,&quot;确认重置&quot;
if %0==1 reset</pre></div><hr /><a href="#*start">*start</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="resetmenu"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />resetmenu</h2><h4><a class="WordCategory" href="#category_windowmenu">窗口菜单相关命令</a></h4><h3>resetmenu</h3><div class="ContentBody"><p class="Description">声明使用自定义菜单。之后可以通过insertmenu来插入新的菜单。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">声明使用自定义菜单。</div><pre class="ExSource">resetmenu</pre></div><hr /><a href="#deletemenu">deletemenu</a> / <a href="#insertmenu">insertmenu</a> / <a href="#killmenu">killmenu</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="resettimer"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />resettimer</h2><h4><a class="WordCategory" href="#category_wait_timer">等待・定时器</a></h4><h3>resettimer</h3><div class="ContentBody"><p class="Description">将内部计时器置0。此计时器使用毫秒作为单位。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="return"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />return</h2><h4><a class="WordCategory" href="#category_jump">跳转命令</a></h4><h3>return [LABEL]</h3><div class="Arguments"><span class="ArgType">标签</span><span class="ArgMeaning">返回时到达标签</span><br /></div><div class="ContentBody"><p class="Description">从子程序返回。<br />请和gosub命令配合使用。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">return允许指定返回标签功能从Ver.2.67开始加入。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">return返回后跳转到*scene2</div><pre class="ExSource">return *scene2</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="rgosub"></a><h2><span class="WordVersion">Ver.</span><span class="WordVersion">非正式</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />rgosub</h2><h4><a class="WordCategory" href="#category_rclick">右键点击功能设定命令</a></h4><h3>rgosub LABEL</h3><div class="Arguments"><span class="ArgType">标签</span><span class="ArgMeaning">右键单击时跳转到的子程序标签</span><br /></div><div class="ContentBody"><p class="Description">设置右键点击时调用的子程序。<br />进行游戏的时候玩家点击右键的时候，会用gosub命令跳转到设定好的标签。<br />使用return命令后，会回到原来的等待点击的状态。<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">systemcall功能不起作用。（by BBS）</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#rmenu">rmenu</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="rlookback"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />rlookback</h2><h4><a class="WordCategory" href="#category_rclick">右键点击功能设定命令</a></h4><h3>rlookback</h3><div class="ContentBody"><p class="Description">点击右键的时候，进入回想模式。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="rmenu"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />rmenu</h2><h4><a class="WordCategory" href="#category_rclick">右键点击功能设定命令</a></h4><h3>rmenu STR,{skip,reset,save,load,lookback,windowerase}[,...]</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">显示在右键菜单中的字符串</span><br /><span class="ArgType">列举</span><span class="ArgMeaning">与上一个字符串对应的功能的名称</span><br /></div><div class="ContentBody"><p class="Description">按下右键的话，会打开一个菜单。<br />字符串表示显示的选项，功能是从定义好的功能中选择。<br />固定的系统菜单功能<br />skip…和「跳到下一个选择支」功能相同<br />reset…重设游戏。<br />save…出现一个保存菜单。<br />load…出现一个读取菜单。<br />lookback…进入回想模式。<br />windowerase…清除窗口。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">分别用“保存”表示保存菜单，“载入”表示读取菜单，“回想”表示回想模式功能。</div><pre class="ExSource">rmenu &quot;保存&quot;,save,&quot;读取&quot;,load,&quot;回想&quot;,lookback </pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="rmode"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />rmode</h2><h4><a class="WordCategory" href="#category_rclick">右键点击功能设定命令</a></h4><h3>rmode NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">右键单击有效标志(0:无效，1:有效)</span><br /></div><div class="ContentBody"><p class="Description">可以暂时设置右键无效或者有效。<br />数字为1（ON）0（OFF）的标志。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="rnd"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />rnd</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>rnd %VAR, NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">随机数储存变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">随机数的最大值加1的值</span><br /></div><div class="ContentBody"><p class="Description">为变量分配一个随机数。<br />生成从0~（第二个参数-1）的数。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">第二个参数为0的时候会引发强制退出。（by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">在0~99之间产生一个随机数，赋值到%5中。</div><pre class="ExSource">rnd %5,100</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="rnd2"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />rnd2</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>rnd2 %VAR,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">随机数储存变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">随机数的最小值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">随机数的最大值</span><br /></div><div class="ContentBody"><p class="Description">产生一个从数字1到数字2的随机数，赋值到变量中。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">产生一个10~20的随机数，代入到%3中。</div><pre class="ExSource">rnd2 %3,10,20</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="roff"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />roff</h2><h4><a class="WordCategory" href="#category_rclick">右键点击功能设定命令</a></h4><h3>roff</h3><div class="ContentBody"><p class="Description">按下右键时不做任何反应。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="rubyoff"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />rubyoff</h2><h4><a class="WordCategory" href="#category_ruby">注音相关</a></h4><h3>rubyoff</h3><div class="ContentBody"><p class="Description">关闭注音模式。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">关闭注音模式。</div><pre class="ExSource">rubyoff</pre></div><hr /><a href="#rubyon">rubyon</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="rubyon"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />rubyon</h2><h4><a class="WordCategory" href="#category_ruby">注音相关</a></h4><h3>rubyon [NUM,NUM[,STR]]</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">注音的横向大小(默认为文字大小一半)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">注音的纵向大小(默认为文字大小一半)</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">注音的字体</span><br /></div><div class="ContentBody"><p class="Description">开启注音模式。可以给文字注音。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">开启注音模式。默认情况下是注音文字的宽和长都是普通文字的一半。</div><pre class="ExSource">rubyon</pre><span class="ExHeading">例)</span><br /><div class="ExComment">指定注音的大小为横10纵8。因为抗锯齿的原因，最低超过13x13的话会看不清。</div><pre class="ExSource">rubyon 10,8</pre><span class="ExHeading">例)</span><br /><div class="ExComment">指定注音的大小为横向14纵向12，字体为“ＭＳ ゴシック”。省略的话，默认是和显示文字相同的字体。</div><pre class="ExSource">rubyon 14,12,&quot;ＭＳ ゴシック&quot;</pre></div><hr /><a href="#rubyoff">rubyoff</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="rubyon2"></a><h2><span class="WordVersion">Ver.2.80</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />rubyon2</h2><h4><a class="WordCategory" href="#category_ruby">注音相关</a></h4><h3>rubyon2 NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">注音大小X</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">注音大小Y</span><br /></div><div class="ContentBody"><p class="Description">仅在某一行需要注音的情况下转为注音模式。（ADV形式でのclickpageとの併用を想定してます）。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">请注意因为注音的原因会使画面狭窄。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#rubyoff">rubyoff</a> / <a href="#rubyon">rubyon</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="savedir"></a><h2><span class="WordVersion">Ver.2.49</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />savedir</h2><h4><a class="WordCategory" href="#category_saveload">保存・读取命令</a></h4><h3>savedir STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">保存数据的目录名称</span><br /></div><div class="ContentBody"><p class="Description">指定存档数据的保存目录。<br />	</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">只能建立在与nscr.exe和envdata相同的目录中。<br />储存文件夹需要预先建立。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设置为把存档数据保存到&quot;savedata&quot;目录中</div><pre class="ExSource">savedir &quot;savedata&quot;</pre></div><hr /><a href="#savegame">savegame</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="savefileexist"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />savefileexist</h2><h4><a class="WordCategory" href="#category_saveload">保存・读取命令</a></h4><h3>savefileexist %VAR,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存结果的变量(0:不存在，1:存在)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">存档编号</span><br /></div><div class="ContentBody"><p class="Description">存档文件存在的话返回1，否则返回0。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="savegame"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />savegame</h2><h4><a class="WordCategory" href="#category_saveload">保存・读取命令</a></h4><h3>savegame NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">存档编号</span><br /></div><div class="ContentBody"><p class="Description">保存游戏到指定的编号。注意此命令不会有任何确认。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="savegame2"></a><h2><span class="WordVersion">Ver.2.60</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />savegame2</h2><h4><a class="WordCategory" href="#category_saveload">保存・读取命令</a></h4><h3>savegame2 NUM,STR</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">存档编号</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">需要一起保存的字符串</span><br /></div><div class="ContentBody"><p class="Description">在保存存档时将固定的字符串保存至其中。<br />之后和savegame命令相同。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将&quot;８月５日　女主A线&quot;作为附加信息保存到12号存档中。</div><pre class="ExSource">savegame2 12,&quot;８月５日　女主Ａ线&quot;</pre></div><hr /><a href="#getsavestr">getsavestr</a> / <a href="#savegame">savegame</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="savename"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />savename</h2><h4><a class="WordCategory" href="#category_rclick">右键点击功能设定命令</a></h4><h3>savename STR,STR,STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">保存菜单的标题</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">读取菜单的标题</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">存档的名字</span><br /></div><div class="ContentBody"><p class="Description">可以指定存档文件的名字。<br />从左至右，分别为保存菜单顶部文字，读取菜单顶部文字，以及存档名字。<br />默认情况下，这三个值分别为&quot;&lt;保存&gt;&quot;&quot;&lt;读取&gt;&quot;&quot;&lt;书签&gt;&quot;<br />这些值请全部设定为全角文字。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="savenumber"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />savenumber</h2><h4><a class="WordCategory" href="#category_saveload">保存・读取命令</a></h4><h3>savenumber NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">最大存档数</span><br /></div><div class="ContentBody"><p class="Description">修改存档的最大值。最大值可为20。默认值是9。<br />当使用menusetwindow改变菜单，从画面跳转到存档界面时，如果存档个数超过了屏幕高度，可能会导致程序崩溃。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#menusetwindow">menusetwindow</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="saveoff"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />saveoff</h2><h4><a class="WordCategory" href="#category_saveload">保存・读取命令</a></h4><h3>saveoff</h3><div class="ContentBody"><p class="Description">关闭保存模式。<br />并不是意味着无法保存，只是将读取之后的位置作为了最后使用saveon命令的位置。<br />在处于saveon的时候，NS会将精灵工作的数据写入到存档数据中，有时候可能会影响程序的性能。<br />当进行毫秒单位级的精灵动画操作的时候，使用saveoff命令可以使命令执行得更快。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="saveon"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />saveon</h2><h4><a class="WordCategory" href="#category_saveload">保存・读取命令</a></h4><h3>saveon</h3><div class="ContentBody"><p class="Description">开启由saveoff命令关闭的保存模式。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="savepoint"></a><h2><span class="WordVersion">Ver.2.93</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />savepoint</h2><h4><a class="WordCategory" href="#category_saveload">保存・读取命令</a></h4><h3>savepoint</h3><div class="ContentBody"><p class="Description">更新保存点。<br />（在定义部分）<br />autosaveoff<br />执行了此命令之后，saveon/saveoff命令将被无视。<br />（输出文字的开始的savepoint永远都是一直起作用的。）。<br />在显示文字起始部分以外的地方保存的话（比如click map等），请使用savepoint命令。由于执行时机的原因，有可能无法重现之前的数据。所以在需要将之前读入的画面全部恢复出来需要耗费一定的精力。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#autosaveoff">autosaveoff</a> / <a href="#saveoff">saveoff</a> / <a href="#saveon">saveon</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="savescreenshot"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />savescreenshot</h2><h4><a class="WordCategory" href="#category_screenshot">截图命令</a></h4><h3>savescreenshot STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">要保存的文件名</span><br /></div><div class="ContentBody"><p class="Description">以指定的文件名保存屏幕截图。<br />与此同时，会删除内存中记录的图像。<br />想要继续使用内存中的图像的话请使用savescreenshot2命令。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">以&quot;thumb01.bmp&quot;为文件名保存获得的截图。</div><pre class="ExSource">savescreenshot &quot;thumb01.bmp&quot;
</pre></div><hr /><a href="#deletescreenshot">deletescreenshot</a> / <a href="#getscreenshot">getscreenshot</a> / <a href="#savescreenshot2">savescreenshot2</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="savescreenshot2"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />savescreenshot2</h2><h4><a class="WordCategory" href="#category_screenshot">截图命令</a></h4><h3>savescreenshot2 STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">要保存的文件名</span><br /></div><div class="ContentBody"><p class="Description">以指定的文件名保存屏幕截图。<br />不会删除内存中的图像。<br />如果想删除获得的内存中的截图的话，请使用deletescreenshot命令。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">以&quot;thumb01.bmp&quot;为文件名保存获得的截图。</div><pre class="ExSource">savescreenshot &quot;thumb01.bmp&quot;
</pre></div><hr /><a href="#deletescreenshot">deletescreenshot</a> / <a href="#getscreenshot">getscreenshot</a> / <a href="#savescreenshot">savescreenshot</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="savetime"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />savetime</h2><h4><a class="WordCategory" href="#category_getinfo">获得各种信息命令</a></h4><h3>savetime NUM,%VAR,%VAR,%VAR,%VAR</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">存档编号</span><br /><span class="ArgType">数字变量</span><span class="ArgMeaning">保存时获得月数的变量</span><br /><span class="ArgType">数字变量</span><span class="ArgMeaning">保存时获得日数的变量</span><br /><span class="ArgType">数字变量</span><span class="ArgMeaning">保存时获得小时数的变量</span><br /><span class="ArgType">数字变量</span><span class="ArgMeaning">保存时获得分钟数的变量</span><br /></div><div class="ContentBody"><p class="Description">从存档中获得保存时的月，日，小时，分。<br />存档文件不存在时会月的值会被写为0。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将存档3的月，日，时，分，分别保存到%0，%1，%2，%3中，并显示出来。如果存档不存在，则显示不存在。</div><pre class="ExSource">savetime 3,%0,%1,%2,%3
if %0=0 goto *non
存档3时间为%0月%1日%2时%3分@
end
*non
存档3不存在。@
end</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="select"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />select</h2><h4><a class="WordCategory" href="#category_select">选项命令</a></h4><h3>select STR,LABEL[,STR,LABEL[,...]]</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">要显示的选择支</span><br /><span class="ArgType">标签</span><span class="ArgMeaning">选择时要跳到的位置</span><br /></div><div class="ContentBody"><p class="Description">显示选项，然后跳转到对应选项的标签。<br />如果某个选项的字符串是&quot;&quot;，则该选项不会出现。<br />（这在selnum和selgosub中也是相同的）<br />但是如果一个字符串都没有的话会导致程序终止，这一点请注意。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="selectbtnwait"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />selectbtnwait</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>selectbtnwait %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存按钮编号的变量</span><br /></div><div class="ContentBody"><p class="Description">执行customsel命令的时候，等待点击。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">等待输入，点击按钮编号储存到%0变量中。</div><pre class="ExSource">selectbtnwait %0</pre></div><hr /><a href="#*customsel">*customsel</a> / <a href="#csel">csel</a> / <a href="#cselbtn">cselbtn</a> / <a href="#cselgoto">cselgoto</a> / <a href="#getcselnum">getcselnum</a> / <a href="#getcselstr">getcselstr</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="selectcolor"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />selectcolor</h2><h4><a class="WordCategory" href="#category_select">选项命令</a></h4><h3>selectcolor COLOR,COLOR</h3><div class="Arguments"><span class="ArgType">颜色值</span><span class="ArgMeaning">鼠标悬停时的颜色</span><br /><span class="ArgType">颜色值</span><span class="ArgMeaning">鼠标未悬停时的颜色</span><br /></div><div class="ContentBody"><p class="Description">指定普通选项的颜色。<br />两个参数依次为鼠标悬停的时候，鼠标移开的时候的颜色。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="selectvoice"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />selectvoice</h2><h4><a class="WordCategory" href="#category_select">选项命令</a></h4><h3>selectvoice STR,STR,STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">展开选择支的时候播放的声音文件名</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">鼠标悬停于某个选择支时播放的声音文件名</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">鼠标点击某个选择支时播放的声音文件名</span><br /></div><div class="ContentBody"><p class="Description">指定普通选项的相关的wave声音。<br />三个参数依次为展开选项的时候，指向某个选项的时候，选择某个选项的时候的声音。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="selgosub"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />selgosub</h2><h4><a class="WordCategory" href="#category_select">选项命令</a></h4><h3>selgosub STR,LABEL[,STR,LABEL[,...]]</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">要显示的选择支</span><br /><span class="ArgType">标签</span><span class="ArgMeaning">选择时要跳到的位置</span><br /></div><div class="ContentBody"><p class="Description">和select命令的跳转不同，会跳到某个子程序中。<br />关于子程序的调用，请参照gosub命令。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="selnum"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />selnum</h2><h4><a class="WordCategory" href="#category_select">选项命令</a></h4><h3>selnum %VAR,STR[,STR[,...]]</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存结果的变量</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">要显示的选择支</span><br /></div><div class="ContentBody"><p class="Description">将选项的结果代入到数字变量中。最左边的选项为0，后面的选项依次增加1。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">和select,selgosub不同、不允许指定一个空字符串&quot;&quot;。(by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="setcursor"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />setcursor</h2><h4><a class="WordCategory" href="#category_cursor">光标相关命令</a></h4><h3>setcursor NUM,STR,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">光标编号 (0:等待单击、1:等待换行)</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">光标图像文件</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">光标显示位置右偏移量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">光标显示位置下偏移量</span><br /></div><div class="ContentBody"><p class="Description">读取等待点击时的光标图像文件。<br />字符串参数依次为普通等待点击，换行等待点击的图像。<br />数字参数依次为下一个显示的字符的左上角算起X，Y方向上要偏移的X量和Y量。<br />默认情况是 &quot;:l/3,160,2;cursor0.bmp&quot;(&quot;:l/3,160,2;cursor1.bmp&quot;),0,0。 </p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#abssetcursor">abssetcursor</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="seteffectspeed"></a><h2><span class="WordVersion">Ver.</span><span class="WordVersion">非正式</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />seteffectspeed</h2><h4><a class="WordCategory" href="#category_visualeffect">图像效果</a></h4><h3>seteffectspeed NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">指定效果(0:通常(默认),1:高速(1/2速度),2:瞬时(没有效果))</span><br /></div><div class="ContentBody"><p class="Description">指定效果的显示速度。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">只对指定了效果编号的命令有效。by 幻惑卿<br />仅在官方手册「あどばんすどNScripter」上提到。by NScripter覚え書き</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#effect">effect</a> / <a href="#effectcut">effectcut</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="setkinsoku"></a><h2><span class="WordVersion">Ver.2.70</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />setkinsoku</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>setkinsoku STR,STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">行头禁止字符</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">行尾禁止字符</span><br /></div><div class="ContentBody"><p class="Description">字符串按顺序为行首禁止字符串，行末禁止字符串。<br />重新修正设定禁止字符。define部分专用命令。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#addkinsoku">addkinsoku</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="setlayer"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />setlayer</h2><h4><a class="WordCategory" href="#category_plugin_archive">插件・压缩包</a></h4><h3>setlayer NUM,NUM,STR</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">层编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">更新间隔(毫秒)</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">dll文件名</span><br /></div><div class="ContentBody"><p class="Description">以指定的layer编号注册插件。<br />之后可以用layermessage向layer编号对应的dll文件发送消息。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#layermessage">layermessage</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="setwindow"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />setwindow</h2><h4><a class="WordCategory" href="#category_textwindow">文字窗口命令</a></h4><h3>setwindow NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,STR,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">文字显示位置的左上角x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字显示位置的左上角y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">横向文字数</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">纵向文字书</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字横向大小</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字纵向大小</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">横向文字间隔</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">纵向文字间隔</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">默认显示速度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">粗体标志（０普通１粗体）</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">阴影标志（０普通１阴影）</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">窗口的背景图像文件</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">窗口显示位置左上坐标x</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">窗口显示位置左上坐标y</span><br /></div><h3>setwindow NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,COLOR,NUM,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">文字显示位置的左上角x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字显示位置的左上角y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">横向文字数</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">纵向文字书</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字横向大小</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字纵向大小</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">横向文字间隔</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">纵向文字间隔</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">默认显示速度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">粗体标志（０普通１粗体）</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">阴影标志（０普通１阴影）</span><br /><span class="ArgType">颜色值</span><span class="ArgMeaning">窗口的颜色</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">窗口显示位置左上坐标x</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">窗口显示位置左上坐标y</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">窗口的横向大小(仅在指定了颜色之后)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">窗口纵向大小(仅在指定了颜色之后)</span><br /></div><div class="ContentBody"><p class="Description">指定文本窗口。（下面两个用法的位置原文似乎写反了）<br />第二种用法是半透明式的。（以指定的颜色作为半透明的颜色。）<br />第一种用法是以指定的图像文件作为背景式的。<br />最开始的11个参数分别为，文字左上坐标X，Y，横向文字数，纵向文字数，字体大小X，Y，字间距X，Y，默认显示速度，粗体标志（０普通１粗体），阴影标志（０普通１阴影）。<br /><br />第二种用法接下来是窗口颜色，窗口左上角X，Y，右下角X，Y<br />第一种用法接下来为图像文件名，窗口左上角X，Y。<br />可以使用标签形式的图像的文件名。<br /><br />默认情况下是全屏幕半透明式，字体大小为26x26像素，字间距0,2，左上坐标8,16，横向23个文字，纵向16个文字，默认速度为20，透过颜色为#999999。<br />翻译成命令的话，是这样。<br />setwindow 8,16,20,23,26,26,0,2,20,1,1,#999999,0,0,639,479 </p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">全屏幕，字体为26x26像素，字间距为0,2，左上坐标为8,16，横向23字纵向16字，粗体阴影，显示速度20，背景图像为&quot;bg1.bmp&quot;。</div><pre class="ExSource">setwindow 8,16,20,23,26,26,0,2,20,1,1,&quot;bg1.bmp&quot;,0,0</pre><span class="ExHeading">例)</span><br /><div class="ExComment">半透明模式显示文字窗口，字体为26x26像素，字间距为0,2，左上坐标为8,16，横向23字纵向16字，粗体阴影，显示速度20，透明色为#999999。</div><pre class="ExSource">setwindow 8,16,23,16,26,26,0,2,20,1,1,#999999,0,0,639,479</pre></div><hr /><a href="#setwindow2">setwindow2</a> / <a href="#setwindow3">setwindow3</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="setwindow2"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />setwindow2</h2><h4><a class="WordCategory" href="#category_textwindow">文字窗口命令</a></h4><h3>setwindow2 STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">窗口ＣＧ文件名名(可以使用标签形式)</span><br /></div><h3>setwindow2 COLOR</h3><div class="Arguments"><span class="ArgType">颜色值</span><span class="ArgMeaning">#颜色标记</span><br /></div><div class="ContentBody"><p class="Description">此命令不清除回想缓存，也不清除正在显示的窗口中的文字，只改变文字窗口的背景或者颜色。<br />setwindow的标签指定模式只会改变CG指定的部分。不会改变其他的东西。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">指定不透明的&quot;twindow2.bmp&quot;为文字窗口的背景图像。</div><pre class="ExSource">setwindow2 &quot;:c;twindow2.bmp&quot;</pre><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#setwindow">setwindow</a> / <a href="#setwindow3">setwindow3</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="setwindow3"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />setwindow3</h2><h4><a class="WordCategory" href="#category_textwindow">文字窗口命令</a></h4><h3>setwindow3 NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,STR,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">文字显示位置的左上角x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字显示位置的左上角y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">横向文字数</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">纵向文字书</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字横向大小</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字纵向大小</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">横向文字间隔</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">纵向文字间隔</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">默认显示速度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">粗体标志（０普通１粗体）</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">阴影标志（０普通１阴影）</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">窗口的背景图像文件</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">窗口显示位置左上坐标x</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">窗口显示位置左上坐标y</span><br /></div><h3>setwindow3 NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,COLOR,NUM,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">文字显示位置的左上角x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字显示位置的左上角y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">横向文字数</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">纵向文字书</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字横向大小</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字纵向大小</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">横向文字间隔</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">纵向文字间隔</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">默认显示速度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">粗体标志（０普通１粗体）</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">阴影标志（０普通１阴影）</span><br /><span class="ArgType">颜色值</span><span class="ArgMeaning">窗口的颜色</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">窗口显示位置左上坐标x</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">窗口显示位置左上坐标y</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">窗口的横向大小(仅在指定了颜色之后)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">窗口纵向大小(仅在指定了颜色之后)</span><br /></div><div class="ContentBody"><p class="Description">除了不清除回想缓存以外其余和setwindow相同。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">如果和原有的命令宽和高不相同的话，进入回想模式会出错。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">全屏幕，字体为26x26像素，字间距为0,2，左上坐标为8,16，横向23字纵向16字，粗体阴影，显示速度20，背景图像为&quot;bg1.bmp&quot;。</div><pre class="ExSource">setwindow3 8,16,20,23,26,26,0,2,20,1,1,&quot;bg1.bmp&quot;,0,0</pre><span class="ExHeading">例)</span><br /><div class="ExComment">半透明模式显示文字窗口，字体为26x26像素，字间距为0,2，左上坐标为8,16，横向23字纵向16字，粗体阴影，显示速度20，透明色为#999999。</div><pre class="ExSource">setwindow3 8,16,20,23,26,26,0,2,20,1,1,#999999,0,0,639,479</pre></div><hr /><a href="#setwindow">setwindow</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="sevol"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />sevol</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>sevol NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">音量(0～100）</span><br /></div><div class="ContentBody"><p class="Description">调节音量。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">音量值不会自动保存，请手动管理。<br />但是使用nsogg.dll或是nsogg2.dll时会恢复存档时的音量。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将SE音量设为100。（0-100）</div><pre class="ExSource">sevol 100</pre></div><hr /><a href="#bgmvol">bgmvol</a> / <a href="#chvol">chvol</a> / <a href="#mp3vol">mp3vol</a> / <a href="#voicevol">voicevol</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="shadedistance"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />shadedistance</h2><h4><a class="WordCategory" href="#category_drawtext">文字显示命令</a></h4><h3>shadedistance NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">阴影横向伸长大小(单位:px)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">阴影纵向伸长大小(单位:px)</span><br /></div><div class="ContentBody"><p class="Description">指定阴影的位置。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">Ver.2.62之后才能在执行部分使用。<br />与此同时，一旦设定，之后无法通过重设更改。（by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">阴影的位置为右2像素和下3像素</div><pre class="ExSource">shadedistance 2,3</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="shell"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />shell</h2><h4><a class="WordCategory" href="#category_execute">外部程序执行命令</a></h4><h3>shell STR</h3><div class="Arguments"><span class="ArgType">文字串</span><span class="ArgMeaning">执行文件名</span><br /></div><div class="ContentBody"><p class="Description">从资源管理器执行指定的文件。<br />由于使用的是ShellExecute API，不能做到同步执行。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="sin"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />sin</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>sin %VAR,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存计算结果的变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">角度(单位为度)</span><br /></div><div class="ContentBody"><p class="Description">计算三角函数sin的值。<br />值为返回值的1000倍。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">求sin90°到%0</div><pre class="ExSource">sin %0,90
;%0=1000</pre></div><hr /><a href="#cos">cos</a> / <a href="#tan">tan</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="skip"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />skip</h2><h4><a class="WordCategory" href="#category_jump">跳转命令</a></h4><h3>skip NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">要跳过的行数</span><br /></div><div class="ContentBody"><p class="Description">数字为要移动的行数。<br />数值为0则跳到下一行。否则跳过指定数字的行数，这个数字可以用（-）向前、（+）向后移动。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="skipoff"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />skipoff</h2><h4><a class="WordCategory" href="#category_kidokuskip">跳过已读文字命令</a></h4><h3>skipoff</h3><div class="ContentBody"><p class="Description">停止「跳到下一个选择支」或「自动模式」或者其他模式。 </p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">打开skip模式使用systemcall skip命令。<br />可以这样利用defsub定义子程序的方式创建一个skipon命令。（by senzogawa)<br />*skipon<br />systemcall skip<br />return</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">强制解除skip状态。</div><pre class="ExSource">skipoff</pre></div><hr /><a href="#systemcall">systemcall</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="soundpressplgin"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />soundpressplgin</h2><h4><a class="WordCategory" href="#category_plugin_archive">插件・压缩包</a></h4><h3>soundpressplgin STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">指定的插件</span><br /></div><div class="ContentBody"><p class="Description">指定音乐压缩格式的插件。格式为&quot;文件名|关联文件拓展名&quot;</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将拓展名为&quot;nbz&quot;的音乐用插件&quot;nbzplgin.dll&quot;解析。</div><pre class="ExSource">soundpressplgin &quot;nbzplgin.dll|nbz&quot;</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="spbtn"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />spbtn</h2><h4><a class="WordCategory" href="#category_button">图像按钮</a></h4><h3>spbtn NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">按钮编号</span><br /></div><div class="ContentBody"><p class="Description">和btn指令的使用方式相同，此命令是将精灵指定为按钮。透明部分也会起作用。未按下状态为分格0，按下状态为分格1。按下按钮时，会返回按钮的编号。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="spclclk"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />spclclk</h2><h4><a class="WordCategory" href="#category_input">键盘按键扩展</a></h4><h3>spclclk</h3><div class="ContentBody"><p class="Description">请在btndef和btnwait命令之间使用这个命令。<br />执行了这个命令后，会将空格键视为和左键点击时同样的动作。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将空格键视为左键点击。</div><pre class="ExSource">spclclk</pre></div><hr /><a href="#btndef">btndef</a> / <a href="#btnwait">btnwait</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="spfont"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />spfont</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>spfont STR,NUM,NUM,NUM,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">字体名</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">字体宽</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">字符高</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字横向间隔</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字纵向间隔</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">粗体标志(0:普通,1:粗体)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">阴影标志(0:普通,1:阴影)</span><br /></div><h3>spfont &#39;clear&#39;</h3><div class="Arguments"><span class="ArgType">枚举</span><span class="ArgMeaning">clear:返回到setwindow的设定</span><br /></div><div class="ContentBody"><p class="Description">spfont &quot;字体名&quot;,宽,高,横向字间距,纵向字间距,粗体标志,阴影标志<br />设定字符串精灵的字体。<br />spfont clear<br />清除字体设置，返回到由setwindow字体的模式。<br />spfont &quot;字体名&quot;<br />仅仅在不适用如:s形式的时候才能省略除字体名以外的所有参数。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">Ver.2.62之后才能在执行部分使用。<br />Ver.2.66将setwindow的设定会覆盖的bug进行了修正。<br />clear功能在Ver.2.67中增加。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将文字精灵的字体种类设定为「ＭＳ ゴシック」，默认大小为横16纵16，字间距横0纵0，再加上粗体阴影</div><pre class="ExSource">spfont &quot;ＭＳ ゴシック&quot;,16,16,0,0,1,1</pre><span class="ExHeading">例)</span><br /><div class="ExComment">将精灵的字体设定返回到setwindow设定的字体。</div><pre class="ExSource">spfont clear</pre></div><hr /><a href="#lsp">lsp</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="spi"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />spi</h2><h4><a class="WordCategory" href="#category_plugin_archive">插件・压缩包</a></h4><h3>spi STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">指定的插件</span><br /></div><div class="ContentBody"><p class="Description">指定图像压缩的插件。格式为&quot;文件名|关联文件拓展名&quot;</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将拓展名jpg和lf2的图像的压缩插件分别指定为&quot;jpgplgin.dll&quot;和&quot;iflf2.spi&quot;。</div><pre class="ExSource">spi &quot;jpgplgin.dll|jpg&quot;
spi &quot;iflf2.spi|lf2&quot;</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="split"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />split</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>split STR,STR,$VAR|%VAR,$VAR|%VAR[,...]</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">要切分的字符串</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">切分标志（只能是一个字符）</span><br /><span class="ArgType">变量</span><span class="ArgMeaning">最终保存的变量</span><br /></div><div class="ContentBody"><p class="Description">用指定的字符记号分割字符串，并代入到指定的变量中。<br />请使用此命令处理从插件返回的值以及用readfile从文件读取的字符串。<br /><br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">具有相同变量的情况下会代入最后的一个值。（by eiji8pou)<br />没有切分出来的值的情况时，数字变量会代入0，文字变量会代入&quot;&quot;。 （by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将$0的内容用“/”切分到各个指定的变量中。</div><pre class="ExSource">mov $0,&quot;あいうえお/かきくけこ/15/25/さしすせそ&quot;
split $0,&quot;/&quot;,$1,$2,%0,%1,$3

＄１＝$1 ; あいうえお
＄２＝$2 ; かきくけこ
％０＝%0 ; 15
％１＝%1 ; 25
＄３＝$3 ; さしすせそ
\</pre></div><hr /><a href="#readfile">readfile</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="spstr"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />spstr</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>spstr STR</h3><div class="ContentBody"><p class="Description">单独执行根据精灵指定的复合按钮的控制字符串的命令。<br />可以控制字符串来执行。<br />只不过和csp以及lsp以及vsp相同，需要在后面使用print命令显示。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">不显示编号11的精灵，显示10号精灵的2分格和9号精灵。</div><pre class="ExSource">spstr &quot;C11P10,2P9&quot;</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="spwait"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />spwait</h2><h4><a class="WordCategory" href="#category_wait_timer">等待・定时器</a></h4><h3>spwait NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号</span><br /></div><div class="ContentBody"><p class="Description">等待指定编号的精灵的动画。（回到最初头部或者停止动画。）结束。 </p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">等待直到编号0的精灵的动画循环结束。</div><pre class="ExSource">spwait 0</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="stop"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />stop</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>stop</h3><div class="ContentBody"><p class="Description">停止所有的音乐。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="stralias"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />stralias</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>stralias NAME,STR</h3><div class="Arguments"><span class="ArgType">名称</span><span class="ArgMeaning">要表示的字符串的名称</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">用别名表示的字符串</span><br /></div><div class="ContentBody"><p class="Description">创建一个文件名的别名。之后要代替这个文件名的时候，<br />可以使用这个别名来代替。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">当想使用文件&quot;:a/10,20,2;man_alpha.bmp&quot;的字符串时使用man_a0这个别名代替。</div><pre class="ExSource">stralias man_a0,&quot;:a/10,20,2;man_alpha.bmp&quot;
; 之后，想指定这个文件的时候就可以用man_a0这个别名来代替。
; 例如 ld c,man_a0,1和ld c,&quot;:a/10,20,2;man_alpha.bmp&quot;是相同的。</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="strsp"></a><h2><span class="WordVersion">Ver.2.62</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />strsp</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>strsp NUM,STR,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM[,COLOR[,...]]</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">需要精灵化的字符串</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">精灵左上角的x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">精灵左上角y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">横排文字数</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">竖排文字数</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字宽度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字高度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字X方向间隔</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字Y方向间隔</span><br /><span class="ArgType">数値</span><span class="ArgMeaning">粗体标志(0:无、1:有)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">阴影标志(0:无、1:有)</span><br /><span class="ArgType">颜色值</span><span class="ArgMeaning">文字颜色</span><br /></div><div class="ContentBody"><p class="Description">strsp 精灵编号,字符串,左上X,左上Y,横向文字数,纵向文字数,字宽,字高,字间距X,字间距Y,粗体(0or1),阴影(0or1)(,指定颜色)...<br />将多行文字指定为精灵。在没有禁止文字的情况下，到达横向的末端则会自动换行。如果想手动换行请指定\符号。<br />spfont命令的设置会体现出来。指定颜色可以是一个或者多个参数，分格的个数根据颜色的个数决定（也就是说会生成颜色的个数个的分格）。<br /></p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">最初是logsp2命令的同名命令，从Ver.2.65之后，成为了独立的命令。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#spfont">spfont</a> / <a href="#strsph">strsph</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="strsph"></a><h2><span class="WordVersion">Ver.2.81</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />strsph</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>strsph NUM,STR,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM,NUM[,COLOR[,...]]</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">需要精灵化的字符串</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">精灵左上角的x坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">精灵左上角y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">横排文字数</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">竖排文字数</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字宽度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字高度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字X方向间隔</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字Y方向间隔</span><br /><span class="ArgType">数値</span><span class="ArgMeaning">粗体标志(0:无、1:有)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">阴影标志(0:无、1:有)</span><br /><span class="ArgType">颜色值</span><span class="ArgMeaning">文字颜色</span><br /></div><div class="ContentBody"><p class="Description">strsp命令的不显示版本。详细请参考strsp命令。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#spfont">spfont</a> / <a href="#strsp">strsp</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="sub"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />sub</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>sub %VAR,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">要被运算的数值</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">运算数值</span><br /></div><div class="ContentBody"><p class="Description">从数字变量中减去一个数。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">%0减6，再减%2.</div><pre class="ExSource">sub %0,6
sub %0,%2</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="systemcall"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />systemcall</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>systemcall NAME</h3><div class="Arguments"><span class="ArgType">名称</span><span class="ArgMeaning">表示功能的名称</span><br /></div><div class="ContentBody"><p class="Description">执行和系统菜单相同的动作。<br />在select，selgosub等命令的跳转位置使用的话，可以将标题菜单等显示出来。<br />（在这种情况下，最好使用rmode命令将本来的rmenu暂时关闭比较好。）<br />可以指定的功能和rmenu是相通的。<br /><br />systemcall rmenu和右键弹出菜单的效果是相同的。<br />比如在按钮模式的时候希望点击右键弹出右键菜单的情况下使用此命令。从右键菜单中退出后，会继续执行这个命令的下一句。<br />（不好好预测画面的状态使用此命令的话，会造成奇怪的效果。<br />最好应该在此命令之后清除文本窗口的内容。<br />）</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="tablegoto"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />tablegoto</h2><h4><a class="WordCategory" href="#category_jump">跳转命令</a></h4><h3>tablegoto %VAR,LABEL[,LABEL[,...]]</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存跳转的目的地索引的变量</span><br /><span class="ArgType">ラベル</span><span class="ArgMeaning">要跳转到的标签</span><span class="ArgMeaning">有必要限制变量的最大值。</span><br /></div><div class="ContentBody"><p class="Description">构造一个跳转表。<br />变量的值为0则跳转到第一个，1则跳转到第二个……如此这般，<br />跳转到罗列出来的标签。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">根据%0的值，跳转到*label0~*label3中的标签。</div><pre class="ExSource">tablegoto %0,*label0,*label1,*label2,*label3</pre></div><hr /><a href="#goto">goto</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="tal"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />tal</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>tal {l,c,r},NUM,EFFECT</h3><div class="Arguments"><span class="ArgType">列挙</span><span class="ArgMeaning">变换透明度的位置(l:左、c:中央、r:右)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">不透明度(0～255)</span><br /><span class="ArgType">效果</span><span class="ArgMeaning">显示立绘时所用效果</span><br /></div><div class="ContentBody"><p class="Description">修改所选位置的立绘的透明度为指定数。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">没有指定正式手册中的效果编号的话会导致出错。(by senzogawa via はう)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#ld">ld</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="tan"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />tan</h2><h4><a class="WordCategory" href="#category_calc">算式・变量命令</a></h4><h3>tan %VAR,NUM</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存计算结果的变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">角度(单位为度)</span><br /></div><div class="ContentBody"><p class="Description">获得三角函数tanθ的值。<br />值为返回值的1000倍。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">注意tan函数有90度和270两个间断点。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">求tan45°到变量%2</div><pre class="ExSource">tan %2,45
;%2=1000。</pre></div><hr /><a href="#cos">cos</a> / <a href="#sin">sin</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="tateyoko"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />tateyoko</h2><h4><a class="WordCategory" href="#category_textwindow">文字窗口命令</a></h4><h3>tateyoko NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">1为竖排文字模式，0为正常模式</span><br /></div><div class="ContentBody"><p class="Description">转换为竖排文字模式。详细情况请查看例子。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">这个命令属于系统自定义命令，在系统自定义的例子里面有解说。<br />转换到竖排文字模式。<br />	</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">转换到竖排文字模式。</div><pre class="ExSource">tateyoko 1</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="texec"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />texec</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>texec</h3><div class="ContentBody"><p class="Description">等待换页的情况下清除文字。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">清除文字。</div><pre class="ExSource">texec</pre></div><hr /><a href="#getcursorpos">getcursorpos</a> / <a href="#texec2">texec2</a> / <a href="#textbtnwait">textbtnwait</a> / <a href="#textgosub">textgosub</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="texec2"></a><h2><span class="WordVersion">Ver.2.82</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />texec2</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>texec2</h3><div class="ContentBody"><p class="Description">几乎和texec命令相同，只是不清除上面的文字。而是在显示下一行的同时清除。<br />（比如，在进行选择的时候不希望清除文字则可以使用此命令。）</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">2008/08/10版之后</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">清除文字。</div><pre class="ExSource">texec2</pre></div><hr /><a href="#getcursorpos">getcursorpos</a> / <a href="#texec">texec</a> / <a href="#textbtnwait">textbtnwait</a> / <a href="#textgosub">textgosub</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="textbtnoff"></a><h2><span class="WordVersion">Ver.2.74</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />textbtnoff</h2><h4><a class="WordCategory" href="#category_textbutton">文字按钮命令</a></h4><h3>textbtnoff</h3><div class="ContentBody"><p class="Description">默认情况下，文字按钮会在btnwait命令的时候自动注册。<br />如果在btndef和btnwait命令之间使用textbtnoff命令的话，会暂时关闭文字按钮功能。<br />例如在处理文字按钮的途中需要处理其他的按钮，则可以使用此命令暂时关闭文字按钮。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">禁止文字按钮并等待用户输入。</div><pre class="ExSource">btndef clear
textbtnoff
textbtnwait %0</pre></div><hr /><a href="#btnwait">btnwait</a> / <a href="#btnwait2">btnwait2</a> / <a href="#textbtnwait">textbtnwait</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="textbtnstart"></a><h2><span class="WordVersion">Ver.2.65</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />textbtnstart</h2><h4><a class="WordCategory" href="#category_textbutton">文字按钮命令</a></h4><h3>textbtnstart NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">作为起始文字按钮的编号的数字(默认为1)</span><br /></div><div class="ContentBody"><p class="Description">指定省略文字按钮编号时的起始值。<br />默认值为1。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">指定省略的时候文字按钮的起始值为3。</div><pre class="ExSource">textbtnstart 3</pre></div><hr /><a href="javascript:void(0);">&lt;&gt;</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="textbtnwait"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />textbtnwait</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>textbtnwait %VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存按钮编号的变量</span><br /></div><div class="ContentBody"><p class="Description">customwait命令的时候等待点击。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">等待输入，点击按钮编号储存到%0变量中。</div><pre class="ExSource">textbtnwait %0</pre></div><hr /><a href="#getcursorpos">getcursorpos</a> / <a href="#texec">texec</a> / <a href="#textgosub">textgosub</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="textclear"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />textclear</h2><h4><a class="WordCategory" href="#category_drawtext">文字显示命令</a></h4><h3>textclear</h3><div class="ContentBody"><p class="Description">清除文本窗口的内容。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="textcolor"></a><h2><span class="WordVersion">Ver.</span><span class="WordVersion">非正式</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />textcolor</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>textcolor COLOR</h3><div class="ContentBody"><p class="Description">更改字符的颜色。和HTML的颜色形式相同。<br />（即每两个十六进制数字表示一种颜色值构成的六个十六进制数<br />#000000为黑色，#ffffff为白色，#ffffaa为浅黄色。）<br />注意改变颜色之后会保持改变后的状态。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">从2007.11.04之后的版本添加此命令。使用english命令的时候，想改变文字颜色必须用这个命令。因为在手册中并没有记载此命令，所以一律为非正式命令。（by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将blue font以蓝色字体显示。</div><pre class="ExSource">*define
english
game
*start
textcolor #0000ff
&gt;blue font@
end
</pre></div><hr /><a href="#english">english</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="textexbtn"></a><h2><span class="WordVersion">Ver.2.65</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />textexbtn</h2><h4><a class="WordCategory" href="#category_textbutton">文字按钮命令</a></h4><h3>textexbtn NUM,STR</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">文字按钮的编号</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">复合按钮用的控制字符串</span><br /></div><div class="ContentBody"><p class="Description">textexbtn 文字按钮编号,控制字符串<br />此命令用于对文字按钮执行exbtn同样的处理。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#exbtn">exbtn</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="textfield"></a><h2><span class="WordVersion">Ver.2.49</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />textfield</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>textfield $VAR,NUM,NUM,NUM,NUM,NUM,NUM,NUM</h3><div class="Arguments"><span class="ArgType">文字变量</span><span class="ArgMeaning">保存默认字符串以及输入结果的变量</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">窗口左上X坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">窗口左上Y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">窗口右下X坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">窗口右下Y坐标</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字宽度(1byte)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">文字高度</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">全角标志(1:限定全角文字)</span><br /></div><div class="ContentBody"><p class="Description">在窗口上打开一个文字输入框，等待用户输入（不是对话框）。<br />此时，指定的字符串变量的值会作为输入框的默认内容。<br />当在输入框以外的部分点击左键，或者按下Enter键，ESC键，TAB键，函数会返回。<br />可以通过getret命令判断是否按下了Tab键。<br />在此指令之后，<br />getret %0<br />如果%0为0的话表示按下了Tab键以外的键，1的话表明是按下的Tab键。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">在窗口坐标100，50到320,70处产生一个10文字宽，20文字高全角限定的文本框，并以$0变量取得输入结果。</div><pre class="ExSource">textfield $0,100,50,320,70,10,20,1</pre></div><hr /><a href="#input">input</a> / <a href="#inputnum">inputnum</a> / <a href="#inputstr">inputstr</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="textgosub"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />textgosub</h2><h4><a class="WordCategory" href="#category_systemcustomize">系统自定义相关命令</a></h4><h3>textgosub LABEL</h3><div class="Arguments"><span class="ArgType">标签</span><span class="ArgMeaning">等待点击的时候跳转到的标签</span><br /></div><div class="ContentBody"><p class="Description">自定义系统时显示文字的等待点击时跳转到的标签。此标签需要实例化系统按钮以及处理用户的输入。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">等待单击的时候跳转到「*text_lb」标签</div><pre class="ExSource">textgosub *text_lb</pre></div><hr /><a href="#getcursorpos">getcursorpos</a> / <a href="#texec">texec</a> / <a href="#textbtnwait">textbtnwait</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="texthide"></a><h2><span class="WordVersion">Ver.2.49</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />texthide</h2><h4><a class="WordCategory" href="#category_logcustomize">自定义回想模式</a></h4><h3>texthide</h3><div class="ContentBody"><p class="Description">在保持文本窗口显示的情况下，隐藏文字。<br />可以用于使用回想模式的时候。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将文本窗口中的文字隐藏。</div><pre class="ExSource">texthide</pre></div><hr /><a href="#textshow">textshow</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="textoff"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />textoff</h2><h4><a class="WordCategory" href="#category_textwindow">文字窗口命令</a></h4><h3>textoff</h3><div class="ContentBody"><p class="Description">消除文本窗口。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#texton">texton</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="texton"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />texton</h2><h4><a class="WordCategory" href="#category_textwindow">文字窗口命令</a></h4><h3>texton</h3><div class="ContentBody"><p class="Description">显示文字窗口。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#textoff">textoff</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="textshow"></a><h2><span class="WordVersion">Ver.2.49</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />textshow</h2><h4><a class="WordCategory" href="#category_logcustomize">自定义回想模式</a></h4><h3>textshow</h3><div class="ContentBody"><p class="Description">恢复由texthide消除的文字。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">恢复由texthide消除的文字。</div><pre class="ExSource">textshow</pre></div><hr /><a href="#texthide">texthide</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="textspeed"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />textspeed</h2><h4><a class="WordCategory" href="#category_drawtext">文字显示命令</a></h4><h3>textspeed NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">一个文字的显示速度(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">修改文字的显示速度。<br />和!s命令相同，但是可以使用变量。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="textspeeddefault"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />textspeeddefault</h2><h4><a class="WordCategory" href="#category_textwindow">文字窗口命令</a></h4><h3>textspeeddefault</h3><div class="ContentBody"><p class="Description">设置文字显示速度为默认。<br />在不显示文字的时候，即可以在没有出现文字窗口未显示文字的时候执行此命令。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设置文字显示速度为默认。</div><pre class="ExSource">textspeeddefault</pre></div><hr /><a href="#!sd">!</a><a href="#!sd">sd</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="time"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />time</h2><h4><a class="WordCategory" href="#category_getinfo">获得各种信息命令</a></h4><h3>time %VAR,%VAR,%VAR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">储存小时数的变量</span><br /><span class="ArgType">数字变量</span><span class="ArgMeaning">储存分钟数的变量</span><br /><span class="ArgType">数字变量</span><span class="ArgMeaning">储存秒数的变量</span><br /></div><div class="ContentBody"><p class="Description">获得系统当前的时间。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="transbtn"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />transbtn</h2><h4><a class="WordCategory" href="#category_button">图像按钮</a></h4><h3>transbtn</h3><div class="ContentBody"><p class="Description">请在btndef和btnwait命令之间使用这个命令。<br />执行这个命令之后，按钮图像的透明部分将不起作用。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">禁用按钮图像的透明部分，使其点击无效。</div><pre class="ExSource">transbtn</pre></div><hr /><a href="#btndef">btndef</a> / <a href="#btnwait">btnwait</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="transmode"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />transmode</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>transmode {leftup,copy,alpha}</h3><div class="Arguments"><span class="ArgType">列举</span><span class="ArgMeaning">leftup:左上角颜色作为透明色，copy:无透过，alpha:alpha模式</span><br /></div><div class="ContentBody"><p class="Description">更改透过颜色的默认设定。默认情况下为leftup。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="trap"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />trap</h2><h4><a class="WordCategory" href="#category_trap">点击标志检查跳转</a></h4><h3>trap LABEL</h3><div class="Arguments"><span class="ArgType">标签</span><span class="ArgMeaning">左键单击时跳转到的标签</span><br /></div><h3>trap off</h3><div class="Arguments"><span class="ArgType">列举</span><span class="ArgMeaning">解除trap</span><br /></div><div class="ContentBody"><p class="Description">监视左键单击，左键单击则跳转到指定的标签。<br />跳转至后会自动解除trap。<br />使用trap_off命令关闭trap。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="trap2"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />trap2</h2><h4><a class="WordCategory" href="#category_trap">点击标志检查跳转</a></h4><h3>trap2 LABEL</h3><div class="Arguments"><span class="ArgType">标签</span><span class="ArgMeaning">左键单击或者「跳到下一个选择支」的时候跳转到的标签</span><br /></div><h3>trap2 off</h3><div class="Arguments"><span class="ArgType">列举</span><span class="ArgMeaning">解除trap</span><br /></div><div class="ContentBody"><p class="Description">对左键单击或者「跳到下一个选择支」做出反应的trap命令。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="underline"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />underline</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>underline NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">作为最低线的坐标</span><br /></div><div class="ContentBody"><p class="Description">决定立绘的最低线。默认值为479。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">ver2.92或更高版本，可用于执行部分</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#ld">ld</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="useescspc"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />useescspc</h2><h4><a class="WordCategory" href="#category_input">键盘按键扩展</a></h4><h3>useescspc</h3><div class="ContentBody"><p class="Description">（仅在定义部分使用）设定按键命令能够检测到esc和spc按键。<br />esc返回-10，spc返回-11。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">允许使用ESC和SPC（截图按键）键。</div><pre class="ExSource">useescspc</pre></div><hr /><a href="#btndef">btndef</a> / <a href="#btntime">btntime</a> / <a href="#btntime2">btntime2</a> / <a href="#btnwait">btnwait</a> / <a href="#getcursor">getcursor</a> / <a href="#getenter">getenter</a> / <a href="#getfunction">getfunction</a> / <a href="#getinsert">getinsert</a> / <a href="#getpage">getpage</a> / <a href="#gettab">gettab</a> / <a href="#spclclk">spclclk</a> / <a href="#useescspc">useescspc</a> / <a href="#usewheel">usewheel</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="usewheel"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />usewheel</h2><h4><a class="WordCategory" href="#category_input">键盘按键扩展</a></h4><h3>usewheel</h3><div class="ContentBody"><p class="Description">（仅在定义部分使用）配置为使用滚轮。<br />滚轮将返回-2（上）和-3（下）。<br />此外，超过btntime的时间会返回-5。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">允许使用滚轮</div><pre class="ExSource">usewheel</pre></div><hr /><a href="#btndef">btndef</a> / <a href="#btntime">btntime</a> / <a href="#btntime2">btntime2</a> / <a href="#btnwait">btnwait</a> / <a href="#getcursor">getcursor</a> / <a href="#getenter">getenter</a> / <a href="#getfunction">getfunction</a> / <a href="#getinsert">getinsert</a> / <a href="#getpage">getpage</a> / <a href="#gettab">gettab</a> / <a href="#spclclk">spclclk</a> / <a href="#useescspc">useescspc</a> / <a href="#usewheel">usewheel</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="v"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />v</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>&#39;v&#39;NUM&#39;:&#39;</h3><div class="Arguments"><span class="ArgType">数字</span><span class="ArgMeaning">声音文件的文件名编号</span><br /></div><div class="ContentBody"><p class="Description">便于播放语音的命令。<br />与wave &quot;wav\数字.wav&quot;等价。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">显示&quot;「これが０００１番のせりふだよー」&quot;的时候，使用wave命令播放&quot;wav\0001.wav&quot;。
</div><pre class="ExSource">v0001:「这是第０００１号台词哟~」</pre></div><hr /><a href="#dv">dv</a> / <a href="#wave">wave</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="value"></a><h2><span class="WordVersion">Ver.2.48</span> <span class="WordField">[特别定义语]</span><br /><span class="WordPhonetic"></span><br />value</h2><h4><a class="WordCategory" href="#category_specialmode">特殊模式设置命令</a></h4><h3>&#39;value&#39;NUM</h3><div class="Arguments"><span class="ArgType">变量</span><span class="ArgMeaning">全局变量的边界</span><br /></div><div class="ContentBody"><p class="Description">必须写在脚本第一行。<br />;value500<br />全局变量将从500号开始。<br />（这个数字可以是0-4000之间的任意数字）<br />如果想同时使用800x600的窗口大小，请使用<br />;mode800,value500<br />命令。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">像;mode640,value500<br />这样的命令的话，因为;mode640是不支持的命令，之后的value会被无视掉。<br />(by BBS)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">规定500以下的变量都是全局变量</div><pre class="ExSource">;value500</pre></div><hr /><a href="#;$">;$</a> / <a href="#mode320">mode320</a> / <a href="#mode400">mode400</a> / <a href="#mode640">mode640</a> / <a href="#mode800">mode800</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="versionstr"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />versionstr</h2><h4><a class="WordCategory" href="#category_information">信息显示命令</a></h4><h3>versionstr STR,STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">第一行显示的文字</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">第二行显示的文字</span><br /></div><div class="ContentBody"><p class="Description">改变在版本信息里显示的文字。<br />第一个参数是第一行，第二个是第二行。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="voicevol"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />voicevol</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>voicevol NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">音量(0～100）</span><br /></div><div class="ContentBody"><p class="Description">设置语音的音量。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">音量值不会自动保存，请手动管理。<br />但是使用nsogg.dll或是nsogg2.dll时会恢复存档时的音量。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">设定语音的音量为100。（0-100）</div><pre class="ExSource">voicevol 100</pre></div><hr /><a href="#bgmvol">bgmvol</a> / <a href="#chvol">chvol</a> / <a href="#mp3vol">mp3vol</a> / <a href="#sevol">sevol</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="vsp"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />vsp</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>vsp NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">精灵编号(0～255)</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">显示标志(0:不显示、1:显示)</span><br /></div><div class="ContentBody"><p class="Description">改变精灵的显示／不显示状态。<br />数字0为不显示，1为显示。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="vsp2"></a><h2><span class="WordVersion">Ver.2.80</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />vsp2</h2><h4><a class="WordCategory" href="#category_sprite_ex">扩展精灵相关命令</a></h4><h3>vsp2 NUM,NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">扩展精灵编号</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">显示标志(0:不显示/1:显示)</span><br /></div><div class="ContentBody"><p class="Description">切换扩展精灵的显示/不显示状态。和vsp的使用方式相同。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">不显示编号为0的扩展精灵。</div><pre class="ExSource">vsp2 0,0</pre></div><hr /><a href="#amsp2">amsp2</a> / <a href="#csp2">csp2</a> / <a href="#lsp2">lsp2</a> / <a href="#lsp2add">lsp2add</a> / <a href="#lsph2">lsph2</a> / <a href="#lsph2add">lsph2add</a> / <a href="#msp2">msp2</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="wait"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />wait</h2><h4><a class="WordCategory" href="#category_wait_timer">等待・定时器</a></h4><h3>wait NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">等待的时间(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">等待指定毫秒数的时间。鼠标点击则会跳过。<br />功能和特殊显示文字命令d相同，但是可以使用变量。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">因为在ver.2.96之后发生过CPU占用过高的问题，所以最好在ver2.95之前使用此命令。（by BBS)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="waittimer"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />waittimer</h2><h4><a class="WordCategory" href="#category_wait_timer">等待・定时器</a></h4><h3>waittimer NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">等待的时间(毫秒)</span><br /></div><div class="ContentBody"><p class="Description">等待内部计时器等于或者超过这个时间。<br />此命令为NScripter中最精确的测定等待时间的方法。<br />像图像效果等等的时间设定，都不如这个精确。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">有些版本中，因为指定值-经过时间未达到0就不会执行精灵动画的原因，有必要再使用wait 0的命令。by BBS)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="wave"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />wave</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>wave STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">WAVE文件名</span><br /></div><div class="ContentBody"><p class="Description">播放wave文件。<br />只循环一次。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="waveloop"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />waveloop</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>waveloop STR</h3><div class="Arguments"><span class="ArgType">字符串</span><span class="ArgMeaning">WAVE文件名</span><br /></div><div class="ContentBody"><p class="Description">播放wave文件。<br />此命令会让音乐循环播放。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="wavestop"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />wavestop</h2><h4><a class="WordCategory" href="#category_sound">音乐・音效命令</a></h4><h3>wavestop</h3><div class="ContentBody"><p class="Description">停止播放wave声音。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="windowback"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />windowback</h2><h4><a class="WordCategory" href="#category_image">图像显示命令</a></h4><h3>windowback</h3><div class="ContentBody"><p class="Description">将文字窗口插入到立绘同样的位置。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">Z轴上的位置是在立绘之前，也可以使立绘像精灵一样让窗口在其之后。<br />方法是指定比humanz的值小的值，则可以出现在窗口之前。 （by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#humanz">humanz</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="windowchip"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />windowchip</h2><h4><a class="WordCategory" href="#category_textwindow">文字窗口命令</a></h4><h3>windowchip NUM</h3><div class="Arguments"><span class="ArgType">数值</span><span class="ArgMeaning">要同步的精灵编号</span><br /></div><div class="ContentBody"><p class="Description">将指定的编号的精灵和文本窗口绑定，一起出现或者消失。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">将编号2的精灵和文本窗口绑定，一起出现或者消失。</div><pre class="ExSource">windowchip 2</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="windoweffect"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />windoweffect</h2><h4><a class="WordCategory" href="#category_textwindow">文字窗口命令</a></h4><h3>windoweffect EFFECT</h3><div class="Arguments"><span class="ArgType">效果</span><span class="ArgMeaning">指定的效果</span><br /></div><div class="ContentBody"><p class="Description">指定文本窗口显示／消失的时候的效果。<br />参数除了效果编号以外，和effect命令相同。<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">指定窗口的显示和不显示切换时间为1秒。</div><pre class="ExSource">windoweffect 10,1000</pre></div><hr /><a href="#effect">effect</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="winexec"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【仅执行部分】</span><br /><span class="WordPhonetic"></span><br />winexec</h2><h4><a class="WordCategory" href="#category_execute">外部程序执行命令</a></h4><h3>winexec STR,NUM</h3><div class="Arguments"><span class="ArgType">文字串</span><span class="ArgMeaning">执行文件名</span><br /><span class="ArgType">数值</span><span class="ArgMeaning">同步标志(0:异步、!</span><span class="ArgMeaning">0:同步)</span><br /></div><div class="ContentBody"><p class="Description">执行一个外部可执行文件。使用WinExec API来执行。<br />全屏时使用SW_MAXIMIZE参数启动，通常时使用SW_SHOWNORMAL参数启动。<br />数字如果指定0之外的数字和此程序同步。<br />程序重新执行会向NScripter窗口发送WM_USER+10消息，程序终止则会发送WM_USER+20。<br />如果指定的数字为0，则只会启动程序。<br />作为和Dolls Antique的DEMO程序通信的命令而使用。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="yesnobox"></a><h2><span class="WordVersion">Ver.2.48</span><span class="WordField">【定义部分・执行部分两用】</span><br /><span class="WordPhonetic"></span><br />yesnobox</h2><h4><a class="WordCategory" href="#category_additional">追加功能</a></h4><h3>yesnobox %VAR,STR,STR</h3><div class="Arguments"><span class="ArgType">数字变量</span><span class="ArgMeaning">是为1，否为0</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">显示的文字</span><br /><span class="ArgType">字符串</span><span class="ArgMeaning">对话框的标题</span><br /></div><div class="ContentBody"><p class="Description">弹出一个Windows的是否对话框，根据玩家的选择来为变量赋值。<br />	</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">载入存档确认</div><pre class="ExSource">yesnobox %0,&quot;载入这个存档吗&quot;,&quot;载入存档&quot;</pre></div><hr /><a href="#okcancelbox">okcancelbox</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="zenkakko"></a><h2><span class="WordVersion">Ver.</span><span class="WordVersion">非正式</span><span class="WordField">【仅定义部分】</span><br /><span class="WordPhonetic"></span><br />zenkakko</h2><h4><a class="WordCategory" href="#category_tag">文本标签相关</a></h4><h3>zenkakko</h3><div class="ContentBody"><p class="Description">使用全角粗体的括弧来指定tag。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">不支持最新版本。到达【】的时候会出错强制终止。ver.2.82之前都能正常工作。(by senzogawa)<br />分割的文字为半角「/」，必须是这个字符。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">全角的粗体括号用于指定tag。</div><pre class="ExSource">
*define
pretextgosub *pretextproc
zenkakko
game
*start
【名称/语音】「台词」
click
end

*pretextproc
gettag $0,$1
mesbox $0,$1 ; 題名が&quot;音声&quot;、本文が&quot;名前&quot;のダイアログを表示
return
</pre></div><hr /><a href="#gettag">gettag</a> / <a href="#pretextgosub">pretextgosub</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div></div><div id="FOOTER"></div></body></html>